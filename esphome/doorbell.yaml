esphome:
  name: doorbell
  friendly_name: Doorbell

esp8266:
  board: esp01_1m

# Enable logging
logger:

# Enable Home Assistant API
api:
  encryption:
    key: !secret doorbell_api_key

ota:
  - platform: esphome
    password: !secret doorbell_ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  manual_ip:
    static_ip: 192.168.18.36
    gateway: 192.168.18.1
    subnet: 255.255.255.0

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Doorbell"
    password: !secret ap_password

captive_portal:
  
binary_sensor:
  - platform: gpio
    name: Motion
    id: motion
    device_class: motion
    pin: 12
  - platform: gpio
    name: Button
    id: button
    pin: 
      number: 3
      inverted: True
    filters:
      - delayed_off: 10s
