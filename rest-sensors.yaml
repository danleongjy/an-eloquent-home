- resource: 'http://192.168.18.102:2283/api/server/statistics'
  scan_interval: 60
  headers:
    x-api-key: !secret immich_apikey
  sensor:
    - name: Immich Photos
      unique_id: sensor.immich_photos
      value_template: "{{ value_json['photos'] }}"
      availability: "{{ value_json['photos'] is defined }}"
      unit_of_measurement: photos
    - name: Immich Videos
      unique_id: sensor.immich_videos
      value_template: "{{ value_json['videos'] }}"
      availability: "{{ value_json['videos'] is defined }}"
      unit_of_measurement: videos
    - name: Immich Usage Photos
      unique_id: sensor.immich_usage_photos
      value_template: "{{ value_json['usagePhotos'] / (1024 ** 3) }}"
      availability: "{{ value_json['usagePhotos'] is defined }}"
      unit_of_measurement: GB
    - name: Immich Usage Videos
      unique_id: sensor.immich_usage_videos
      value_template: "{{ value_json['usageVideos'] / (1024 ** 3) }}"
      availability: "{{ value_json['usageVideos'] is defined }}"
      unit_of_measurement: GB