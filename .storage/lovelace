{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "resources": [
        {
          "url": "/local/decluttering-card.js",
          "type": "module"
        }
      ],
      "button_card_templates": {
        "square_cell": {
          "aspect_ratio": "1/1",
          "show_name": false
        },
        "square_cell_background": {
          "template": "square_cell",
          "styles": {
            "card": [
              {
                "background-color": "var(--primary-background-color)"
              }
            ]
          }
        },
        "top_row": {
          "template": "square_cell",
          "show_name": false,
          "styles": {
            "card": [
              {
                "border-color": "grey"
              },
              {
                "border-width": "2px"
              }
            ]
          }
        },
        "turn_on": {
          "template": "square_cell",
          "hold_action": {
            "action": "more-info"
          }
        },
        "error": {
          "template": "turn_on",
          "tap_action": "more-info",
          "styles": {
            "card": [
              {
                "background-color": "#484848"
              }
            ],
            "icon": [
              {
                "color": "#FFFFFF"
              }
            ]
          }
        },
        "dishwasher_more_info": {
          "template": "square_cell",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/dishwasher"
          }
        },
        "rice_cooker_more_info": {
          "template": "square_cell",
          "hold_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/rice_cooker"
          }
        },
        "stove_more_info": {
          "template": "square_cell",
          "hold_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/stove"
          }
        },
        "vacuum_more_info": {
          "template": "top_row",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/vacuum"
          },
          "hold_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/vacuum"
          }
        },
        "washer_more_info": {
          "template": "square_cell",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/washer"
          }
        },
        "zigbee_endpoint": {
          "template": "square_cell",
          "state": [
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.zigbee_lqi_threshold_poor'].state) ]]]",
              "color": "#9e110d"
            },
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.zigbee_lqi_threshold_moderate'].state) ]]]",
              "color": "#f2900f"
            },
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.zigbee_lqi_threshold_good'].state) ]]]",
              "color": "#b4fab4"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "zigbee_router": {
          "template": "zigbee_endpoint",
          "styles": {
            "card": [
              {
                "border-color": "grey"
              },
              {
                "border-width": "0.5px"
              }
            ]
          }
        },
        "sensor_diag": {
          "template": "square_cell",
          "color_type": "card",
          "show_icon": false,
          "tap_action": {
            "action": "more-info"
          }
        },
        "sensor_binary": {
          "template": "sensor_diag",
          "state": [
            {
              "value": "on",
              "color": "#b4fab4"
            },
            {
              "value": "off",
              "color": "#9e110d"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "sensor_motion": {
          "template": "sensor_binary",
          "label": "[[[ return parseInt((Date.now() - Date.parse(entity.last_updated)) / 60000) ]]]",
          "show_label": true
        },
        "sensor_temperature": {
          "template": "sensor_diag",
          "label": "[[[ return parseInt(entity.state) ]]]",
          "show_label": true,
          "state": [
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.temperature_threshold_cold'].state) ]]]",
              "color": "#b4fab4"
            },
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.temperature_threshold_warm'].state) ]]]",
              "color": "#f2900f"
            },
            {
              "operator": ">",
              "value": "[[[ return parseInt(states['input_number.temperature_threshold_warm'].state) ]]]",
              "color": "#9e110d"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "sensor_humidity": {
          "template": "sensor_diag",
          "label": "[[[ return parseInt(entity.state) ]]]",
          "show_label": true,
          "state": [
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.humidity_threshold_low'].state) ]]]",
              "color": "#b4fab4"
            },
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.humidity_threshold_high'].state) ]]]",
              "color": "#f2900f"
            },
            {
              "operator": ">",
              "value": "[[[ return parseInt(states['input_number.humidity_threshold_high'].state) ]]]",
              "color": "#9e110d"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "sensor_lux": {
          "template": "sensor_diag",
          "label": "[[[ return parseInt(entity.state) ]]]",
          "show_label": true,
          "state": [
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.minimum_lux'].state) ]]]",
              "color": "#9e110d"
            },
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.comfortable_lux'].state) ]]]",
              "color": "#f2900f"
            },
            {
              "operator": ">",
              "value": "[[[ return parseInt(states['input_number.comfortable_lux'].state) ]]]",
              "color": "#b4fab4"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "floorplan_slider_icon": {
          "template": "square_cell",
          "hold_action": {
            "action": "more-info"
          },
          "styles": {
            "card": [
              {
                "background-color": "rgba(0,0,0,0.0)"
              }
            ],
            "icon": [
              {
                "height": "100%"
              },
              {
                "width": "100%"
              }
            ]
          }
        },
        "floorplan_square_cell": {
          "template": "square_cell",
          "styles": {
            "icon": [
              {
                "height": "80%"
              },
              {
                "width": "80%"
              }
            ]
          }
        },
        "floorplan_sensor_diag": {
          "template": "floorplan_square_cell",
          "color_type": "card",
          "tap_action": {
            "action": "more-info"
          }
        },
        "floorplan_sensor_cpu": {
          "template": "floorplan_sensor_diag",
          "state": [
            {
              "operator": "<=",
              "value": 5,
              "color": "#1c1c1c"
            },
            {
              "operator": "<=",
              "value": 10,
              "color": "var(--state-binary-sensor-color)"
            },
            {
              "operator": ">",
              "value": 10,
              "color": "#f2900f"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ],
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/network"
          }
        },
        "nextbus": {
          "show_icon": false,
          "show_name": false,
          "variables": {
            "service_no": "",
            "bus_stop_binary_sensor": "binary_sensor.sims_drive_market_bus_stop",
            "comfortable_walk_time": "[[[ return states[variables.bus_stop_binary_sensor].attributes.comfortable_walk_time ]]]",
            "min_walk_time": "[[[ return states[variables.bus_stop_binary_sensor].attributes.min_walk_time ]]]"
          },
          "custom_fields": {
            "service_no": "[[[ return variables.service_no ]]]",
            "nextbus1_min": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return ''\n  }\n  let min = Math.floor((Date.parse(entity.attributes.NextBus.EstimatedArrival) - Date.parse(Date())) / 60000)\n  if (isNaN(min)) {\n    return '' \n  } else if (min < 2) {\n    return 'Arriving'\n  } else {\n    return min + 'min'\n  }\n]]]\n",
            "nextbus2_min": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return ''\n  }\n  let min = Math.floor((Date.parse(entity.attributes.NextBus2.EstimatedArrival) - Date.parse(Date())) / 60000)\n  if (isNaN(min)) {\n    return '' \n  } else if (min < 2) {\n    return 'Arriving'\n  } else {\n    return min + 'min'\n  }\n]]]\n",
            "nextbus3_min": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return ''\n  }\n  let min = Math.floor((Date.parse(entity.attributes.NextBus3.EstimatedArrival) - Date.parse(Date())) / 60000)\n  if (isNaN(min)) {\n    return '' \n  } else if (min < 2) {\n    return 'Arriving'\n  } else {\n    return min + 'min'\n  }\n]]]\n",
            "nextbus1": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return `<ha-icon icon=\"mdi:circle-off-outline\" style=\"width: 40px; height: 40px\"></ha-icon>`\n    }\n  let bus = ``\n  if (entity.attributes.NextBus.Load == 'LSD') {\n    bus = `<font color = 'red'><ha-icon icon=\"mdi:account-group\" style=\"width: 15px; height: 15px\"/></font>`\n  } else if (entity.attributes.NextBus.Load == 'SDA') {\n    bus = `<font color = 'orange'><ha-icon icon=\"mdi:account-supervisor\" style=\"width: 15px; height: 15px\"/></font>`\n  } else if (entity.attributes.NextBus.Load == 'SEA') {\n    bus = `<ha-icon icon=\"mdi:account\" style=\"width: 15px; height: 15px\"></ha-icon>`\n  }\n  if (entity.attributes.NextBus.Type == 'SD') {\n    bus = bus + `<ha-icon icon=\"mdi:bus-side\" style=\"width: 40px; height: 40px\"></ha-icon>`\n  } else if (entity.attributes.NextBus.Type == 'DD') {\n    bus = bus + `<ha-icon icon=\"mdi:bus-double-decker\" style=\"width: 40px; height: 40px\"></ha-icon>`\n  }\n  return bus\n]]]\n",
            "nextbus2": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return ''\n    }\n  let bus = ``\n  if (entity.attributes.NextBus2.Load == 'LSD') {\n    bus = bus + `<font color = 'red'><ha-icon icon=\"mdi:account-group\" style=\"width: 15px; height: 15px\"/></font>`\n  } else if (entity.attributes.NextBus2.Load == 'SDA') {\n    bus = bus + `<font color = 'orange'><ha-icon icon=\"mdi:account-supervisor\" style=\"width: 15px; height: 15px\"/></font>`\n  } else if (entity.attributes.NextBus2.Load == 'SEA') {\n    bus = bus + `<ha-icon icon=\"mdi:account\" style=\"width: 15px; height: 15px\"></ha-icon>`\n  }\n  if (entity.attributes.NextBus2.Type == 'SD') {\n    bus = bus + `<ha-icon icon=\"mdi:bus-side\" style=\"width: 40px; height: 40px\"></ha-icon>`\n  } else if (entity.attributes.NextBus2.Type == 'DD') {\n    bus = bus + `<ha-icon icon=\"mdi:bus-double-decker\" style=\"width: 40px; height: 40px\"></ha-icon>`\n  }\n  return bus\n]]]\n",
            "nextbus3": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return ''\n    }\n  let bus = ``\n  if (entity.attributes.NextBus3.Load == 'LSD') {\n    bus = bus + `<font color = 'red'><ha-icon icon=\"mdi:account-group\" style=\"width: 15px; height: 15px\"/></font>`\n  } else if (entity.attributes.NextBus3.Load == 'SDA') {\n    bus = bus + `<font color = 'orange'><ha-icon icon=\"mdi:account-supervisor\" style=\"width: 15px; height: 15px\"/></font>`\n  } else if (entity.attributes.NextBus3.Load == 'SEA') {\n    bus = bus + `<ha-icon icon=\"mdi:account\" style=\"width: 15px; height: 15px\"></ha-icon>`\n  }\n  if (entity.attributes.NextBus3.Type == 'SD') {\n    bus = bus + `<ha-icon icon=\"mdi:bus-side\" style=\"width: 40px; height: 40px\"></ha-icon>`\n  } else if (entity.attributes.NextBus3.Type == 'DD') {\n    bus = bus + `<ha-icon icon=\"mdi:bus-double-decker\" style=\"width: 40px; height: 40px\"></ha-icon>`\n  }\n  return bus\n]]]\n"
          },
          "styles": {
            "card": [
              {
                "background-color": "rgba(0,0,0,0.0)"
              }
            ],
            "grid": [
              {
                "grid-template-areas": "'service_no nextbus1 nextbus2 nextbus3' 'service_no nextbus1_min nextbus2_min nextbus3_min'"
              },
              {
                "grid-template-columns": "1fr 1fr 1fr 1fr"
              },
              {
                "grid-template-rows": "min-content min-content"
              }
            ],
            "custom_fields": {
              "service_no": [
                {
                  "font-weight": "bold"
                },
                {
                  "font-size": "40px"
                }
              ],
              "nextbus1_min": [
                {
                  "color": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return 'white';\n  }\n  let min = Math.floor((Date.parse(entity.attributes.NextBus.EstimatedArrival) - Date.parse(Date())) / 60000)\n  if (isNaN(min)) {\n    return 'white';\n  } else if (min <= variables.min_walk_time) {\n    return 'red';\n  } else if (min <= variables.comfortable_walk_time) {\n    return 'orange';\n  } else {\n    return 'white';\n  }\n]]]\n"
                }
              ],
              "nextbus2_min": [
                {
                  "color": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return 'white';\n  }\n  let min = Math.floor((Date.parse(entity.attributes.NextBus2.EstimatedArrival) - Date.parse(Date())) / 60000)\n  if (isNaN(min)) {\n    return 'white';\n  } else if (min <= variables.min_walk_time) {\n    return 'red';\n  } else if (min <= variables.comfortable_walk_time) {\n    return 'orange';\n  } else {\n    return 'white';\n  }\n]]]\n"
                }
              ],
              "nextbus3_min": [
                {
                  "color": "[[[\n  if (states['binary_' + entity.entity_id + '_operating'].state == 'off' || entity.state == 'unknown') {\n    return 'white';\n  }\n  let min = Math.floor((Date.parse(entity.attributes.NextBus3.EstimatedArrival) - Date.parse(Date())) / 60000)\n  if (isNaN(min)) {\n    return 'white';\n  } else if (min <= variables.min_walk_time) {\n    return 'red';\n  } else if (min <= variables.comfortable_walk_time) {\n    return 'orange';\n  } else {\n    return 'white';\n  }\n]]]\n"
                }
              ]
            }
          }
        },
        "floorplan_nextbus": {
          "variables": {
            "stop_no": 1,
            "comfortable_walk_time": "[[[ return entity.attributes.comfortable_walk_time ]]]",
            "min_walk_time": "[[[ return entity.attributes.min_walk_time ]]]"
          },
          "icon": "[[[ return 'mdi:numeric-' + variables.stop_no.toString() + '-circle' ]]]",
          "label": "[[[ return ' ðŸš¶ï¸Ž ' + variables.comfortable_walk_time.toString() + 'min' ]]]",
          "show_label": true,
          "show_name": false,
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/transit"
          },
          "custom_fields": {
            "nextbus1": "[[[\n  if (entity.state == 'unavailable') {\n    return `No service`\n  } else if (entity.attributes.next_buses.length < 1) {\n    return `No service`\n  } else {\n    let bus = `<b>` + entity.attributes.next_buses[0].ServiceNo + `</b>: `\n    let min = Math.floor((Date.parse(entity.attributes.next_buses[0].EstimatedArrival) - Date.parse(Date())) / 60000)\n    if (isNaN(min)) {\n      bus = bus + 'c' \n    } else if (min < 2) {\n      bus = bus + `<font color = 'red'>Arr</font>`\n    } else {\n      if (min <= variables.min_walk_time) {\n        bus = bus + `<font color = 'red'>` + min + `min</font>`\n      } else if (min <= variables.comfortable_walk_time) {\n        bus = bus + `<font color = 'orange'>` + min + `min</font>`\n      } else {\n        bus = bus + min + `min`\n      }\n    }\n    return bus\n  }\n  return 'b'\n]]]\n",
            "nextbus2": "[[[\n  if (entity.state == 'unavailable') {\n    return ``\n  } else if (entity.attributes.next_buses.length < 2) {\n    return ``\n  } else {\n    let bus = `<b>` + entity.attributes.next_buses[1].ServiceNo + `</b>: `\n    let min = Math.floor((Date.parse(entity.attributes.next_buses[1].EstimatedArrival) - Date.parse(Date())) / 60000)\n    if (isNaN(min)) {\n      bus = bus + 'c' \n    } else if (min < 2) {\n      bus = bus + `<font color = 'red'>Arr</font>`\n    } else {\n      if (min <= variables.min_walk_time) {\n        bus = bus + `<font color = 'red'>` + min + `min</font>`\n      } else if (min <= variables.comfortable_walk_time) {\n        bus = bus + `<font color = 'orange'>` + min + `min</font>`\n      } else {\n        bus = bus + min + `min`\n      }\n    }\n    return bus\n  }\n  return 'b'\n]]]\n",
            "nextbus3": "[[[\n  if (entity.state == 'unavailable') {\n    return ``\n  } else if (entity.attributes.next_buses.length < 3) {\n    return ``\n  } else {\n    let bus = `<b>` + entity.attributes.next_buses[2].ServiceNo + `</b>: `\n    let min = Math.floor((Date.parse(entity.attributes.next_buses[2].EstimatedArrival) - Date.parse(Date())) / 60000)\n    if (isNaN(min)) {\n      bus = bus + 'c' \n    } else if (min < 2) {\n      bus = bus + `<font color = 'red'>Arr</font>`\n    } else {\n      if (min <= variables.min_walk_time) {\n        bus = bus + `<font color = 'red'>` + min + `min</font>`\n      } else if (min <= variables.comfortable_walk_time) {\n        bus = bus + `<font color = 'orange'>` + min + `min</font>`\n      } else {\n        bus = bus + min + `min`\n      }\n    }\n    return bus\n  }\n  return 'b'\n]]]\n"
          },
          "styles": {
            "grid": [
              {
                "grid-template-areas": "\"i l\" \"nextbus1 nextbus1\" \"nextbus2 nextbus2\" \"nextbus3 nextbus3\""
              },
              {
                "grid-template-rows": "1fr min-content min-content min-content"
              },
              {
                "grid-template-columns": "min-content 1fr"
              }
            ],
            "icon": [
              {
                "color": "rgb(181,230,29)"
              },
              {
                "height": "20px"
              },
              {
                "width": "20px"
              }
            ],
            "card": [
              {
                "border-radius": "0px"
              },
              {
                "border-color": "rgb(181,230,29)"
              },
              {
                "border-width": "2px"
              },
              {
                "padding": "0px"
              }
            ]
          }
        }
      },
      "decluttering_templates": {
        "light": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[light_entity]]",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:button-card",
                "entity": "[[light_entity]]",
                "template": "error"
              },
              "off": {
                "type": "custom:button-card",
                "entity": "[[light_entity]]",
                "template": "turn_on",
                "tap_action": {
                  "action": "call-service",
                  "service": "script.recommended_light_level",
                  "data": {
                    "light": "[[light_entity]]"
                  }
                }
              },
              "on": {
                "type": "custom:slider-button-card",
                "entity": "[[light_entity]]",
                "slider": {
                  "direction": "bottom-top",
                  "background": "solid",
                  "use_state_color": false,
                  "use_percentage_bg_opacity": false,
                  "show_track": false,
                  "toggle_on_click": false,
                  "force_square": true
                },
                "show_name": false,
                "show_state": false,
                "compact": true,
                "icon": {
                  "show": true,
                  "use_state_color": true,
                  "tap_action": {
                    "action": "more-info"
                  },
                  "icon": ""
                },
                "action_button": {
                  "mode": "toggle",
                  "icon": "mdi:power",
                  "show": false,
                  "show_spinner": true,
                  "tap_action": {
                    "action": null
                  }
                }
              }
            }
          }
        },
        "fan": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[fan_auto_control_automation]]",
            "default": "off",
            "states": {
              "off": {
                "type": "custom:state-switch",
                "entity": "[[fan_entity]]",
                "default": "disabled",
                "states": {
                  "disabled": {
                    "type": "custom:button-card",
                    "entity": "[[fan_entity]]",
                    "template": "error"
                  },
                  "off": {
                    "type": "custom:button-card",
                    "entity": "[[fan_entity]]",
                    "template": "turn_on",
                    "icon": "[[[ if (entity.attributes.direction == 'forward') return 'mdi:fan-chevron-down'; else return 'mdi:fan-chevron-up' ]]]",
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.turn_on",
                      "service_data": {
                        "entity_id": "[[fan_auto_control_automation]]"
                      }
                    }
                  },
                  "on": {
                    "type": "custom:state-switch",
                    "entity": "[[fan_direction_indicator]]",
                    "default": "forward",
                    "states": {
                      "forward": {
                        "type": "custom:slider-button-card",
                        "entity": "[[fan_entity]]",
                        "slider": {
                          "direction": "bottom-top",
                          "background": "solid",
                          "use_state_color": false,
                          "use_percentage_bg_opacity": false,
                          "show_track": false,
                          "toggle_on_click": false,
                          "force_square": true
                        },
                        "show_name": false,
                        "show_state": false,
                        "compact": true,
                        "icon": {
                          "show": true,
                          "use_state_color": true,
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": "[[fan_auto_control_automation]]"
                            }
                          },
                          "icon": "mdi:fan-chevron-down"
                        },
                        "action_button": {
                          "mode": "toggle",
                          "icon": "mdi:power",
                          "show": false,
                          "show_spinner": true,
                          "tap_action": {
                            "action": "toggle"
                          }
                        }
                      },
                      "reverse": {
                        "type": "custom:slider-button-card",
                        "entity": "[[fan_entity]]",
                        "slider": {
                          "direction": "bottom-top",
                          "background": "solid",
                          "use_state_color": false,
                          "use_percentage_bg_opacity": false,
                          "show_track": false,
                          "toggle_on_click": false,
                          "force_square": true
                        },
                        "show_name": false,
                        "show_state": false,
                        "compact": true,
                        "icon": {
                          "show": true,
                          "use_state_color": true,
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": "[[fan_auto_control_automation]]"
                            }
                          },
                          "icon": "mdi:fan-chevron-up"
                        },
                        "action_button": {
                          "mode": "toggle",
                          "icon": "mdi:power",
                          "show": false,
                          "show_spinner": true,
                          "tap_action": {
                            "action": "toggle"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "on": {
                "type": "custom:state-switch",
                "entity": "[[fan_entity]]",
                "default": "available",
                "states": {
                  "disabled": {
                    "type": "custom:button-card",
                    "entity": "[[fan_entity]]",
                    "template": "error"
                  },
                  "available": {
                    "type": "custom:button-card",
                    "entity": "[[fan_entity]]",
                    "template": "turn_on",
                    "icon": "[[[ if (entity.attributes.direction == 'forward') return 'mdi:fan-chevron-down'; else return 'mdi:fan-chevron-up' ]]]",
                    "label": "[[[ return entity.attributes.percentage + '%';]]]",
                    "show_label": true,
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.turn_off",
                      "service_data": {
                        "entity_id": "[[fan_auto_control_automation]]"
                      }
                    },
                    "tap_action": {
                      "action": "call-service",
                      "service": "[[[\n  if (entity.state == 'off')\n    return \"fan.turn_on\";\n  else\n    return \"fan.turn_off\";\n]]]\n",
                      "service_data": {
                        "entity_id": "[[fan_entity]]"
                      }
                    },
                    "styles": {
                      "icon": [
                        {
                          "animation": "[[[ \n  if (entity.state == 'on') {\n    return 'rotating ' + 1 / (entity.attributes.percentage / 100) + 's linear infinite'\n  } else {\n    return ''\n  }\n]]]"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "ac": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[ac_status_sensor]]",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:button-card",
                "entity": "[[climate_entity]]",
                "template": "error"
              },
              "auto": {
                "type": "custom:button-card",
                "entity": "[[climate_entity]]",
                "template": "turn_on",
                "label": "[[[ return entity.attributes.current_temperature + 'Â°C';]]]",
                "show_label": true,
                "hold_action": {
                  "action": "more-info",
                  "entity": "[[climate_entity]]"
                },
                "double_tap_action": {
                  "action": "call-service",
                  "service": "automation.turn_off",
                  "service_data": {
                    "entity_id": "[[ac_auto_control_automation]]"
                  }
                },
                "tap_action": {
                  "action": "call-service",
                  "service": "[[[\n  if (entity.state == 'off')\n    return \"climate.turn_on\";\n  else\n    return \"climate.turn_off\";\n]]]\n",
                  "service_data": {
                    "entity_id": "[[climate_entity]]"
                  }
                }
              },
              "off": {
                "type": "custom:button-card",
                "entity": "[[climate_entity]]",
                "template": "turn_on",
                "tap_action": {
                  "action": "call-service",
                  "service": "climate.turn_on",
                  "service_data": {
                    "entity_id": "[[climate_entity]]"
                  }
                },
                "double_tap_action": {
                  "action": "call-service",
                  "service": "automation.turn_on",
                  "service_data": {
                    "entity_id": "[[ac_auto_control_automation]]"
                  }
                }
              },
              "cool": {
                "type": "custom:slider-button-card",
                "entity": "[[climate_entity]]",
                "slider": {
                  "direction": "bottom-top",
                  "background": "solid",
                  "use_state_color": false,
                  "use_percentage_bg_opacity": false,
                  "show_track": false,
                  "toggle_on_click": false,
                  "force_square": true
                },
                "show_name": false,
                "show_state": false,
                "compact": true,
                "icon": {
                  "show": true,
                  "use_state_color": true,
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.turn_on",
                    "service_data": {
                      "entity_id": "[[ac_auto_control_automation]]"
                    }
                  },
                  "icon": ""
                },
                "action_button": {
                  "mode": "toggle",
                  "icon": "mdi:power",
                  "show": false,
                  "show_spinner": true,
                  "tap_action": {
                    "action": "toggle"
                  }
                }
              }
            }
          }
        },
        "cover": {
          "default": [
            {
              "cover_icon": "mdi:roller-shade"
            }
          ],
          "card": {
            "type": "custom:state-switch",
            "entity": "[[cover_position_sensor]]",
            "default": "not_fully_closed",
            "states": {
              "0": {
                "type": "custom:button-card",
                "entity": "[[cover_entity]]",
                "template": "turn_on",
                "color": "rgb(68,115,158)",
                "tap_action": {
                  "action": "call-service",
                  "service": "cover.open_cover",
                  "service_data": {
                    "entity_id": "[[cover_entity]]"
                  }
                }
              },
              "unavailable": {
                "type": "custom:button-card",
                "entity": "[[cover_entity]]",
                "template": "error"
              },
              "not_fully_closed": {
                "type": "custom:slider-button-card",
                "entity": "[[cover_entity]]",
                "slider": {
                  "direction": "bottom-top",
                  "background": "solid",
                  "use_state_color": false,
                  "use_percentage_bg_opacity": false,
                  "toggle_on_click": false,
                  "show_track": false,
                  "force_square": true,
                  "invert": false
                },
                "show_name": false,
                "show_state": false,
                "compact": true,
                "icon": {
                  "show": true,
                  "use_state_color": true,
                  "tap_action": {
                    "action": "more-info"
                  },
                  "icon": "[[cover_icon]]"
                },
                "action_button": {
                  "mode": "toggle",
                  "icon": "mdi:power",
                  "show": false,
                  "show_spinner": true,
                  "tap_action": {
                    "action": "toggle"
                  }
                }
              }
            }
          }
        },
        "media_player": {
          "card": {
            "type": "custom:slider-button-card",
            "entity": "[[media_player_entity]]",
            "icon": {
              "show": true,
              "use_state_color": true,
              "tap_action": {
                "action": "call-service",
                "service": "media_player.media_play_pause",
                "service_data": {
                  "entity_id": "[[media_player_entity]]"
                }
              }
            },
            "slider": {
              "direction": "bottom-top",
              "background": "solid",
              "use_state_color": false,
              "use_percentage_bg_opacity": false,
              "show_track": false,
              "toggle_on_click": false,
              "force_square": true
            },
            "show_name": false,
            "show_state": false,
            "compact": true,
            "action_button": {
              "mode": "toggle",
              "icon": "mdi:power",
              "show": false,
              "show_spinner": true,
              "tap_action": {
                "action": "toggle"
              }
            }
          }
        },
        "floorplan_slider": {
          "card": {
            "type": "custom:slider-button-card",
            "entity": "[[slider_entity]]",
            "slider": {
              "direction": "bottom-top",
              "background": "solid",
              "use_state_color": false,
              "use_percentage_bg_opacity": false,
              "show_track": false,
              "toggle_on_click": false,
              "force_square": true,
              "invert": false
            },
            "show_name": false,
            "show_state": false,
            "compact": true,
            "icon": {
              "show": false,
              "use_state_color": true,
              "tap_action": {
                "action": "more-info"
              },
              "icon": ""
            },
            "action_button": {
              "mode": "toggle",
              "icon": "mdi:power",
              "show": false,
              "show_spinner": true,
              "tap_action": {
                "action": null
              }
            }
          }
        },
        "floorplan_slider_icon_disabled": {
          "card": {
            "type": "custom:button-card",
            "entity": "[[entity]]",
            "template": "floorplan_slider_icon",
            "styles": {
              "icon": [
                {
                  "color": "#484848"
                }
              ]
            }
          }
        },
        "floorplan_slider_light_icon": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[light_entity]]",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[light_entity]]"
                  }
                ]
              },
              "off": {
                "type": "custom:button-card",
                "entity": "[[light_entity]]",
                "template": "floorplan_slider_icon",
                "tap_action": {
                  "action": "call-service",
                  "service": "script.recommended_light_level",
                  "data": {
                    "light": "[[light_entity]]"
                  }
                }
              },
              "on": {
                "type": "custom:button-card",
                "entity": "[[light_entity]]",
                "template": "floorplan_slider_icon",
                "tap_action": {
                  "action": "toggle"
                }
              }
            }
          }
        },
        "floorplan_slider_fan_icon": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[fan_entity]]",
            "default": "available",
            "states": {
              "unavailable": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[fan_entity]]"
                  }
                ]
              },
              "unknown": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[fan_entity]]"
                  }
                ]
              },
              "available": {
                "type": "custom:state-switch",
                "entity": "[[fan_auto_control_automation]]",
                "default": "off",
                "states": {
                  "off": {
                    "type": "custom:button-card",
                    "entity": "[[fan_entity]]",
                    "template": "floorplan_slider_icon",
                    "icon": "[[[ \n  if (entity.attributes.direction == 'forward') \n    return 'mdi:fan-chevron-down'; \n  else \n    return 'mdi:fan-chevron-up';\n]]]",
                    "styles": {
                      "icon": [
                        {
                          "animation": "[[[ \n  if (entity.state == 'on') {\n    return 'rotating ' + 1 / (entity.attributes.percentage / 100) + 's linear infinite'\n  } else {\n    return ''\n  }\n]]]"
                        }
                      ]
                    },
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.toggle",
                      "service_data": {
                        "entity_id": "[[fan_auto_control_automation]]"
                      }
                    }
                  },
                  "on": {
                    "type": "custom:button-card",
                    "entity": "[[fan_entity]]",
                    "template": "floorplan_slider_icon",
                    "icon": "[[[ \n  if (entity.attributes.direction == 'forward') \n    return 'mdi:fan-chevron-down'; \n  else \n    return 'mdi:fan-chevron-up';\n]]]",
                    "custom_fields": {
                      "auto_control": "A"
                    },
                    "styles": {
                      "icon": [
                        {
                          "animation": "[[[ \n  if (entity.state == 'on') {\n    return 'rotating ' + 1 / (entity.attributes.percentage / 100) + 's linear infinite'\n  } else {\n    return ''\n  }\n]]]"
                        }
                      ],
                      "grid": [
                        {
                          "position": "relative"
                        }
                      ],
                      "custom_fields": {
                        "auto_control": [
                          {
                            "color": "#f2900f"
                          },
                          {
                            "font-size": "10px"
                          },
                          {
                            "font-weight": "bold"
                          },
                          {
                            "position": "absolute"
                          },
                          {
                            "right": "5%"
                          },
                          {
                            "top": "-5%"
                          }
                        ]
                      }
                    },
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.toggle",
                      "service_data": {
                        "entity_id": "[[fan_auto_control_automation]]"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "floorplan_slider_ac_icon": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[ac_entity]]",
            "default": "available",
            "states": {
              "unavailable": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[ac_entity]]"
                  }
                ]
              },
              "unknown": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[ac_entity]]"
                  }
                ]
              },
              "available": {
                "type": "custom:state-switch",
                "entity": "[[ac_auto_control_automation]]",
                "default": "off",
                "states": {
                  "off": {
                    "type": "custom:button-card",
                    "entity": "[[ac_entity]]",
                    "template": "floorplan_slider_icon",
                    "tap_action": {
                      "action": "call-service",
                      "service": "[[[\n  if (entity.state == 'off')\n    return \"climate.turn_on\";\n  else\n    return \"climate.turn_off\";\n]]]\n",
                      "service_data": {
                        "entity_id": "[[ac_entity]]"
                      }
                    },
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.toggle",
                      "service_data": {
                        "entity_id": "[[ac_auto_control_automation]]"
                      }
                    }
                  },
                  "on": {
                    "type": "custom:button-card",
                    "entity": "[[ac_entity]]",
                    "template": "floorplan_slider_icon",
                    "custom_fields": {
                      "auto_control": "A"
                    },
                    "styles": {
                      "grid": [
                        {
                          "position": "relative"
                        }
                      ],
                      "custom_fields": {
                        "auto_control": [
                          {
                            "color": "#f2900f"
                          },
                          {
                            "font-size": "10px"
                          },
                          {
                            "font-weight": "bold"
                          },
                          {
                            "position": "absolute"
                          },
                          {
                            "right": "5%"
                          },
                          {
                            "top": "-5%"
                          }
                        ]
                      }
                    },
                    "tap_action": {
                      "action": "call-service",
                      "service": "[[[\n  if (entity.state == 'off')\n    return \"climate.turn_on\";\n  else\n    return \"climate.turn_off\";\n]]]\n",
                      "service_data": {
                        "entity_id": "[[ac_entity]]"
                      }
                    },
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.toggle",
                      "service_data": {
                        "entity_id": "[[ac_auto_control_automation]]"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "floorplan_slider_cover_icon": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[cover_entity]]",
            "default": "enabled",
            "states": {
              "unavailable": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[cover_entity]]"
                  }
                ]
              },
              "unknown": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[cover_entity]]"
                  }
                ]
              },
              "enabled": {
                "type": "custom:state-switch",
                "entity": "[[cover_auto_control_automation]]",
                "default": "off",
                "states": {
                  "off": {
                    "type": "custom:button-card",
                    "entity": "[[cover_entity]]",
                    "template": "floorplan_slider_icon",
                    "styles": {
                      "icon": [
                        {
                          "color": "[[[\n  if (entity.attributes.current_position == 0)\n    return 'rgb(68,115,158)';\n  else\n    return 'var(--state-cover-color)'\n]]]\n"
                        }
                      ]
                    },
                    "tap_action": {
                      "action": "call-service",
                      "service": "[[[\n  if (entity.attributes.current_position == 100)\n    return \"cover.close_cover\";\n  else\n    return \"cover.open_cover\";\n]]]\n",
                      "service_data": {
                        "entity_id": "[[cover_entity]]"
                      }
                    },
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.toggle",
                      "service_data": {
                        "entity_id": "[[cover_auto_control_automation]]"
                      }
                    }
                  },
                  "on": {
                    "type": "custom:button-card",
                    "entity": "[[cover_entity]]",
                    "template": "floorplan_slider_icon",
                    "custom_fields": {
                      "auto_control": "A"
                    },
                    "styles": {
                      "grid": [
                        {
                          "position": "relative"
                        }
                      ],
                      "custom_fields": {
                        "auto_control": [
                          {
                            "color": "#f2900f"
                          },
                          {
                            "font-size": "10px"
                          },
                          {
                            "font-weight": "bold"
                          },
                          {
                            "position": "absolute"
                          },
                          {
                            "right": "5%"
                          },
                          {
                            "top": "-5%"
                          }
                        ]
                      },
                      "icon": [
                        {
                          "color": "[[[\n  if (entity.attributes.current_position == 0)\n    return 'rgb(68,115,158)';\n  else\n    return 'var(--state-cover-color)'\n]]]\n"
                        }
                      ]
                    },
                    "tap_action": {
                      "action": "call-service",
                      "service": "[[[\n  if (entity.attributes.current_position == 100)\n    return \"cover.close_cover\";\n  else\n    return \"cover.open_cover\";\n]]]\n",
                      "service_data": {
                        "entity_id": "[[cover_entity]]"
                      }
                    },
                    "double_tap_action": {
                      "action": "call-service",
                      "service": "automation.toggle",
                      "service_data": {
                        "entity_id": "[[cover_auto_control_automation]]"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "floorplan_slider_media_player_icon": {
          "card": {
            "type": "custom:state-switch",
            "entity": "[[media_player_entity]]",
            "default": "not_off",
            "states": {
              "unavailable": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[media_player_entity]]"
                  }
                ]
              },
              "unknown": {
                "type": "custom:decluttering-card",
                "template": "floorplan_slider_icon_disabled",
                "variables": [
                  {
                    "entity": "[[media_player_entity]]"
                  }
                ]
              },
              "off": {
                "type": "custom:button-card",
                "entity": "[[media_player_entity]]",
                "template": "floorplan_slider_icon",
                "tap_action": {
                  "action": "toggle"
                }
              },
              "not_off": {
                "type": "custom:button-card",
                "entity": "[[media_player_entity]]",
                "template": "floorplan_slider_icon",
                "entity_picture": "[[[ return entity.attributes.entity_picture ]]]",
                "show_entity_picture": true,
                "tap_action": {
                  "action": "call-service",
                  "service": "media_player.media_play_pause",
                  "service_data": {
                    "entity_id": "[[media_player_entity]]"
                  }
                }
              }
            }
          }
        }
      },
      "apexcharts_card_templates": {
        "standard": {
          "header": {
            "show": true,
            "show_states": true,
            "colorize_states": true
          },
          "graph_span": "4h",
          "apex_config": {
            "grid": {
              "show": false
            }
          },
          "all_series_config": {
            "curve": "stepline",
            "stroke_width": 2,
            "show": {
              "legend_value": false
            }
          }
        }
      },
      "views": [
        {
          "title": "Home",
          "icon": "mdi:home-assistant",
          "theme": "no_border",
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            },
            {
              "user": "2651cb9042dd41acb0b54327457a9a14"
            },
            {
              "user": "991e26502d6844dea64362276571d6c1"
            },
            {
              "user": "361884c4dcb94d5f9d7e583d64844264"
            }
          ],
          "type": "panel",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "view_layout": {
                    "position": "main"
                  },
                  "conditions": [
                    {
                      "condition": "screen",
                      "media_query": "(min-width: 1024px)"
                    }
                  ],
                  "card": {
                    "type": "picture-elements",
                    "elements": [
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "weather"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "entity": "image.rain_radar_animation",
                            "style": {
                              "top": "50%",
                              "left": "85%",
                              "height": "59%",
                              "width": "29.5%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "transit"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "image": "/local/floorplan/transit_basemap_numbered.png",
                            "style": {
                              "top": "50%",
                              "left": "85%",
                              "height": "59%",
                              "width": "29.5%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "image",
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        },
                        "image": "/local/floorplan/floorplan_transparent_background.png",
                        "tap_action": {
                          "action": "none"
                        },
                        "hold_action": {
                          "action": "none"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_kitchen.png",
                        "entity": "sensor.floorplan_kitchen_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_master_bathroom.png",
                        "entity": "sensor.floorplan_master_bathroom_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_parents_room.png",
                        "entity": "sensor.floorplan_parents_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_study_room.png",
                        "entity": "sensor.floorplan_study_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_living_room.png",
                        "entity": "sensor.floorplan_living_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_dining_room.png",
                        "entity": "sensor.floorplan_dining_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_hallway.png",
                        "entity": "sensor.floorplan_hallway_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_elis_room.png",
                        "entity": "sensor.floorplan_elis_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_elenas_room.png",
                        "entity": "sensor.floorplan_elenas_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_powder_room.png",
                        "entity": "sensor.floorplan_powder_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_junior_bathroom.png",
                        "entity": "sensor.floorplan_junior_bathroom_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_playroom.png",
                        "entity": "sensor.floorplan_playroom_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_yard.png",
                        "entity": "sensor.floorplan_yard_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.floorplan_openings_view",
                            "state": "on"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_yard_window_1.png",
                            "entity": "binary_sensor.yard_window_1",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_yard_window_2.png",
                            "entity": "binary_sensor.yard_window_2",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_powder_room_door.png",
                            "entity": "binary_sensor.powder_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_junior_bathroom_door.png",
                            "entity": "binary_sensor.junior_bathroom_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_elenas_room_door.png",
                            "entity": "binary_sensor.elenas_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_elis_room_door.png",
                            "entity": "binary_sensor.elis_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_main_door.png",
                            "entity": "binary_sensor.main_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_parents_room_door.png",
                            "entity": "binary_sensor.parents_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_master_bathroom_door.png",
                            "entity": "binary_sensor.master_bathroom_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_kitchen_window.png",
                            "entity": "binary_sensor.kitchen_window",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "image",
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        },
                        "image": "/local/floorplan/pointers_transparent_background_20231112.png",
                        "tap_action": {
                          "action": "none"
                        },
                        "hold_action": {
                          "action": "none"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "aspect_ratio": 1,
                        "style": {
                          "top": "50%",
                          "left": "85%",
                          "height": "59%",
                          "width": "29.5%"
                        },
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "[[[ return '/lovelace/' + states['input_select.floorplan_panel_view'].state ]]]"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "rgba(0,0,0,0.0)"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "5%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "input_boolean.away_mode",
                        "template": "top_row",
                        "double_tap_action": {
                          "action": "toggle"
                        },
                        "tap_action": {
                          "action": "more-info"
                        }
                      },
                      {
                        "type": "custom:state-switch",
                        "style": {
                          "top": "5%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "vacuum.roborock_s7",
                        "default": "disabled",
                        "states": {
                          "disabled": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "error",
                            "icon": "mdi:robot-vacuum",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/vacuum"
                            }
                          },
                          "error": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "vacuum_more_info",
                            "icon": "mdi:robot-vacuum-alert",
                            "styles": {
                              "card": [
                                {
                                  "background-color": "#9e110d"
                                }
                              ],
                              "icon": [
                                {
                                  "animation": "blink 2s ease infinite"
                                },
                                {
                                  "color": "#FFFFFF"
                                }
                              ]
                            }
                          },
                          "docked": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "vacuum_more_info",
                            "label": "[[[ \n  if (parseInt(entity.attributes.battery_level) <= 95)\n    return entity.attributes.battery_level + '%';\n  else\n    return ''\n]]]\n",
                            "show_label": true,
                            "color": "rgb(68,115,158)",
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "vacuum.start",
                              "service_data": {
                                "entity_id": "vacuum.roborock_s7"
                              }
                            }
                          },
                          "cleaning": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "vacuum_more_info",
                            "label": "[[[ return entity.attributes.battery_level + '%']]]",
                            "show_label": true,
                            "color": "rgb(253,216,53)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "vacuum.pause",
                              "service_data": {
                                "entity_id": "vacuum.roborock_s7"
                              }
                            }
                          },
                          "returning": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "vacuum_more_info",
                            "label": "[[[ return entity.attributes.battery_level + '%']]]",
                            "show_label": true,
                            "color": "rgb(253,216,53)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "vacuum.pause",
                              "service_data": {
                                "entity_id": "vacuum.roborock_s7"
                              }
                            }
                          },
                          "paused": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "vacuum_more_info",
                            "color": "rgb(68,115,158)",
                            "label": "[[[ return entity.attributes.battery_level + '%']]]",
                            "show_label": true,
                            "tap_action": {
                              "action": "call-service",
                              "service": "vacuum.start",
                              "service_data": {
                                "entity_id": "vacuum.roborock_s7"
                              }
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "#f2900f"
                                }
                              ],
                              "label": [
                                {
                                  "animation": "blink 2s ease infinite"
                                }
                              ]
                            }
                          },
                          "idle": {
                            "type": "custom:button-card",
                            "entity": "vacuum.roborock_s7",
                            "template": "vacuum_more_info",
                            "label": "[[[ return entity.attributes.battery_level + '%']]]",
                            "show_label": true,
                            "styles": {
                              "card": [
                                {
                                  "background-color": "#9e110d"
                                }
                              ],
                              "label": [
                                {
                                  "animation": "blink 2s ease infinite"
                                }
                              ]
                            }
                          }
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "5%",
                          "left": "15%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:tshirt-crew",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "yard"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.yard_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/playroom"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_yard'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.yard_light_entity"
                          }
                        ],
                        "style": {
                          "top": "5%",
                          "left": "20%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.yard_light_entity"
                          }
                        ],
                        "style": {
                          "top": "5%",
                          "left": "20%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:state-switch",
                        "style": {
                          "top": "5%",
                          "left": "25%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "sensor.washer_status",
                        "default": "disabled",
                        "states": {
                          "disabled": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "error"
                          },
                          "Off": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "color": "rgb(68,115,158)",
                            "template": "washer_more_info",
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['input_boolean.washer_load_clean'].state == 'on')\n    return '#b4fab4';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          "Standby": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info"
                          },
                          "Detecting": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "...",
                            "show_label": true
                          },
                          "Delay Set": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                            "show_label": true
                          },
                          "Washing": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                            "show_label": true
                          },
                          "Rinsing": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                            "show_label": true
                          },
                          "Spinning": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                            "show_label": true
                          },
                          "Finished": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "Done!",
                            "show_label": true
                          },
                          "Paused": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "Paused",
                            "show_label": true,
                            "color": "rgb(68,115,158)",
                            "styles": {
                              "label": [
                                {
                                  "color": "var(--primary-background-color)"
                                },
                                {
                                  "animation": "blink 2s ease infinite"
                                }
                              ]
                            }
                          },
                          "Error": {
                            "type": "custom:button-card",
                            "entity": "switch.washer_power",
                            "template": "washer_more_info",
                            "label": "Error",
                            "show_label": true,
                            "styles": {
                              "card": [
                                {
                                  "background-color": "#9e110d"
                                }
                              ],
                              "label": [
                                {
                                  "animation": "blink 2s ease infinite"
                                }
                              ]
                            }
                          }
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "5%",
                          "left": "32.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:pot-steam",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "kitchen"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.kitchen_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/kitchen"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_kitchen'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_kitchen_window_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_kitchen_window_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.kitchen_lights"
                          }
                        ],
                        "style": {
                          "top": "5%",
                          "left": "37.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.kitchen_lights"
                          }
                        ],
                        "style": {
                          "top": "5%",
                          "left": "37.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:state-switch",
                        "style": {
                          "top": "5%",
                          "left": "42.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "input_select.rice_cooker_status",
                        "default": "disabled",
                        "states": {
                          "disabled": {
                            "type": "custom:button-card",
                            "entity": "binary_sensor.rice_cooker",
                            "template": "error"
                          },
                          "Off": {
                            "type": "custom:button-card",
                            "entity": "switch.rice_cooker",
                            "template": "rice_cooker_more_info"
                          },
                          "Cooking": {
                            "type": "custom:button-card",
                            "entity": "binary_sensor.rice_cooker",
                            "template": "rice_cooker_more_info",
                            "label": "Cook",
                            "show_label": true
                          },
                          "Warming": {
                            "type": "custom:button-card",
                            "entity": "binary_sensor.rice_cooker",
                            "template": "rice_cooker_more_info",
                            "label": "Warm",
                            "show_label": true
                          },
                          "Standby": {
                            "type": "custom:button-card",
                            "entity": "switch.rice_cooker",
                            "template": "rice_cooker_more_info",
                            "label": "...",
                            "show_label": true
                          }
                        }
                      },
                      {
                        "type": "custom:state-switch",
                        "style": {
                          "top": "5%",
                          "left": "47.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "switch.stove_main_power",
                        "default": "disabled",
                        "states": {
                          "disabled": {
                            "type": "custom:button-card",
                            "entity": "switch.stove_main_power",
                            "template": "error"
                          },
                          "on": {
                            "type": "custom:button-card",
                            "entity": "switch.stove_main_power",
                            "template": "stove_more_info",
                            "icon": "[[[ return 'mdi:chevron-' + states['select.stove_current_burner'].state + '-circle-outline' ]]]",
                            "label": "[[[ \n  if (parseInt(states['number.stove_current_burner_timer'].state) >= 70)\n    return states['select.stove_current_burner_power'].state + '|1:' +\n      (parseInt(states['number.stove_current_burner_timer'].state) - 60).toString()\n  else if (parseInt(states['number.stove_current_burner_timer'].state) >= 60)\n    return states['select.stove_current_burner_power'].state + '|1:0' +\n      (parseInt(states['number.stove_current_burner_timer'].state) - 60).toString()\n  else if (parseInt(states['number.stove_current_burner_timer'].state) >= 10)\n    return states['select.stove_current_burner_power'].state + '|0:' +\n      states['number.stove_current_burner_timer'].state\n  else if (parseInt(states['number.stove_current_burner_timer'].state) > 0)\n    return states['select.stove_current_burner_power'].state + '|0:0' +\n      states['number.stove_current_burner_timer'].state\n  else\n    return states['select.stove_current_burner_power'].state\n]]]",
                            "show_label": true,
                            "tap_action": {
                              "action": "call-service",
                              "service": "select.select_option",
                              "service_data": {
                                "entity_id": "select.stove_current_burner",
                                "option": "[[[\n  if (states['select.stove_current_burner'].state == 'right')\n    return 'left'\n  else\n    return 'right'\n]]]"
                              }
                            }
                          },
                          "off": {
                            "type": "custom:button-card",
                            "entity": "switch.stove_main_power",
                            "template": "stove_more_info"
                          }
                        }
                      },
                      {
                        "type": "custom:state-switch",
                        "style": {
                          "top": "5%",
                          "left": "52.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "switch.dishwasher",
                        "default": "disabled",
                        "states": {
                          "disabled": {
                            "type": "custom:button-card",
                            "entity": "switch.dishwasher",
                            "template": "error"
                          },
                          "off": {
                            "type": "custom:button-card",
                            "entity": "switch.dishwasher",
                            "template": "dishwasher_more_info",
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['input_boolean.dishwasher_load_clean'].state == 'on')\n    return '#b4fab4';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          "on": {
                            "type": "custom:button-card",
                            "entity": "switch.dishwasher",
                            "template": "dishwasher_more_info",
                            "label": "[[[\n  if (states['input_select.dishwasher_status'].state == 'Washing')\n    return 'Wash'\n  else if (states['input_select.dishwasher_status'].state == 'Cooling')\n    return 'Cool'\n  else if (states['input_select.dishwasher_status'].state == 'Standby')\n    return '...'\n  else\n    return ''\n]]]\n",
                            "show_label": true
                          }
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "cover.kitchen_blind"
                          }
                        ],
                        "style": {
                          "top": "5%",
                          "left": "57.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_cover_icon",
                        "variables": [
                          {
                            "cover_entity": "cover.kitchen_blind"
                          },
                          {
                            "cover_auto_control_automation": "automation.kitchen_blind_auto_control"
                          }
                        ],
                        "style": {
                          "top": "5%",
                          "left": "57.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "62.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "media_player.kitchen_speaker"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "62.5%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_media_player_icon",
                        "variables": [
                          {
                            "media_player_entity": "media_player.kitchen_speaker"
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "weather"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "10%",
                              "left": "85%",
                              "height": "19%",
                              "width": "29.5%"
                            },
                            "entity": "weather.local_weather",
                            "show_name": false,
                            "show_state": true,
                            "custom_fields": {
                              "temp": "[[[ return states[\"sensor.local_outdoor_temperature\"].state + states[\"sensor.local_outdoor_temperature\"].attributes.unit_of_measurement]]]",
                              "otherdata": "[[[ return `<ha-icon icon=\"mdi:weather-rainy\" style=\"width: 12px; height: 12px;\"></ha-icon> ` + parseFloat(states[\"sensor.local_rainfall\"].state).toFixed(0).toString() + states[\"sensor.local_rainfall\"].attributes.unit_of_measurement + ` <ha-icon icon=\"mdi:water-percent\" style=\"width: 12px; height: 12px;\"></ha-icon>` + parseFloat(states[\"sensor.local_outdoor_humidity\"].state).toFixed(0).toString() + \"%\" + ` <ha-icon icon=\"mdi:weather-windy\" style=\"width: 12px; height: 12px;\"></ha-icon>` + parseFloat(states[\"sensor.local_wind_speed\"].state).toFixed(0).toString() + states[\"sensor.local_wind_speed\"].attributes.unit_of_measurement +  ` <ha-icon icon=\"mdi:navigation-variant\" style=\"width: 12px; height: 12px;\"></ha-icon>` + parseFloat(states[\"sensor.local_wind_bearing\"].state).toFixed(0).toString() + 'Â°' ]]]"
                            },
                            "styles": {
                              "grid": [
                                {
                                  "grid-template-areas": "\"i s\" \"i temp\" \"i otherdata\""
                                },
                                {
                                  "grid-template-rows": "min-content min-content min-content"
                                },
                                {
                                  "grid-template-columns": "0.7fr min-content"
                                }
                              ],
                              "icon": [
                                {
                                  "height": "50px"
                                },
                                {
                                  "width": "50px"
                                }
                              ],
                              "state": [
                                {
                                  "justify-self": "start"
                                }
                              ],
                              "custom_fields": {
                                "temp": [
                                  {
                                    "font-size": "36px"
                                  },
                                  {
                                    "text-align": "left"
                                  }
                                ],
                                "otherdata": [
                                  {
                                    "font-size": "12px"
                                  },
                                  {
                                    "color": "#777777"
                                  },
                                  {
                                    "align-self": "middle"
                                  },
                                  {
                                    "text-align": "right"
                                  }
                                ]
                              }
                            },
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/weather"
                            }
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "transit"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "10%",
                              "left": "91.5%",
                              "height": "19%",
                              "width": "16.5%"
                            },
                            "aspect_ratio": "33/19",
                            "entity": "sensor.date",
                            "label": "[[[ \n  return (helpers.formatDateWeekdayShort(entity.state) + ' ' + \n          helpers.formatDateShort(entity.state).split(' ')[1] + ' ' + \n          helpers.formatDateShort(entity.state).split(' ')[0] + ' ' + \n          helpers.formatDateYear(entity.state))\n]]]\n",
                            "show_name": false,
                            "show_icon": false,
                            "show_state": true,
                            "show_label": true,
                            "state_display": "[[[ \n  if (states['calendar.public_holidays'].state == 'on') {\n    return 'ðŸŽ‰ Happy ' + states['calendar.public_holidays'].attributes.message + '!'\n  } else {\n    return ' '\n  } \n]]]\n",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            },
                            "custom_fields": {
                              "greeting": "[[[\n  if (parseInt(states['sensor.time'].state.split(':')[0]) < 12) {\n    return 'Good morning ðŸŒ…'\n  } else if (parseInt(states['sensor.time'].state.split(':')[0]) < 18) {\n    return 'Good afternoon ðŸŒ‡'\n  } else {\n    return 'Good evening ðŸŒƒ'\n  }\n]]]\n"
                            },
                            "styles": {
                              "state": [
                                {
                                  "white-space": "initial"
                                },
                                {
                                  "text-overflow": "initial"
                                },
                                {
                                  "overflow": "initial"
                                }
                              ],
                              "grid": [
                                {
                                  "grid-template-areas": "\"greeting\" \"l\" \"s\""
                                },
                                {
                                  "grid-template-rows": "1fr 1fr min-content"
                                },
                                {
                                  "grid_template-columns": "1fr"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "10%",
                              "left": "77%",
                              "height": "19%",
                              "width": "12%"
                            },
                            "aspect_ratio": "24/19",
                            "show_icon": false,
                            "show_name": false,
                            "show_state": false,
                            "entity": "binary_sensor.next_alarm_imminent",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            },
                            "custom_fields": {
                              "daniel": "D",
                              "grace": "G",
                              "eli": "E",
                              "elena": "e"
                            },
                            "styles": {
                              "grid": [
                                {
                                  "position": "relative"
                                }
                              ],
                              "custom_fields": {
                                "daniel": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "5%"
                                  },
                                  {
                                    "top": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(0) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ],
                                "grace": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "right": "5%"
                                  },
                                  {
                                    "top": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(1) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ],
                                "eli": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "5%"
                                  },
                                  {
                                    "bottom": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(2) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ],
                                "elena": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "right": "5%"
                                  },
                                  {
                                    "bottom": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(3) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "image",
                            "style": {
                              "top": "10%",
                              "left": "77%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "entity": "binary_sensor.next_alarm_imminent",
                            "image": "/local/clock_faces/blank_clock_face.png",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            },
                            "state_filter": {
                              "on": "grayscale(100%) contrast(0%) opacity(50%) drop-shadow(0 0 0 yellow) hue-rotate(330deg) saturate(400%) brightness(130%)",
                              "off": "grayscale(100%) contrast(0%) opacity(50%) drop-shadow(0 0 0 blue) hue-rotate(330deg) brightness(150%) saturate(60%)"
                            }
                          },
                          {
                            "type": "image",
                            "style": {
                              "top": "10%",
                              "left": "77%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "entity": "image.clock_face",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "30%",
                              "left": "75%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "binary_sensor.sims_drive_market_bus_stop"
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "30%",
                              "left": "85%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "binary_sensor.opposite_aljunied_station_bus_stop",
                            "variables": {
                              "stop_no": 2
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "30%",
                              "left": "95%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "binary_sensor.aljunied_station_bus_stop",
                            "variables": {
                              "stop_no": 3
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "70%",
                              "left": "95%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "binary_sensor.before_lorong_23_geylang_bus_stop",
                            "variables": {
                              "stop_no": 4
                            }
                          }
                        ]
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "15%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:toilet",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "powder_room"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.powder_room_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/powder_room"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_powder_room'].state == 'on'\n      && states['binary_sensor.powder_room_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.powder_room_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "15%",
                          "left": "12.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.powder_room_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "15%",
                          "left": "12.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "15%",
                          "left": "17.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "switch.water_heater",
                        "template": "turn_on"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "15%",
                          "left": "50%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:teddy-bear",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "playroom"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.playroom_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/playroom"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.playroom_lights"
                          }
                        ],
                        "style": {
                          "top": "15%",
                          "left": "55%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.playroom_lights"
                          }
                        ],
                        "style": {
                          "top": "15%",
                          "left": "55%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "25%",
                          "left": "5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:shower-head",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "junior_bathroom"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.junior_bathroom_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/junior_bathroom"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_junior_bathroom'].state == 'on'\n      && states['binary_sensor.junior_bathroom_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.junior_bathroom_lights"
                          }
                        ],
                        "style": {
                          "top": "25%",
                          "left": "10%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.junior_bathroom_lights"
                          }
                        ],
                        "style": {
                          "top": "25%",
                          "left": "10%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "35%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:swap-horizontal-circle-outline",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "hallway"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.hallway_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/hallway"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.hallway_lights"
                          }
                        ],
                        "style": {
                          "top": "35%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.hallway_lights"
                          }
                        ],
                        "style": {
                          "top": "35%",
                          "left": "7.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "22.5%",
                          "left": "51.25%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.node_proxmox_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "27.5%",
                          "left": "51.25%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.qemu_pfsense_100_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "22.5%",
                          "left": "53.875%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.qemu_eloquent_house_101_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "27.5%",
                          "left": "53.875%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.qemu_docker_102_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "55%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "square_cell",
                        "icon": "mdi:bed",
                        "name": "Elena",
                        "show_name": true,
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.elenas_room_motion_timeout"
                          }
                        },
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "elenas_room"
                            ]
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/elenas_room"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_elenas_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.elenas_room_lights"
                          }
                        ],
                        "style": {
                          "top": "55%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.elenas_room_lights"
                          }
                        ],
                        "style": {
                          "top": "55%",
                          "left": "7.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "fan.elenas_room_fan"
                          }
                        ],
                        "style": {
                          "top": "55%",
                          "left": "12.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_fan_icon",
                        "variables": [
                          {
                            "fan_entity": "fan.elenas_room_fan"
                          },
                          {
                            "fan_auto_control_automation": "automation.elenas_room_fan_auto_control"
                          }
                        ],
                        "style": {
                          "top": "55%",
                          "left": "12.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "55%",
                          "left": "17.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "climate.elenas_room_ac"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "55%",
                          "left": "17.5%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_ac_icon",
                        "variables": [
                          {
                            "ac_entity": "climate.elenas_room_ac"
                          },
                          {
                            "ac_auto_control_automation": "automation.elenas_room_ac_auto_control"
                          }
                        ]
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "65%",
                          "left": "5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:bed",
                        "name": "Eli",
                        "template": "square_cell",
                        "show_name": true,
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.elis_room_motion_timeout"
                          }
                        },
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "elis_room"
                            ]
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/elis_room"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_elis_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.elis_room_lights"
                          }
                        ],
                        "style": {
                          "top": "65%",
                          "left": "10%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.elis_room_lights"
                          }
                        ],
                        "style": {
                          "top": "65%",
                          "left": "10%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "fan.elis_room_fan"
                          }
                        ],
                        "style": {
                          "top": "65%",
                          "left": "15%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_fan_icon",
                        "variables": [
                          {
                            "fan_entity": "fan.elis_room_fan"
                          },
                          {
                            "fan_auto_control_automation": "automation.elis_room_fan_auto_control"
                          }
                        ],
                        "style": {
                          "top": "65%",
                          "left": "15%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "65%",
                          "left": "20%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "climate.elis_room_ac"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "65%",
                          "left": "20%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_ac_icon",
                        "variables": [
                          {
                            "ac_entity": "climate.elis_room_ac"
                          },
                          {
                            "ac_auto_control_automation": "automation.elis_room_ac_auto_control"
                          }
                        ]
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "75%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:pasta",
                        "template": "square_cell",
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.dining_room_motion_timeout"
                          }
                        },
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "dining_room"
                            ]
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/dining_room"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_dining_room'].state == 'on'\n      && states['binary_sensor.main_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.dining_room_lights"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "12.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.dining_room_lights"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "12.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.dining_room_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "17.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.dining_room_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "17.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "fan.dining_room_fan"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "22.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_fan_icon",
                        "variables": [
                          {
                            "fan_entity": "fan.dining_room_fan"
                          },
                          {
                            "fan_auto_control_automation": "automation.dining_room_fan_auto_control"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "22.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "75%",
                          "left": "27.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "climate.dining_room_ac"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "75%",
                          "left": "27.5%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_ac_icon",
                        "variables": [
                          {
                            "ac_entity": "climate.dining_room_ac"
                          },
                          {
                            "ac_auto_control_automation": "automation.dining_room_ac_auto_control"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "cover.dining_room_blinds"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "32.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_cover_icon",
                        "variables": [
                          {
                            "cover_entity": "cover.dining_room_blinds"
                          },
                          {
                            "cover_auto_control_automation": "automation.south_facing_blinds_auto_control"
                          }
                        ],
                        "style": {
                          "top": "75%",
                          "left": "32.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "2.5%",
                          "left": "68.75%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "icon": "mdi:chevron-right-circle-outline",
                        "template": "square_cell_background",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_select.select_next",
                          "service_data": {
                            "entity_id": "input_select.floorplan_panel_view"
                          }
                        },
                        "styles": {
                          "icon": [
                            {
                              "height": "100%"
                            },
                            {
                              "width": "100%"
                            }
                          ],
                          "card": [
                            {
                              "background-color": "rgba(0,0,0,0.0)"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "85%",
                          "left": "20%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "square_cell",
                        "icon": "mdi:sofa",
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.living_room_motion_timeout"
                          }
                        },
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "living_room"
                            ]
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/living_room"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.living_room_lights"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "25%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.living_room_lights"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "25%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.living_room_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "30%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.living_room_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "30%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "fan.living_room_fan"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "35%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_fan_icon",
                        "variables": [
                          {
                            "fan_entity": "fan.living_room_fan"
                          },
                          {
                            "fan_auto_control_automation": "automation.living_room_fan_auto_control"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "35%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "85%",
                          "left": "40%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "climate.living_room_ac"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "85%",
                          "left": "40%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_ac_icon",
                        "variables": [
                          {
                            "ac_entity": "climate.living_room_ac"
                          },
                          {
                            "ac_auto_control_automation": "automation.living_room_ac_auto_control"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "cover.living_room_blinds"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "45%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_cover_icon",
                        "variables": [
                          {
                            "cover_entity": "cover.living_room_blinds"
                          },
                          {
                            "cover_auto_control_automation": "automation.south_facing_blinds_auto_control"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "45%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "85%",
                          "left": "77.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:bathtub",
                        "template": "square_cell",
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "master_bathroom"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.master_bathroom_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/parents_bathroom"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_master_bathroom'].state == 'on'\n      && states['binary_sensor.master_bathroom_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.master_bathroom_light_entity"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "82.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.master_bathroom_light_entity"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "82.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.master_bathroom_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "87.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.master_bathroom_pendant_light_entity"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "87.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "cover.master_bathroom_blind"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "92.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_cover_icon",
                        "variables": [
                          {
                            "cover_entity": "cover.master_bathroom_blind"
                          },
                          {
                            "cover_auto_control_automation": "automation.master_bathroom_blind_auto_control"
                          }
                        ],
                        "style": {
                          "top": "85%",
                          "left": "92.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.floorplan_openings_view",
                            "state": "on"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "85%",
                              "left": "6.25%",
                              "height": "10%",
                              "width": "12.4%"
                            },
                            "aspect_ratio": 2.5,
                            "custom_fields": {
                              "bracket": "",
                              "legend_open": {
                                "card": {
                                  "type": "custom:button-card",
                                  "icon": "mdi:circle-outline",
                                  "color": "#B4FAB4",
                                  "color_type": "card",
                                  "template": "floorplan_square_cell",
                                  "tap_action": {
                                    "action": "navigate",
                                    "navigation_path": "/lovelace/sensors"
                                  }
                                }
                              },
                              "legend_closed": {
                                "card": {
                                  "type": "custom:button-card",
                                  "icon": "mdi:circle",
                                  "color": "#FF0000",
                                  "color_type": "card",
                                  "template": "floorplan_square_cell",
                                  "tap_action": {
                                    "action": "navigate",
                                    "navigation_path": "/lovelace/sensors"
                                  }
                                }
                              },
                              "legend_null": {
                                "card": {
                                  "type": "custom:button-card",
                                  "icon": "mdi:circle-off-outline",
                                  "color": "#AAAAAA",
                                  "color_type": "card",
                                  "template": "floorplan_square_cell",
                                  "tap_action": {
                                    "action": "navigate",
                                    "navigation_path": "/lovelace/sensors"
                                  }
                                }
                              }
                            },
                            "styles": {
                              "card": [
                                {
                                  "position": "relative"
                                },
                                {
                                  "background-color": "rgba(0,0,0,0)"
                                },
                                {
                                  "border-radius": "0px"
                                }
                              ],
                              "custom_fields": {
                                "bracket": [
                                  {
                                    "background-color": "#292929"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "0%"
                                  },
                                  {
                                    "top": "25%"
                                  },
                                  {
                                    "width": "100%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ],
                                "legend_open": [
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "42%"
                                  },
                                  {
                                    "top": "30%"
                                  },
                                  {
                                    "width": "16%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ],
                                "legend_closed": [
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "62%"
                                  },
                                  {
                                    "top": "30%"
                                  },
                                  {
                                    "width": "16%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ],
                                "legend_null": [
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "82%"
                                  },
                                  {
                                    "top": "30%"
                                  },
                                  {
                                    "width": "16%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "85%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "input_boolean.floorplan_openings_view",
                        "template": "square_cell",
                        "color_type": "card",
                        "icon": "mdi:window-open-variant",
                        "state": [
                          {
                            "value": "on",
                            "color": "#292929"
                          },
                          {
                            "value": "off",
                            "color": "#111111"
                          }
                        ],
                        "styles": {
                          "card": [
                            {
                              "border-color": "#292929"
                            },
                            {
                              "border-width": "2px"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "14.9%"
                        },
                        "aspect_ratio": 3,
                        "custom_fields": {
                          "bracket": "",
                          "toggle_overlay": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "color": "#292929",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:target-account"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:brightness-5"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-percent"
                                }
                              ],
                              "template": "square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "call-service",
                                "service": "input_select.select_next",
                                "service_data": {
                                  "entity_id": "input_select.floorplan_data_overlay"
                                }
                              }
                            }
                          },
                          "legend_high": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:target-account"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-on"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer-high"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-plus"
                                }
                              ],
                              "color": "#FFC107",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          },
                          "legend_mid": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:crosshairs-question"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-on-50"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water"
                                }
                              ],
                              "color": "#3DA0E6",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          },
                          "legend_low": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:crosshairs"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-on-10"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer-low"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-minus"
                                }
                              ],
                              "color": "#1e5073",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          },
                          "legend_null": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:crosshairs-off"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-off-outline"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer-off"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-off"
                                }
                              ],
                              "color": "#000000",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          }
                        },
                        "styles": {
                          "card": [
                            {
                              "position": "relative"
                            },
                            {
                              "background-color": "rgba(0,0,0,0)"
                            },
                            {
                              "border-radius": "0px"
                            }
                          ],
                          "custom_fields": {
                            "bracket": [
                              {
                                "background-color": "#292929"
                              },
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "0%"
                              },
                              {
                                "top": "25%"
                              },
                              {
                                "width": "100%"
                              },
                              {
                                "height": "50%"
                              }
                            ],
                            "toggle_overlay": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "1.666%"
                              },
                              {
                                "top": "5%"
                              },
                              {
                                "width": "30%"
                              },
                              {
                                "height": "90%"
                              }
                            ],
                            "legend_high": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "35%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ],
                            "legend_mid": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "51.666%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ],
                            "legend_low": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "68.334%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ],
                            "legend_null": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "85%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ]
                          }
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "27.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:bookshelf",
                        "template": "square_cell",
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.study_room_motion_timeout"
                          }
                        },
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "study_room"
                            ]
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/study_room"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_study_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.study_room_lights"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "32.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.study_room_lights"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "32.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "fan.study_room_fan"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "37.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_fan_icon",
                        "variables": [
                          {
                            "fan_entity": "fan.study_room_fan"
                          },
                          {
                            "fan_auto_control_automation": "automation.study_room_fan_auto_control"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "37.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "95%",
                          "left": "42.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "climate.study_room_ac"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "95%",
                          "left": "42.5%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_ac_icon",
                        "variables": [
                          {
                            "ac_entity": "climate.study_room_ac"
                          },
                          {
                            "ac_auto_control_automation": "automation.study_room_ac_auto_control"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "95%",
                          "left": "47.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "media_player.study_room_speaker"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "95%",
                          "left": "47.5%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_media_player_icon",
                        "variables": [
                          {
                            "media_player_entity": "media_player.study_room_speaker"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "cover.study_room_blinds"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "52.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_cover_icon",
                        "variables": [
                          {
                            "cover_entity": "cover.study_room_blinds"
                          },
                          {
                            "cover_auto_control_automation": "automation.south_facing_blinds_auto_control"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "52.5%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "75%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:bed",
                        "name": "D&G",
                        "show_name": true,
                        "template": "square_cell",
                        "double_tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.parents_room_motion_timeout"
                          }
                        },
                        "tap_action": {
                          "action": "call-service",
                          "service": "script.set_recommended_scene",
                          "data": {
                            "room": [
                              "parents_room"
                            ]
                          }
                        },
                        "hold_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace/parents_room"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_doors_open_at_parents_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "light.parents_room_lights"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "80%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_light_icon",
                        "variables": [
                          {
                            "light_entity": "light.parents_room_lights"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "80%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "fan.parents_room_fan"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "85%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "floorplan_slider_fan_icon",
                        "variables": [
                          {
                            "fan_entity": "fan.parents_room_fan"
                          },
                          {
                            "fan_auto_control_automation": "automation.parents_room_fan_auto_control"
                          }
                        ],
                        "style": {
                          "top": "95%",
                          "left": "85%",
                          "height": "5%",
                          "width": "2.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "95%",
                          "left": "90%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "floorplan_slider",
                        "variables": [
                          {
                            "slider_entity": "climate.parents_room_ac"
                          }
                        ]
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "95%",
                          "left": "90%",
                          "height": "5%",
                          "width": "2.5%"
                        },
                        "template": "floorplan_slider_ac_icon",
                        "variables": [
                          {
                            "ac_entity": "climate.parents_room_ac"
                          },
                          {
                            "ac_auto_control_automation": "automation.parents_room_ac_auto_control"
                          }
                        ]
                      }
                    ],
                    "image": "/local/floorplan/floorplan_pointers_boxes_20240120.png"
                  }
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "condition": "screen",
                          "media_query": "(min-width: 768px) and (max-width: 1023px)"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "picture",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.nea_rain_radar_animation",
                              "target": {}
                            },
                            "hold_action": {
                              "action": "none"
                            },
                            "image_entity": "image.rain_radar_animation"
                          },
                          {
                            "type": "picture-elements",
                            "elements": [
                              {
                                "type": "custom:button-card",
                                "style": {
                                  "top": "16.666%",
                                  "left": "16.666%",
                                  "height": "33.333%",
                                  "width": "33%"
                                },
                                "template": "floorplan_nextbus",
                                "entity": "binary_sensor.sims_drive_market_bus_stop"
                              },
                              {
                                "type": "custom:button-card",
                                "style": {
                                  "top": "16.666%",
                                  "left": "50%",
                                  "height": "33.333%",
                                  "width": "33%"
                                },
                                "template": "floorplan_nextbus",
                                "entity": "binary_sensor.opposite_aljunied_station_bus_stop",
                                "variables": {
                                  "stop_no": 2
                                }
                              },
                              {
                                "type": "custom:button-card",
                                "style": {
                                  "top": "16.666%",
                                  "left": "83.333%",
                                  "height": "33.333%",
                                  "width": "33%"
                                },
                                "template": "floorplan_nextbus",
                                "entity": "binary_sensor.aljunied_station_bus_stop",
                                "variables": {
                                  "stop_no": 3
                                }
                              },
                              {
                                "type": "custom:button-card",
                                "style": {
                                  "top": "83.333%",
                                  "left": "83.333%",
                                  "height": "33.333%",
                                  "width": "33%"
                                },
                                "template": "floorplan_nextbus",
                                "entity": "binary_sensor.before_lorong_23_geylang_bus_stop",
                                "variables": {
                                  "stop_no": 4
                                }
                              }
                            ],
                            "image": "/local/floorplan/transit_basemap_numbered.png"
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "view_layout": {
                        "position": "main"
                      },
                      "conditions": [
                        {
                          "condition": "screen",
                          "media_query": "(min-width: 0px) and (max-width: 1023px)"
                        }
                      ],
                      "card": {
                        "square": false,
                        "type": "grid",
                        "columns": 6,
                        "cards": [
                          {
                            "type": "custom:button-card",
                            "entity": "sensor.local_two_hour_forecast",
                            "template": "top_row",
                            "icon": "[[[\n  if (entity.state.includes('Fair'))\n    if (states['sun.sun'].state == 'above_horizon')\n      return \"mdi:weather-sunny\";\n    else\n      return \"mdi:weather-night\";\n  else if (entity.state == 'Partly Cloudy')\n    if (states['sun.sun'].state == 'above_horizon')\n      return \"mdi:weather-partly-cloudy\";\n    else\n      return \"mdi:weather-night-partly-cloudy\";\n  else if (entity.state == 'Cloudy')\n    return \"mdi:weather-cloudy\";\n  else if (entity.state.includes('Thunder'))\n    return \"mdi:weather-lightning-rainy\";\n  else if (entity.state.includes('Shower'))\n    return \"mdi:weather-pouring\";\n  else if (entity.state.includes('Rain'))\n    return \"mdi:weather-rainy\";\n  else if (entity.state.includes('Wind'))\n    return \"mdi:weather-windy\";\n  else\n    return \"mdi:weather-cloudy-alert\"\n]]]\n",
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['sensor.raining_with_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            },
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/weather"
                            },
                            "hold_action": {
                              "action": "more-info"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "top_row",
                            "entity": "binary_sensor.next_alarm_imminent",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            },
                            "custom_fields": {
                              "daniel": "D",
                              "grace": "G",
                              "eli": "E",
                              "elena": "e"
                            },
                            "styles": {
                              "grid": [
                                {
                                  "position": "relative"
                                }
                              ],
                              "custom_fields": {
                                "daniel": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "5%"
                                  },
                                  {
                                    "top": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(0) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ],
                                "grace": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "right": "5%"
                                  },
                                  {
                                    "top": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(1) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ],
                                "eli": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "5%"
                                  },
                                  {
                                    "bottom": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(2) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ],
                                "elena": [
                                  {
                                    "font-weight": "bold"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "right": "5%"
                                  },
                                  {
                                    "bottom": "0%"
                                  },
                                  {
                                    "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(3) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'D')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "media_player.all_speakers",
                            "default": "in_use",
                            "states": {
                              "unavailable": {
                                "type": "custom:button-card",
                                "entity": "media_player.all_speakers",
                                "template": "error"
                              },
                              "unknown": {
                                "type": "custom:button-card",
                                "icon": "mdi:music-off",
                                "template": "top_row"
                              },
                              "off": {
                                "type": "custom:button-card",
                                "entity": "media_player.all_speakers",
                                "template": "top_row"
                              },
                              "in_use": {
                                "type": "custom:state-switch",
                                "entity": "{% if states('media_player.study_room_speaker') in ['playing','buffering','idle','paused'] and states('media_player.kitchen_speaker') not in ['playing','buffering','idle','paused'] %} study_room_speaker {% elif states('media_player.kitchen_speaker') in ['playing','buffering','idle','paused'] and states('media_player.study_room_speaker') not in ['playing','buffering','idle','paused'] %} kitchen_speaker {% else %} both {% endif %}",
                                "default": "both",
                                "states": {
                                  "study_room_speaker": {
                                    "type": "custom:decluttering-card",
                                    "template": "media_player",
                                    "variables": [
                                      {
                                        "media_player_entity": "media_player.study_room_speaker"
                                      }
                                    ]
                                  },
                                  "kitchen_speaker": {
                                    "type": "custom:decluttering-card",
                                    "template": "media_player",
                                    "variables": [
                                      {
                                        "media_player_entity": "media_player.kitchen_speaker"
                                      }
                                    ]
                                  },
                                  "both": {
                                    "type": "custom:decluttering-card",
                                    "template": "media_player",
                                    "variables": [
                                      {
                                        "media_player_entity": "media_player.all_speakers"
                                      }
                                    ]
                                  }
                                }
                              }
                            }
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "vacuum.roborock_s7",
                            "default": "disabled",
                            "states": {
                              "disabled": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "error",
                                "icon": "mdi:robot-vacuum-alert",
                                "tap_action": {
                                  "action": "navigate",
                                  "navigation_path": "/lovelace/vacuum"
                                }
                              },
                              "error": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "vacuum_more_info",
                                "icon": "mdi:robot-vacuum-alert",
                                "styles": {
                                  "card": [
                                    {
                                      "background-color": "#9e110d"
                                    }
                                  ],
                                  "icon": [
                                    {
                                      "animation": "blink 2s ease infinite"
                                    },
                                    {
                                      "color": "#FFFFFF"
                                    }
                                  ]
                                }
                              },
                              "docked": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "vacuum_more_info",
                                "label": "[[[ \n  if (parseInt(entity.attributes.battery_level) <= 95)\n    return entity.attributes.battery_level + '%';\n  else\n    return ''\n]]]\n",
                                "show_label": true,
                                "color": "rgb(68,115,158)",
                                "double_tap_action": {
                                  "action": "call-service",
                                  "service": "vacuum.start",
                                  "service_data": {
                                    "entity_id": "vacuum.roborock_s7"
                                  }
                                }
                              },
                              "cleaning": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "vacuum_more_info",
                                "label": "[[[ return entity.attributes.battery_level + '%']]]",
                                "show_label": true,
                                "color": "rgb(253,216,53)",
                                "double_tap_action": {
                                  "action": "call-service",
                                  "service": "vacuum.pause",
                                  "service_data": {
                                    "entity_id": "vacuum.roborock_s7"
                                  }
                                }
                              },
                              "returning": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "vacuum_more_info",
                                "label": "[[[ return entity.attributes.battery_level + '%']]]",
                                "show_label": true,
                                "color": "rgb(253,216,53)",
                                "double_tap_action": {
                                  "action": "call-service",
                                  "service": "vacuum.pause",
                                  "service_data": {
                                    "entity_id": "vacuum.roborock_s7"
                                  }
                                }
                              },
                              "paused": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "vacuum_more_info",
                                "color": "rgb(68,115,158)",
                                "label": "[[[ return entity.attributes.battery_level + '%']]]",
                                "show_label": true,
                                "double_tap_action": {
                                  "action": "call-service",
                                  "service": "vacuum.start",
                                  "service_data": {
                                    "entity_id": "vacuum.roborock_s7"
                                  }
                                },
                                "styles": {
                                  "card": [
                                    {
                                      "background-color": "#f2900f"
                                    }
                                  ],
                                  "label": [
                                    {
                                      "animation": "blink 2s ease infinite"
                                    }
                                  ]
                                }
                              },
                              "idle": {
                                "type": "custom:button-card",
                                "entity": "vacuum.roborock_s7",
                                "template": "vacuum_more_info",
                                "label": "[[[ return entity.attributes.battery_level + '%']]]",
                                "show_label": true,
                                "styles": {
                                  "card": [
                                    {
                                      "background-color": "#9e110d"
                                    }
                                  ],
                                  "label": [
                                    {
                                      "animation": "blink 2s ease infinite"
                                    }
                                  ]
                                }
                              }
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "binary_sensor.sims_drive_market_bus_stop",
                            "template": "top_row",
                            "label": "[[[ if (entity.state == 'on') { return entity.attributes.next_buses[0].ServiceNo } else { return '' } ]]]",
                            "show_label": true,
                            "styles": {
                              "label": [
                                {
                                  "animation": "[[[\n  if (entity.state == 'on') {\n    if (Math.floor((Date.parse(entity.attributes.next_buses[0].EstimatedArrival) - Date.parse(Date())) / 60000) < 3) {\n      return 'blink 2s ease infinite'\n    }\n  }\n]]]\n"
                                }
                              ]
                            },
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/transit"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "input_boolean.away_mode",
                            "template": "top_row",
                            "double_tap_action": {
                              "action": "toggle"
                            },
                            "tap_action": {
                              "action": "more-info"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:teddy-bear",
                            "template": "square_cell",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "playroom",
                                  "yard"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": [
                                  "automation.yard_motion_timeout",
                                  "automation.playroom_motion_timeout"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/playroom"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_yard'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.playroom_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.yard_light_entity"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "sensor.washer_status",
                            "default": "disabled",
                            "states": {
                              "disabled": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "error"
                              },
                              "Off": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "color": "rgb(68,115,158)",
                                "styles": {
                                  "card": [
                                    {
                                      "background-color": "[[[\n  if (states['input_boolean.washer_load_clean'].state == 'on')\n    return '#b4fab4';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                    }
                                  ]
                                }
                              },
                              "Standby": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "...",
                                "show_label": true
                              },
                              "Detecting": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "...",
                                "show_label": true
                              },
                              "Delay Set": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                                "show_label": true
                              },
                              "Washing": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                                "show_label": true
                              },
                              "Rinsing": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                                "show_label": true
                              },
                              "Spinning": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "[[[\n  return (states['sensor.washer_countdown'].state);\n]]]\n",
                                "show_label": true
                              },
                              "Finished": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "Done!",
                                "show_label": true
                              },
                              "Paused": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "Paused",
                                "show_label": true,
                                "color": "rgb(68,115,158)",
                                "styles": {
                                  "label": [
                                    {
                                      "color": "var(--primary-background-color)"
                                    },
                                    {
                                      "animation": "blink 2s ease infinite"
                                    }
                                  ]
                                }
                              },
                              "Error": {
                                "type": "custom:button-card",
                                "entity": "switch.washer_power",
                                "template": "washer_more_info",
                                "label": "Error",
                                "show_label": true,
                                "styles": {
                                  "card": [
                                    {
                                      "background-color": "#9e110d"
                                    }
                                  ],
                                  "label": [
                                    {
                                      "animation": "blink 2s ease infinite"
                                    }
                                  ]
                                }
                              }
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "square_cell",
                            "icon": "mdi:bed",
                            "name": "Elena",
                            "show_name": true,
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.elenas_room_motion_timeout"
                              }
                            },
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "elenas_room"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/elenas_room"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_elenas_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.elenas_room_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "fan",
                            "variables": [
                              {
                                "fan_entity": "fan.elenas_room_fan"
                              },
                              {
                                "fan_auto_control_automation": "automation.elenas_room_fan_auto_control"
                              },
                              {
                                "fan_direction_indicator": "input_select.elenas_room_fan_direction"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "ac",
                            "variables": [
                              {
                                "climate_entity": "climate.elenas_room_ac"
                              },
                              {
                                "ac_status_sensor": "sensor.elenas_room_ac_status"
                              },
                              {
                                "ac_auto_control_automation": "automation.elenas_room_ac_auto_control"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:bed",
                            "name": "Eli",
                            "template": "square_cell",
                            "show_name": true,
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.elis_room_motion_timeout"
                              }
                            },
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "elis_room"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/elis_room"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_elis_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.elis_room_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "fan",
                            "variables": [
                              {
                                "fan_entity": "fan.elis_room_fan"
                              },
                              {
                                "fan_auto_control_automation": "automation.elis_room_fan_auto_control"
                              },
                              {
                                "fan_direction_indicator": "input_select.elis_room_fan_direction"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "ac",
                            "variables": [
                              {
                                "climate_entity": "climate.elis_room_ac"
                              },
                              {
                                "ac_status_sensor": "sensor.elis_room_ac_status"
                              },
                              {
                                "ac_auto_control_automation": "automation.elis_room_ac_auto_control"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:swap-horizontal-circle-outline",
                            "template": "square_cell",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "hallway"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.hallway_motion_timeout"
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/hallway"
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.hallway_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:toilet",
                            "template": "square_cell",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "powder_room"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.powder_room_motion_timeout"
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/powder_room"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_powder_room'].state == 'on'\n      && states['binary_sensor.powder_room_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.powder_room_pendant_light_entity"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:shower-head",
                            "template": "square_cell",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "junior_bathroom"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.junior_bathroom_motion_timeout"
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/junior_bathroom"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_junior_bathroom'].state == 'on'\n      && states['binary_sensor.junior_bathroom_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.junior_bathroom_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:pasta",
                            "template": "square_cell",
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.dining_room_motion_timeout"
                              }
                            },
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "dining_room"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/dining_room"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_dining_room'].state == 'on'\n      && states['binary_sensor.main_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.dining_room_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.dining_room_pendant_light_entity"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "fan",
                            "variables": [
                              {
                                "fan_entity": "fan.dining_room_fan"
                              },
                              {
                                "fan_auto_control_automation": "automation.dining_room_fan_auto_control"
                              },
                              {
                                "fan_direction_indicator": "sensor.dining_room_fan_direction"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "ac",
                            "variables": [
                              {
                                "climate_entity": "climate.dining_room_ac"
                              },
                              {
                                "ac_status_sensor": "sensor.dining_room_ac_status"
                              },
                              {
                                "ac_auto_control_automation": "automation.dining_room_ac_auto_control"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "cover",
                            "variables": [
                              {
                                "cover_position_sensor": "sensor.dining_room_blinds_position"
                              },
                              {
                                "cover_entity": "cover.dining_room_blinds"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "template": "square_cell",
                            "icon": "mdi:sofa",
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.living_room_motion_timeout"
                              }
                            },
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "living_room"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/living_room"
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.living_room_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.living_room_pendant_light_entity"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "fan",
                            "variables": [
                              {
                                "fan_entity": "fan.living_room_fan"
                              },
                              {
                                "fan_auto_control_automation": "automation.living_room_fan_auto_control"
                              },
                              {
                                "fan_direction_indicator": "sensor.living_room_fan_direction"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "ac",
                            "variables": [
                              {
                                "climate_entity": "climate.living_room_ac"
                              },
                              {
                                "ac_status_sensor": "sensor.living_room_ac_status"
                              },
                              {
                                "ac_auto_control_automation": "automation.living_room_ac_auto_control"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "cover",
                            "variables": [
                              {
                                "cover_position_sensor": "sensor.living_room_blinds_position"
                              },
                              {
                                "cover_entity": "cover.living_room_blinds"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:bookshelf",
                            "template": "square_cell",
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.study_room_motion_timeout"
                              }
                            },
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "study_room"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/study_room"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_study_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.study_room_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "fan",
                            "variables": [
                              {
                                "fan_entity": "fan.study_room_fan"
                              },
                              {
                                "fan_auto_control_automation": "automation.study_room_fan_auto_control"
                              },
                              {
                                "fan_direction_indicator": "sensor.study_room_fan_direction"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "ac",
                            "variables": [
                              {
                                "climate_entity": "climate.study_room_ac"
                              },
                              {
                                "ac_status_sensor": "sensor.study_room_ac_status"
                              },
                              {
                                "ac_auto_control_automation": "automation.study_room_ac_auto_control"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "cover",
                            "variables": [
                              {
                                "cover_position_sensor": "sensor.study_room_blinds_position"
                              },
                              {
                                "cover_entity": "cover.study_room_blinds"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:bed",
                            "name": "D&G",
                            "show_name": true,
                            "template": "square_cell",
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.parents_room_motion_timeout"
                              }
                            },
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "parents_room"
                                ]
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/parents_room"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_doors_open_at_parents_room'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.parents_room_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "fan",
                            "variables": [
                              {
                                "fan_entity": "fan.parents_room_fan"
                              },
                              {
                                "fan_auto_control_automation": "automation.parents_room_fan_auto_control"
                              },
                              {
                                "fan_direction_indicator": "input_select.parents_room_fan_direction"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "ac",
                            "variables": [
                              {
                                "climate_entity": "climate.parents_room_ac"
                              },
                              {
                                "ac_status_sensor": "sensor.parents_room_ac_status"
                              },
                              {
                                "ac_auto_control_automation": "automation.parents_room_ac_auto_control"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:bathtub",
                            "template": "square_cell",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "master_bathroom"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.master_bathroom_motion_timeout"
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/parents_bathroom"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_master_bathroom'].state == 'on'\n      && states['binary_sensor.master_bathroom_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.master_bathroom_light_entity"
                              }
                            ]
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.master_bathroom_pendant_light_entity"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "cover",
                            "variables": [
                              {
                                "cover_position_sensor": "sensor.master_bathroom_blind_position"
                              },
                              {
                                "cover_entity": "cover.master_bathroom_blind"
                              }
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:pot-steam",
                            "template": "square_cell",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.set_recommended_scene",
                              "data": {
                                "room": [
                                  "kitchen"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "service_data": {
                                "entity_id": "automation.kitchen_motion_timeout"
                              }
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/kitchen"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_kitchen'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_kitchen_window_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_kitchen_window_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "light",
                            "variables": [
                              {
                                "light_entity": "light.kitchen_lights"
                              }
                            ]
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "input_select.rice_cooker_status",
                            "default": "disabled",
                            "states": {
                              "disabled": {
                                "type": "custom:button-card",
                                "entity": "binary_sensor.rice_cooker",
                                "template": "error"
                              },
                              "Off": {
                                "type": "custom:button-card",
                                "entity": "switch.rice_cooker",
                                "template": "rice_cooker_more_info"
                              },
                              "Cooking": {
                                "type": "custom:button-card",
                                "entity": "binary_sensor.rice_cooker",
                                "template": "rice_cooker_more_info",
                                "label": "Cook",
                                "show_label": true
                              },
                              "Warming": {
                                "type": "custom:button-card",
                                "entity": "binary_sensor.rice_cooker",
                                "template": "rice_cooker_more_info",
                                "label": "Warm",
                                "show_label": true
                              },
                              "Standby": {
                                "type": "custom:button-card",
                                "entity": "switch.rice_cooker",
                                "template": "rice_cooker_more_info",
                                "label": "...",
                                "show_label": true
                              }
                            }
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "switch.stove_main_power",
                            "default": "disabled",
                            "states": {
                              "disabled": {
                                "type": "custom:button-card",
                                "entity": "switch.stove_main_power",
                                "template": "error"
                              },
                              "on": {
                                "type": "custom:button-card",
                                "entity": "switch.stove_main_power",
                                "template": "stove_more_info",
                                "icon": "[[[ return 'mdi:chevron-' + states['select.stove_current_burner'].state + '-circle-outline' ]]]",
                                "label": "[[[ \n  if (parseInt(states['number.stove_current_burner_timer'].state) >= 70)\n    return states['select.stove_current_burner_power'].state + '|1:' +\n      (parseInt(states['number.stove_current_burner_timer'].state) - 60).toString()\n  else if (parseInt(states['number.stove_current_burner_timer'].state) >= 60)\n    return states['select.stove_current_burner_power'].state + '|1:0' +\n      (parseInt(states['number.stove_current_burner_timer'].state) - 60).toString()\n  else if (parseInt(states['number.stove_current_burner_timer'].state) >= 10)\n    return states['select.stove_current_burner_power'].state + '|0:' +\n      states['number.stove_current_burner_timer'].state\n  else if (parseInt(states['number.stove_current_burner_timer'].state) > 0)\n    return states['select.stove_current_burner_power'].state + '|0:0' +\n      states['number.stove_current_burner_timer'].state\n  else\n    return states['select.stove_current_burner_power'].state\n]]]",
                                "show_label": true,
                                "tap_action": {
                                  "action": "call-service",
                                  "service": "select.select_option",
                                  "service_data": {
                                    "entity_id": "select.stove_current_burner",
                                    "option": "[[[\n  if (states['select.stove_current_burner'].state == 'right')\n    return 'left'\n  else\n    return 'right'\n]]]"
                                  }
                                }
                              },
                              "off": {
                                "type": "custom:button-card",
                                "entity": "switch.stove_main_power",
                                "template": "stove_more_info"
                              }
                            }
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "switch.dishwasher",
                            "default": "disabled",
                            "states": {
                              "disabled": {
                                "type": "custom:button-card",
                                "entity": "switch.dishwasher",
                                "template": "error"
                              },
                              "off": {
                                "type": "custom:button-card",
                                "entity": "switch.dishwasher",
                                "template": "dishwasher_more_info",
                                "styles": {
                                  "card": [
                                    {
                                      "background-color": "[[[\n  if (states['input_boolean.dishwasher_load_clean'].state == 'on')\n    return '#b4fab4';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                    }
                                  ]
                                }
                              },
                              "on": {
                                "type": "custom:button-card",
                                "entity": "switch.dishwasher",
                                "template": "dishwasher_more_info",
                                "label": "[[[\n  if (states['input_select.dishwasher_status'].state == 'Washing')\n    return 'Wash'\n  else if (states['input_select.dishwasher_status'].state == 'Cooling')\n    return 'Cool'\n  else if (states['input_select.dishwasher_status'].state == 'Standby')\n    return '...'\n  else\n    return ''\n]]]\n",
                                "show_label": true
                              }
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "cover",
                            "variables": [
                              {
                                "cover_position_sensor": "sensor.kitchen_blind_position"
                              },
                              {
                                "cover_entity": "cover.kitchen_blind"
                              },
                              {
                                "cover_icon": "mdi:window-shutter-open"
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Sensors",
          "path": "sensors",
          "icon": "mdi:home-search",
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            },
            {
              "user": "2651cb9042dd41acb0b54327457a9a14"
            },
            {
              "user": "991e26502d6844dea64362276571d6c1"
            },
            {
              "user": "361884c4dcb94d5f9d7e583d64844264"
            }
          ],
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "template": "top_row",
                      "icon": "mdi:information-outline",
                      "styles": {
                        "card": [
                          {
                            "border-radius": "50%"
                          }
                        ]
                      },
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/lovelace/sensors-legend"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:motion-sensor",
                      "label": "min",
                      "show_label": true,
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:door-open",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:window-open",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:thermometer",
                      "label": "Â°C",
                      "show_label": true,
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:water-percent",
                      "label": "%",
                      "show_label": true,
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:brightness-5",
                      "label": "lux",
                      "show_label": true,
                      "template": "square_cell"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:teddy-bear",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.playroom_motion_sensors",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_window",
                      "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                      "show_label": true,
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:shower-head",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_boolean.junior_bathroom_occupancy",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.junior_shower_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:toilet",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_boolean.powder_room_occupancy",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.powder_room_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:bed",
                      "label": "Elena",
                      "show_label": true,
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_motion",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:bed",
                      "label": "Eli",
                      "show_label": true,
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_motion",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_core_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_core_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:swap-horizontal-circle-outline",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.hallway_motion",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.hallway_doors",
                      "label": "[[[ \n  if (entity.attributes.total_doors_open == \"0/4\")\n    return ''\n  else\n    return entity.attributes.total_doors_open\n]]]\n",
                      "show_label": true,
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.hallway_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:pasta",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.dining_room_presence",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.main_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_radar_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:sofa",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.living_room_presence",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.living_room_radar_lux_calibrated",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:bookshelf",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_motion",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_room_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_room_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_walkway_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:bed",
                      "label": "D&G",
                      "show_label": true,
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_motion",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_doors",
                      "label": "[[[ \n  if (entity.attributes.total_doors_open == '0/2')\n    return ''\n  else\n    return entity.attributes.total_doors_open\n]]]\n",
                      "show_label": true,
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_core_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_core_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:bathtub",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_boolean.master_bathroom_occupancy",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_door",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.master_shower_lux",
                      "template": "sensor_lux"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:pot-steam",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.kitchen_presence",
                      "template": "sensor_motion"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.kitchen_window",
                      "template": "sensor_binary"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_temperature",
                      "template": "sensor_temperature"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_humidity",
                      "template": "sensor_humidity"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_radar_lux_calibrated",
                      "template": "sensor_lux"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Settings",
          "path": "settings",
          "icon": "mdi:cogs",
          "badges": [],
          "cards": [
            {
              "square": true,
              "columns": 4,
              "type": "grid",
              "cards": [
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/settings-sleep"
                  },
                  "name": "Sleep",
                  "icon": "mdi:bed-clock",
                  "hold_action": {
                    "action": "none"
                  }
                },
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/settings-lighting"
                  },
                  "name": "Lighting",
                  "icon": "mdi:home-lightbulb-outline",
                  "hold_action": {
                    "action": "none"
                  }
                },
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/settings-cooling"
                  },
                  "icon": "mdi:home-thermometer-outline",
                  "hold_action": {
                    "action": "none"
                  },
                  "name": "Cooling"
                },
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/motion"
                  },
                  "name": "Motion",
                  "icon": "mdi:motion-sensor",
                  "hold_action": {
                    "action": "none"
                  }
                },
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/automations"
                  },
                  "name": "Automation",
                  "icon": "mdi:home-automation"
                },
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/network"
                  },
                  "name": "Network",
                  "icon": "mdi:server-security"
                },
                {
                  "show_name": true,
                  "show_icon": true,
                  "type": "button",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/lovelace/diagnostics"
                  },
                  "name": "Diagnostic Thresholds",
                  "icon": "mdi:arrow-expand-vertical"
                }
              ]
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "condition": "user",
                  "users": [
                    "ad2bcce775894550affb6dfef93a2a36"
                  ]
                }
              ],
              "card": {
                "type": "vertical-stack",
                "cards": [
                  {
                    "type": "entities",
                    "entities": [
                      {
                        "entity": "input_text.git_commit_message"
                      },
                      {
                        "entity": "script.git_push"
                      }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Zigbee Diagnostics",
          "path": "zigbee-diagnostics",
          "icon": "mdi:zigbee",
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            }
          ],
          "type": "panel",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_fan_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_ac_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_ac_vent_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_fan_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_ac_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_ac_vent_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:shower-head",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_ceiling_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_shower_motion_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:toilet",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:swap-horizontal-circle-outline",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_router_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_lights_controller_2_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_fan_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_ac_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_blinds_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_motion_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:teddy-bear",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_window_1_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_window_2_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.washer_door_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pasta",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_left_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_left_middle_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_right_middle_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_right_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_lights_controller_1_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_ac_vent_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:sofa",
                          "template": "square_cell",
                          "styles": {
                            "card": [
                              {
                                "border-color": "#b4fab4"
                              },
                              {
                                "border-width": "2px"
                              }
                            ]
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_5_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_left_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_middle_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_right_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_fan_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_ac_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_blinds_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_ac_vent_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pot-steam",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_ceiling_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dishwasher_switch_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_opened_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_closed_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_stove_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.rice_cooker_lid_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dishwasher_door_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bookshelf",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_left_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_right_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_fan_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_ac_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_blinds_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_table_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_walkway_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_ac_vent_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_fan_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_ac_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_headboard_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_ac_vent_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bathtub",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_blind_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_shower_motion_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "sensor.zha_device_issues",
                      "above": 0
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "{% if state_attr('sensor.zha_device_issues','disconnected') | length > 0 %}\n    {% set message = namespace(text = \"\") %} {% if\n    state_attr('sensor.zha_device_issues','disconnected') | length > 0 %}\n      {% set message.text = message.text + 'Disconnected: ' %}\n      {% for battery in state_attr('sensor.zha_device_issues','disconnected') %}\n        {% set message.text = message.text + device_attr(device_id(battery),'name_by_user') + ', ' %}\n      {% endfor %}\n      {% set message.text = message.text[:-2] %}\n    {% endif %}\n  <ha-alert alert-type=\"error\">{{ message.text }}</ha-alert>\n{% endif %}\n{% if state_attr('sensor.zha_device_issues','batteries_low') | length > 0 %}\n    {% set message = namespace(text = \"\") %} {% if\n    state_attr('sensor.zha_device_issues','batteries_low') | length > 0 %}\n      {% set message.text = message.text + 'Batteries low: ' %}\n      {% for battery in state_attr('sensor.zha_device_issues','batteries_low') %}\n        {% set message.text = message.text + device_attr(device_id(battery),'name_by_user') + ', ' %}\n      {% endfor %}\n      {% set message.text = message.text[:-2] %}\n    {% endif %}  \n  <ha-alert alert-type=\"warning\">{{ message.text }}</ha-alert>\n{% endif %}"
                  }
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "subview": true,
          "title": "Settings - Sleep",
          "path": "settings-sleep",
          "icon": "mdi:sleep",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "tile",
                      "entity": "input_datetime.daniels_next_alarm"
                    },
                    {
                      "type": "tile",
                      "entity": "input_datetime.graces_next_alarm"
                    },
                    {
                      "type": "tile",
                      "entity": "input_datetime.elis_next_alarm"
                    },
                    {
                      "type": "tile",
                      "entity": "input_datetime.elenas_next_alarm"
                    }
                  ]
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_datetime.wind_down"
                    },
                    {
                      "entity": "input_datetime.sleep_hours_start"
                    },
                    {
                      "entity": "input_datetime.sleep_hours_end"
                    },
                    {
                      "entity": "input_number.minimum_sleep_hours",
                      "name": "Minimum Sleep"
                    }
                  ]
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_datetime.daniels_work_day_alarm"
                    },
                    {
                      "entity": "input_datetime.graces_work_day_alarm"
                    },
                    {
                      "entity": "input_datetime.elis_school_day_alarm"
                    },
                    {
                      "entity": "input_datetime.elenas_school_day_alarm"
                    },
                    {
                      "entity": "input_datetime.eca_day_alarm"
                    },
                    {
                      "entity": "input_boolean.parents_room_next_alarm_dismissed"
                    },
                    {
                      "entity": "input_boolean.elis_room_next_alarm_dismissed"
                    },
                    {
                      "entity": "input_boolean.elenas_room_next_alarm_dismissed"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "Settings - Cooling",
          "path": "settings-cooling",
          "icon": "mdi:home-thermometer-outline",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_datetime.ac_auto_control_start",
                      "name": "Auto Control Start"
                    },
                    {
                      "entity": "input_datetime.ac_auto_control_end",
                      "name": "Auto Control End"
                    }
                  ]
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.sitting_rooms_fan_speed_when_cool",
                      "name": "Cool Speed"
                    },
                    {
                      "entity": "input_number.sitting_rooms_fan_speed_when_warm",
                      "name": "Warm Speed"
                    }
                  ],
                  "title": "Sitting Rooms"
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.bedrooms_fan_speed_when_cool",
                      "name": "Cool Speed"
                    },
                    {
                      "entity": "input_number.bedrooms_fan_speed_when_warm",
                      "name": "Warm Speed"
                    }
                  ],
                  "title": "Bedrooms"
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Settings - Lighting",
          "path": "settings-lighting",
          "icon": "mdi:home-lightbulb-outline",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.minimum_lux"
                    },
                    {
                      "entity": "input_number.comfortable_lux"
                    },
                    {
                      "entity": "input_number.maximum_lux"
                    },
                    {
                      "entity": "input_number.light_brightness_change_step",
                      "name": "Brightness Change"
                    },
                    {
                      "entity": "input_number.morning_light_brightness",
                      "name": "Morning Brightness"
                    },
                    {
                      "entity": "input_number.night_light_brightness",
                      "name": "Night Brightness"
                    },
                    {
                      "entity": "input_datetime.dim_hours_start"
                    },
                    {
                      "entity": "input_datetime.dim_hours_end"
                    }
                  ]
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.blinds_command_deconflict",
                      "name": "Blinds Deconflict"
                    },
                    {
                      "entity": "input_number.blinds_auto_control_debounce",
                      "name": "Blinds Debounce"
                    },
                    {
                      "entity": "automation.south_facing_blinds_auto_control",
                      "name": "Auto South-Facing Blinds"
                    },
                    {
                      "entity": "automation.kitchen_blind_auto_control",
                      "name": "Auto Kitchen Blinds"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Automation",
          "path": "automations",
          "icon": "mdi:home-automation",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "input_number.resync_delay",
                  "name": "Device Resync"
                },
                {
                  "entity": "input_number.holiday_advance_reminder",
                  "name": "Holiday Reminders"
                },
                {
                  "entity": "input_boolean.away_mode"
                },
                {
                  "entity": "input_boolean.party_mode"
                }
              ]
            }
          ]
        },
        {
          "title": "Diagnostic Thresholds",
          "path": "diagnostics",
          "icon": "mdi:arrow-expand-vertical",
          "subview": true,
          "theme": "no_border",
          "badges": [],
          "cards": [
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "input_number.battery_threshold_low",
                  "name": "Battery - Low"
                },
                {
                  "entity": "input_number.temperature_threshold_cold",
                  "name": "Temperature - Cold"
                },
                {
                  "entity": "input_number.temperature_threshold_warm",
                  "name": "Temperature - Hot"
                },
                {
                  "entity": "input_number.humidity_threshold_low",
                  "name": "Humidity - Low"
                },
                {
                  "entity": "input_number.humidity_threshold_high",
                  "name": "Humidity - High"
                },
                {
                  "entity": "input_number.zigbee_lqi_threshold_poor",
                  "name": "Zigbee LQI - Low"
                },
                {
                  "entity": "input_number.zigbee_lqi_threshold_moderate",
                  "name": "Zigbee LQI - High"
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Network",
          "path": "network",
          "icon": "mdi:server-security",
          "subview": true,
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            },
            {
              "user": "2651cb9042dd41acb0b54327457a9a14"
            },
            {
              "user": "3f55c30534f747c8a0ccb6714fd8b594"
            }
          ],
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## Proxmox"
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "grid",
                      "columns": 1,
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:clock-start",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:memory",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:harddisk",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:server",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.proxmox_last_boot",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.node_proxmox_memory_used_percentage",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.node_proxmox_disk_used_percentage",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:router-wireless",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.pfsense_last_boot",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.qemu_pfsense_100_memory_used_percentage",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.pfsense_filesystem_used_percentage_slash",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:home-assistant",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.home_assistant_last_boot",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.qemu_eloquent_house_101_memory_used_percentage",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.disk_use_percent",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:docker",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.docker_last_boot",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.qemu_docker_102_memory_used_percentage",
                          "template": "square_cell",
                          "show_icon": false,
                          "show_state": true,
                          "state_display": "[[[ return parseFloat(entity.state).toFixed(1) + '%']]]"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "CPU Use"
                  },
                  "series": [
                    {
                      "entity": "sensor.node_proxmox_cpu_used",
                      "name": "Proxmox"
                    },
                    {
                      "entity": "sensor.qemu_pfsense_100_cpu_used",
                      "name": "pfSense"
                    },
                    {
                      "entity": "sensor.qemu_eloquent_house_101_cpu_used",
                      "name": "Home Assistant"
                    },
                    {
                      "entity": "sensor.qemu_docker_102_cpu_used",
                      "name": "Docker"
                    }
                  ]
                },
                {
                  "type": "markdown",
                  "content": "## pfSense"
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.pfsense_pf_state_table_used",
                      "show_name": false,
                      "show_state": true,
                      "layout": "icon_state",
                      "state_display": "[[[ return entity.state + ' states']]]"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.pfsense_dhcp_leases_online",
                      "show_name": false,
                      "show_state": true,
                      "layout": "icon_state"
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "Network Traffic"
                  },
                  "all_series_config": {
                    "curve": "smooth"
                  },
                  "series": [
                    {
                      "entity": "sensor.pfsense_mb_in_within_1min",
                      "name": "pfSense inbound"
                    },
                    {
                      "entity": "sensor.pfsense_mb_out_within_1min",
                      "name": "pfSense outbound"
                    },
                    {
                      "entity": "sensor.home_assistant_mb_in_within_1min",
                      "name": "HA inbound"
                    },
                    {
                      "entity": "sensor.home_assistant_mb_out_within_1min",
                      "name": "HA outbound"
                    }
                  ]
                },
                {
                  "type": "markdown",
                  "content": "## AdGuard"
                },
                {
                  "square": true,
                  "columns": 4,
                  "type": "grid",
                  "cards": [
                    {
                      "show_name": true,
                      "show_icon": true,
                      "type": "button",
                      "tap_action": {
                        "action": "toggle"
                      },
                      "entity": "switch.adguard_home_filtering",
                      "name": "DNS Filtering"
                    },
                    {
                      "show_name": true,
                      "show_icon": true,
                      "type": "button",
                      "tap_action": {
                        "action": "toggle"
                      },
                      "entity": "switch.adguard_home_safe_browsing",
                      "name": "Safe Browsing"
                    },
                    {
                      "show_name": true,
                      "show_icon": true,
                      "type": "button",
                      "tap_action": {
                        "action": "toggle"
                      },
                      "entity": "switch.adguard_home_safe_search",
                      "name": "Safe Search"
                    },
                    {
                      "show_name": true,
                      "show_icon": true,
                      "type": "button",
                      "tap_action": {
                        "action": "toggle"
                      },
                      "entity": "switch.adguard_home_parental_control",
                      "name": "Parental Controls"
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "AdGuard DNS Processing Speed"
                  },
                  "series": [
                    {
                      "entity": "sensor.adguard_home_average_processing_speed",
                      "name": " ",
                      "stroke_width": 2,
                      "curve": "smooth"
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "AdGuard DNS Queries"
                  },
                  "series": [
                    {
                      "entity": "sensor.dns_queries_within_5min",
                      "type": "column",
                      "name": "requested within 5min",
                      "yaxis_id": "count",
                      "color": "teal"
                    },
                    {
                      "entity": "sensor.dns_queries_blocked_by_filters_within_5min",
                      "name": "blocked within 5min",
                      "type": "column",
                      "yaxis_id": "count",
                      "color": "red"
                    },
                    {
                      "entity": "sensor.dns_query_filter_block_rate_within_5min",
                      "name": "requests blocked within 5min",
                      "yaxis_id": "percent",
                      "color": "orange"
                    }
                  ],
                  "yaxis": [
                    {
                      "id": "count",
                      "decimals": 0
                    },
                    {
                      "id": "percent",
                      "decimals": 0,
                      "opposite": true
                    }
                  ]
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "sensor.adguard_home_dns_queries",
                      "name": "DNS Queries"
                    },
                    {
                      "entity": "sensor.adguard_home_dns_queries_blocked",
                      "name": "Blocked by Filters"
                    },
                    {
                      "entity": "sensor.adguard_home_dns_queries_blocked_ratio",
                      "name": "% Blocked by Filters"
                    },
                    {
                      "entity": "sensor.adguard_home_safe_browsing_blocked",
                      "name": "Blocked by Safe Browsing"
                    },
                    {
                      "entity": "sensor.adguard_home_parental_control_blocked",
                      "name": "Blocked by Parental Controls"
                    },
                    {
                      "entity": "sensor.adguard_home_safe_searches_enforced",
                      "name": "Safe Searches Enforced"
                    }
                  ],
                  "title": "30-Day Stats"
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Motion",
          "path": "motion",
          "icon": "mdi:motion-sensor",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "square_cell",
                          "icon": "mdi:bed",
                          "name": "Elena",
                          "show_name": true,
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": [
                                "automation.elenas_room_motion_ac",
                                "automation.elenas_room_motion_fan",
                                "automation.elenas_room_motion_lights",
                                "automation.elenas_room_motion_timeout"
                              ]
                            }
                          },
                          "double_tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_off",
                            "service_data": {
                              "entity_id": [
                                "automation.elenas_room_motion_ac",
                                "automation.elenas_room_motion_fan",
                                "automation.elenas_room_motion_lights",
                                "automation.elenas_room_motion_timeout"
                              ]
                            }
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elenas_room_motion_lights",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elenas_room_motion_fan",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elenas_room_motion_ac",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elenas_room_motion_timeout",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "square_cell",
                          "icon": "mdi:bed",
                          "name": "Eli",
                          "show_name": true,
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": [
                                "automation.elis_room_motion_ac",
                                "automation.elis_room_motion_fan",
                                "automation.elis_room_motion_lights",
                                "automation.elis_room_motion_timeout"
                              ]
                            }
                          },
                          "double_tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_off",
                            "service_data": {
                              "entity_id": [
                                "automation.elis_room_motion_ac",
                                "automation.elis_room_motion_fan",
                                "automation.elis_room_motion_lights",
                                "automation.elis_room_motion_timeout"
                              ]
                            }
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elis_room_motion_lights",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elis_room_motion_fan",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elis_room_motion_ac",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.elis_room_motion_timeout",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "square_cell",
                          "icon": "mdi:pasta",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": [
                                "automation.dining_room_motion_ac",
                                "automation.dining_room_motion_fan",
                                "automation.dining_room_motion_lights",
                                "automation.dining_room_motion_pendant_light",
                                "automation.dining_room_motion_timeout"
                              ]
                            }
                          },
                          "double_tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_off",
                            "service_data": {
                              "entity_id": [
                                "automation.dining_room_motion_ac",
                                "automation.dining_room_motion_fan",
                                "automation.dining_room_motion_lights",
                                "automation.dining_room_motion_pendant_light",
                                "automation.dining_room_motion_timeout"
                              ]
                            }
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.dining_room_motion_lights",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.dining_room_motion_pendant_light",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.dining_room_motion_fan",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.dining_room_motion_ac",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.dining_room_motion_timeout",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "square_cell",
                          "icon": "mdi:sofa",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": [
                                "automation.living_room_motion_ac",
                                "automation.living_room_motion_fan",
                                "automation.living_room_motion_lights",
                                "automation.living_room_motion_pendant_light",
                                "automation.living_room_motion_timeout"
                              ]
                            }
                          },
                          "double_tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_off",
                            "service_data": {
                              "entity_id": [
                                "automation.living_room_motion_ac",
                                "automation.living_room_motion_fan",
                                "automation.living_room_motion_lights",
                                "automation.living_room_motion_pendant_light",
                                "automation.living_room_motion_timeout"
                              ]
                            }
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.living_room_motion_lights",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.living_room_motion_pendant_light",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.living_room_motion_fan",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.living_room_motion_ac",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.living_room_motion_timeout",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "square_cell",
                          "icon": "mdi:bookshelf",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": [
                                "automation.study_room_motion_ac",
                                "automation.study_room_motion_fan",
                                "automation.study_room_motion_lights",
                                "automation.study_room_motion_timeout"
                              ]
                            }
                          },
                          "double_tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_off",
                            "service_data": {
                              "entity_id": [
                                "automation.study_room_motion_ac",
                                "automation.study_room_motion_fan",
                                "automation.study_room_motion_lights",
                                "automation.study_room_motion_timeout"
                              ]
                            }
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.study_room_motion_lights",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.study_room_motion_fan",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.study_room_motion_ac",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.study_room_motion_timeout",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "square_cell",
                          "icon": "mdi:bed",
                          "name": "D&G",
                          "show_name": true,
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_on",
                            "service_data": {
                              "entity_id": [
                                "automation.parents_room_motion_ac",
                                "automation.parents_room_motion_fan",
                                "automation.parents_room_motion_lights",
                                "automation.parents_room_motion_timeout"
                              ]
                            }
                          },
                          "double_tap_action": {
                            "action": "call-service",
                            "service": "automation.turn_off",
                            "service_data": {
                              "entity_id": [
                                "automation.parents_room_motion_ac",
                                "automation.parents_room_motion_fan",
                                "automation.parents_room_motion_lights",
                                "automation.parents_room_motion_timeout"
                              ]
                            }
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.parents_room_motion_lights",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.parents_room_motion_fan",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.parents_room_motion_ac",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "automation.parents_room_motion_timeout",
                          "template": "square_cell"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.motion_timeout_bedrooms",
                      "name": "Bedrooms"
                    },
                    {
                      "entity": "input_number.motion_timeout_walking_areas",
                      "name": "Walking Areas"
                    },
                    {
                      "entity": "input_number.motion_timeout_presence",
                      "name": "Presence"
                    }
                  ],
                  "title": "Timeouts",
                  "show_header_toggle": false
                }
              ]
            }
          ]
        },
        {
          "title": "Vacuum",
          "path": "vacuum",
          "icon": "mdi:robot-vacuum-variant",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "features": [
                    {
                      "type": "vacuum-commands",
                      "commands": [
                        "start_pause",
                        "stop",
                        "return_home"
                      ]
                    }
                  ],
                  "type": "tile",
                  "entity": "vacuum.roborock_s7",
                  "show_entity_picture": false,
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "state_content": [
                    "state",
                    "fan_speed"
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "vacuum.roborock_s7",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "vacuum.roborock_s7",
                      "state_not": "unknown"
                    }
                  ],
                  "card": {
                    "type": "horizontal-stack",
                    "cards": [
                      {
                        "show_state": false,
                        "show_name": false,
                        "camera_view": "auto",
                        "type": "picture-entity",
                        "entity": "image.roborock_s7",
                        "name": "Cleaning Map",
                        "tap_action": {
                          "action": "none"
                        },
                        "hold_action": {
                          "action": "none"
                        }
                      },
                      {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "vertical-stack",
                            "cards": [
                              {
                                "type": "tile",
                                "entity": "sensor.roborock_s7_battery",
                                "name": " "
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "condition": "state",
                                    "entity": "vacuum.roborock_s7",
                                    "state": "docked"
                                  }
                                ],
                                "card": {
                                  "type": "tile",
                                  "entity": "sensor.roborock_s7_last_clean_begin",
                                  "name": " "
                                }
                              },
                              {
                                "type": "tile",
                                "entity": "sensor.roborock_s7_cleaning_time",
                                "name": " "
                              },
                              {
                                "type": "tile",
                                "entity": "sensor.roborock_s7_cleaning_area",
                                "name": " "
                              }
                            ]
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "condition": "or",
                                "conditions": [
                                  {
                                    "condition": "state",
                                    "entity": "binary_sensor.roborock_s7_mop_attached",
                                    "state": "off"
                                  },
                                  {
                                    "condition": "state",
                                    "entity": "binary_sensor.roborock_s7_water_box_attached",
                                    "state": "off"
                                  }
                                ]
                              }
                            ],
                            "card": {
                              "type": "vertical-stack",
                              "cards": [
                                {
                                  "type": "tile",
                                  "entity": "binary_sensor.roborock_s7_mop_attached",
                                  "icon": "",
                                  "tap_action": {
                                    "action": "call-service",
                                    "service": "select.select_next",
                                    "target": {
                                      "entity_id": "select.roborock_s7_mop_intensity"
                                    },
                                    "data": {
                                      "cycle": true
                                    }
                                  },
                                  "name": " "
                                },
                                {
                                  "type": "tile",
                                  "entity": "binary_sensor.roborock_s7_water_box_attached",
                                  "name": " ",
                                  "icon": "",
                                  "tap_action": {
                                    "action": "call-service",
                                    "service": "select.select_next",
                                    "target": {
                                      "entity_id": "select.roborock_s7_mop_mode"
                                    },
                                    "data": {
                                      "cycle": true
                                    }
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "condition": "state",
                                "entity": "binary_sensor.roborock_s7_mop_attached",
                                "state": "on"
                              },
                              {
                                "condition": "state",
                                "entity": "binary_sensor.roborock_s7_water_box_attached",
                                "state": "on"
                              }
                            ],
                            "card": {
                              "type": "vertical-stack",
                              "cards": [
                                {
                                  "type": "tile",
                                  "entity": "select.roborock_s7_mop_intensity",
                                  "name": " ",
                                  "icon": "",
                                  "tap_action": {
                                    "action": "call-service",
                                    "service": "select.select_next",
                                    "target": {
                                      "entity_id": "select.roborock_s7_mop_intensity"
                                    },
                                    "data": {
                                      "cycle": true
                                    }
                                  }
                                },
                                {
                                  "type": "tile",
                                  "entity": "select.roborock_s7_mop_mode",
                                  "name": " ",
                                  "icon": "",
                                  "tap_action": {
                                    "action": "call-service",
                                    "service": "select.select_next",
                                    "target": {
                                      "entity_id": "select.roborock_s7_mop_mode"
                                    },
                                    "data": {
                                      "cycle": true
                                    }
                                  }
                                },
                                {
                                  "type": "tile",
                                  "entity": "binary_sensor.roborock_s7_water_shortage",
                                  "name": " "
                                }
                              ]
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "vacuum.roborock_s7",
                      "state": "idle"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Vacuum not docked properly</ha-alert>"
                  }
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "vacuum.roborock_s7",
                          "state": "error"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "content": "<ha-alert alert-type=\"error\">{{ states('sensor.roborock_s7_vacuum_error').capitalize().replace('_', ' ') + '.' }}</ha-alert>"
                      }
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "or",
                      "conditions": [
                        {
                          "condition": "state",
                          "entity": "vacuum.roborock_s7",
                          "state": "unavailable"
                        },
                        {
                          "condition": "state",
                          "entity": "vacuum.roborock_s7",
                          "state": "unknown"
                        }
                      ]
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "name": "Reload",
                    "tap_action": {
                      "action": "call-service",
                      "service": "homeassistant.reload_config_entry",
                      "service_data": {
                        "device_id": "e53c4142b0a58065e2dedda56a576eff"
                      }
                    },
                    "styles": {
                      "card": [
                        {
                          "height": "20px"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Washer",
          "path": "washer",
          "icon": "mdi:washing-machine",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.washer_status",
                      "state_not": "Off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.washer_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.washer_countdown",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "entities",
                        "entities": [
                          {
                            "entity": "sensor.washer_current_course",
                            "name": "Current Course"
                          },
                          {
                            "entity": "sensor.washer_water_temp",
                            "name": "Water Temperature"
                          },
                          {
                            "entity": "sensor.washer_spin_speed",
                            "name": "Spin Speed"
                          },
                          {
                            "entity": "binary_sensor.washer_door_lock",
                            "name": "Door Lock"
                          },
                          {
                            "entity": "binary_sensor.washer_child_lock",
                            "name": "Child Lock"
                          }
                        ],
                        "state_color": true
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.washer_status",
                      "state": "Off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.washer_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.washer_last_wash_completed",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "binary_sensor.washer_door",
                            "name": " "
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.washer_error_state",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">{{ state_attr(\"sensor.washer\", \"error_message\") }}</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.washer_load_clean",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"success\">Wash completed.  Please unload laundry.</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.washer_tub_dirty",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"info\">{{ states('sensor.washer_tub_clean_counter') }} loads since last tub cleaning</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Dishwasher",
          "path": "dishwasher",
          "icon": "mdi:dishwasher",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.dishwasher",
                      "state": "off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.dishwasher_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "binary_sensor.dishwasher_door",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.dishwasher_last_run_ended",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.dishwasher_last_run_duration",
                            "name": " "
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.dishwasher",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.dishwasher_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.dishwasher_last_run_started",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "custom:apexcharts-card",
                        "config_templates": "standard",
                        "graph_span": "30min",
                        "header": {
                          "title": "Dishwasher Watts"
                        },
                        "series": [
                          {
                            "entity": "sensor.dishwasher_watts",
                            "name": " ",
                            "stroke_width": 2
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.dishwasher_load_clean",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"success\">Dishwasher cooled down.  Please open dishwasher.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Rice Cooker",
          "path": "rice_cooker",
          "icon": "mdi:rice",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.rice_cooker",
                      "state": "off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.rice_cooker_status",
                            "name": " ",
                            "tap_action": {
                              "action": "call-service",
                              "service": "switch.turn_on",
                              "service_data": {
                                "entity_id": "switch.rice_cooker"
                              }
                            },
                            "icon_tap_action": {
                              "action": "more-info"
                            },
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "binary_sensor.rice_cooker_lid",
                            "name": " ",
                            "vertical": false
                          }
                        ]
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.rice_cooker_last_run_ended",
                            "name": " ",
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.rice_cooker_last_run_duration",
                            "name": " ",
                            "vertical": false
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.rice_cooker",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.rice_cooker_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.rice_cooker_last_run_started",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "custom:apexcharts-card",
                        "config_templates": "standard",
                        "graph_span": "30min",
                        "header": {
                          "title": "Rice Cooker Watts"
                        },
                        "series": [
                          {
                            "entity": "sensor.rice_cooker_watts",
                            "name": " ",
                            "stroke_width": 2
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Stove",
          "path": "stove",
          "icon": "mdi:stove",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.stove_main_power",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "square": true,
                        "type": "grid",
                        "columns": 4,
                        "cards": [
                          {
                            "show_name": false,
                            "show_icon": true,
                            "type": "button",
                            "entity": "switch.stove_main_power",
                            "icon": "mdi:power"
                          },
                          {
                            "show_name": false,
                            "show_icon": true,
                            "type": "button",
                            "entity": "input_boolean.stove_select_left_burner"
                          },
                          {
                            "type": "button",
                            "entity": "input_boolean.stove_select_right_burner",
                            "show_name": false
                          },
                          {
                            "type": "button",
                            "entity": "switch.stove_pause",
                            "show_name": false
                          }
                        ]
                      },
                      {
                        "type": "custom:slider-button-card",
                        "entity": "input_number.stove_current_burner_power_slider",
                        "slider": {
                          "direction": "left-right",
                          "background": "solid",
                          "use_state_color": false,
                          "use_percentage_bg_opacity": false,
                          "show_track": false,
                          "toggle_on_click": false,
                          "force_square": false
                        },
                        "show_name": true,
                        "show_state": true,
                        "compact": true,
                        "icon": {
                          "show": true,
                          "use_state_color": true,
                          "tap_action": {
                            "action": "more-info"
                          },
                          "icon": ""
                        },
                        "action_button": {
                          "mode": "toggle",
                          "icon": "mdi:power",
                          "show": false,
                          "show_spinner": true,
                          "tap_action": {
                            "action": "toggle"
                          }
                        },
                        "name": "Power:"
                      },
                      {
                        "type": "custom:slider-button-card",
                        "entity": "number.stove_current_burner_timer",
                        "slider": {
                          "direction": "left-right",
                          "background": "solid",
                          "use_percentage_bg_opacity": false,
                          "use_state_color": false,
                          "show_track": false,
                          "toggle_on_click": false,
                          "force_square": false
                        },
                        "show_name": true,
                        "show_state": true,
                        "compact": true,
                        "icon": {
                          "show": true,
                          "use_state_color": true,
                          "tap_action": {
                            "action": "more-info"
                          },
                          "icon": ""
                        },
                        "action_button": {
                          "mode": "toggle",
                          "icon": "mdi:power",
                          "show": false,
                          "show_spinner": true,
                          "tap_action": {
                            "action": "toggle"
                          }
                        },
                        "name": "Timer (min):"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.stove_main_power",
                      "state": "off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "switch.stove_main_power",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.stove_last_use",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.stove_total_time_used",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.stove_total_power_consumed",
                            "name": " "
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "select.stove_error_code",
                      "state_not": "None"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">{{ states(\"select.stove_error_code\") }}</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Playroom",
          "path": "playroom",
          "icon": "mdi:teddy-bear",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 5,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.playroom_motion",
                      "template": "square_cell_background",
                      "label": "Play",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_motion",
                      "template": "square_cell_background",
                      "label": "Yard",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_window_1",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_window_2",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_window_open_at_yard",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_yard_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_yard_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Elena's Room",
          "path": "elenas_room",
          "icon": "mdi:bed",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 5,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_elenas_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Eli's Room",
          "path": "elis_room",
          "icon": "mdi:bed",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 5,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_core_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_core_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_elis_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Hallway",
          "path": "hallway",
          "icon": "mdi:swap-horizontal-circle-outline",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_door",
                      "template": "square_cell_background",
                      "label": "Elena",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_door",
                      "template": "square_cell_background",
                      "label": "Eli",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_door",
                      "template": "square_cell_background",
                      "label": "Jr Bath",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_door",
                      "template": "square_cell_background",
                      "label": "Powder",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.hallway_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.hallway_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Powder Room",
          "path": "powder_room",
          "icon": "mdi:toilet",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.powder_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "switch.water_heater",
                      "template": "turn_on"
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_powder_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Junior Bathroom",
          "path": "junior_bathroom",
          "icon": "mdi:shower-head",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_motion",
                      "template": "square_cell_background",
                      "label": "Entry",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_shower_motion",
                      "template": "square_cell_background",
                      "label": "Shower",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.junior_shower_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_junior_bathroom",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Dining Room",
          "path": "dining_room",
          "icon": "mdi:pasta",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 5,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.dining_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.main_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_radar_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_dining_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Living Room",
          "path": "living_room",
          "icon": "mdi:sofa",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.living_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.living_room_radar_lux_calibrated",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Study Room",
          "path": "study_room",
          "icon": "mdi:bookshelf",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_walkway_motion",
                      "template": "square_cell_background",
                      "label": "Walkway",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_presence",
                      "template": "square_cell_background",
                      "label": "Desk",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_ethernet_connection",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_walkway_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_study_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Parents' Room",
          "path": "parents_room",
          "icon": "mdi:bed",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_door",
                      "template": "square_cell_background",
                      "label": "Bedroom",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_door",
                      "template": "square_cell_background",
                      "label": "Bathroom",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_core_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_core_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_doors_open_at_parents_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with doors open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Parents' Bathroom",
          "path": "parents_bathroom",
          "icon": "mdi:bathtub",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_motion",
                      "template": "square_cell_background",
                      "label": "Entry",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_shower_motion",
                      "template": "square_cell_background",
                      "label": "Shower",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.junior_shower_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_master_bathroom",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Kitchen",
          "path": "kitchen",
          "icon": "mdi:pot-steam",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.kitchen_presence",
                      "template": "square_cell_background",
                      "label": "Sink",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.kitchen_stove_motion",
                      "template": "square_cell_background",
                      "label": "Stove",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_radar_lux_calibrated",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_window_open_at_kitchen",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_kitchen_window_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_kitchen_window_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with window open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Weather",
          "path": "weather",
          "icon": "mdi:weather-cloudy",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "show_current": true,
                  "show_forecast": true,
                  "type": "weather-forecast",
                  "entity": "weather.local_weather",
                  "secondary_info_attribute": "humidity",
                  "name": "NEA via data.gov.sg",
                  "forecast_type": "daily"
                },
                {
                  "type": "picture",
                  "tap_action": {
                    "action": "call-service",
                    "service": "script.nea_rain_radar_animation",
                    "target": {}
                  },
                  "hold_action": {
                    "action": "none"
                  },
                  "image_entity": "image.rain_radar_animation"
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "state": "off",
                      "entity": "script.nea_rain_radar_animation"
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "entity": "script.nea_rain_radar_animation",
                    "name": "Last Updated",
                    "state_display": "[[[ \n  return helpers.formatShortDateTime(states['image.rain_radar_animation'].last_changed)\n]]]\n",
                    "show_state": true,
                    "show_icon": false,
                    "tap_action": {
                      "action": "call-service",
                      "service": "script.nea_rain_radar_animation"
                    },
                    "layout": "name_state",
                    "styles": {
                      "card": [
                        {
                          "height": "20px"
                        }
                      ]
                    }
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "script.nea_rain_radar_animation",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "name": "Updating...",
                    "styles": {
                      "card": [
                        {
                          "height": "20px"
                        }
                      ],
                      "name": [
                        {
                          "animation": "blink 2s ease infinite"
                        }
                      ]
                    }
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Transit",
          "path": "transit",
          "icon": "mdi:bus",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "markdown",
                      "content": "## <ha-icon icon=\"mdi:numeric-1-circle\"></ha-icon> Sims Drive Market"
                    },
                    {
                      "type": "custom:button-card",
                      "template": "nextbus",
                      "entity": "sensor.sims_drive_market_bus_64",
                      "variables": {
                        "service_no": 64
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "template": "nextbus",
                      "entity": "sensor.sims_drive_market_bus_134",
                      "variables": {
                        "service_no": 134
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "template": "nextbus",
                      "entity": "sensor.sims_drive_market_bus_137",
                      "variables": {
                        "service_no": 137
                      }
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "markdown",
                      "content": "## <ha-icon icon=\"mdi:numeric-2-circle\"></ha-icon> Opposite Aljunied Station"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.opposite_aljunied_station_bus_40",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 40,
                        "bus_stop_binary_sensor": "binary_sensor.opposite_aljunied_station_bus_stop"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.opposite_aljunied_station_bus_125",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 125,
                        "bus_stop_binary_sensor": "binary_sensor.opposite_aljunied_station_bus_stop"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "markdown",
                      "content": "## <ha-icon icon=\"mdi:numeric-3-circle\"></ha-icon> Aljunied Station"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.aljunied_station_bus_40",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 40,
                        "bus_stop_binary_sensor": "binary_sensor.aljunied_station_bus_stop"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.aljunied_station_bus_80",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 80,
                        "bus_stop_binary_sensor": "binary_sensor.aljunied_station_bus_stop"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.aljunied_station_bus_100",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 100,
                        "bus_stop_binary_sensor": "binary_sensor.aljunied_station_bus_stop"
                      }
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "markdown",
                      "content": "## <ha-icon icon=\"mdi:numeric-4-circle\"></ha-icon> Before Lorong 23 Geylang"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.before_lorong_23_geylang_bus_2",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 2,
                        "bus_stop_binary_sensor": "binary_sensor.before_lorong_23_geylang_bus_stop"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.before_lorong_23_geylang_bus_13",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 13,
                        "bus_stop_binary_sensor": "binary_sensor.before_lorong_23_geylang_bus_stop"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.before_lorong_23_geylang_bus_26",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 26,
                        "bus_stop_binary_sensor": "binary_sensor.before_lorong_23_geylang_bus_stop"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.before_lorong_23_geylang_bus_67",
                      "template": "nextbus",
                      "variables": {
                        "service_no": 67,
                        "bus_stop_binary_sensor": "binary_sensor.before_lorong_23_geylang_bus_stop"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "picture",
              "image": "/local/floorplan/transit_basemap_numbered.png"
            }
          ]
        },
        {
          "title": "Legend",
          "path": "sensors-legend",
          "icon": "mdi:information-outline",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:motion-sensor",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Minutes",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Motion",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Clear",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:door-open",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "# Open",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Open",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Closed",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:window-open",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "# Open",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Open",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Closed",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:thermometer",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Â°C",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Cool",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Warm",
                      "show_label": true,
                      "color": "#f2900f",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Hot",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:water-percent",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "%",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Dry",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Humid",
                      "show_label": true,
                      "color": "#f2900f",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Muggy",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:brightness-5",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Lux",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Bright",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Dim",
                      "show_label": true,
                      "color": "#f2900f",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Dark",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
}