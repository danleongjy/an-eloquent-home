{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "resources": [
        {
          "url": "/local/decluttering-card.js",
          "type": "module"
        }
      ],
      "button_card_templates": {
        "square_cell": {
          "aspect_ratio": "1/1",
          "show_name": false,
          "hold_action": {
            "action": "more-info"
          }
        },
        "square_cell_background": {
          "template": "square_cell",
          "styles": {
            "card": [
              {
                "background-color": "var(--primary-background-color)"
              }
            ]
          }
        },
        "top_row": {
          "template": "square_cell",
          "show_name": false,
          "styles": {
            "card": [
              {
                "border-color": "grey"
              },
              {
                "border-width": "2px"
              }
            ]
          }
        },
        "turn_on": {
          "template": "square_cell",
          "tap_action": {
            "action": "toggle"
          },
          "double_tap_action": {
            "action": "call-service",
            "service": "automation.toggle"
          }
        },
        "error": {
          "template": "turn_on",
          "tap_action": "more-info",
          "styles": {
            "card": [
              {
                "background-color": "#484848"
              }
            ],
            "icon": [
              {
                "color": "#FFFFFF"
              }
            ]
          }
        },
        "manual_control_indicator": {
          "custom_fields": {
            "indicator_manual_control": {
              "card": {
                "type": "custom:button-card",
                "entity": "[[[ return variables.auto_control_automation ]]]",
                "show_name": false,
                "show_state": false,
                "icon": "mdi:alpha-m-box",
                "double_tap_action": {
                  "action": "toggle"
                },
                "tap_action": {
                  "action": "none"
                },
                "styles": {
                  "card": [
                    {
                      "height": "16px"
                    },
                    {
                      "width": "16px"
                    },
                    {
                      "background-color": "rgba(0,0,0,0)"
                    },
                    {
                      "padding": "0px"
                    }
                  ],
                  "icon": [
                    {
                      "height": "100%"
                    },
                    {
                      "width": "100%"
                    },
                    {
                      "color": "[[[\n  if (states[variables.auto_control_automation].state == 'on' || states['input_boolean.away_mode'].state == 'on' )\n    return 'rgba(0,0,0,0)'\n  else if (['unavailable','unknown'].includes(entity.state))\n    return 'var(--state-inactive-color)';\n  else if (['off','closed'].includes(entity.state))\n    return 'var(--state-icon-color)';\n  else if (typeof entity.attributes.rgb_color !== 'undefined' && entity.attributes.rgb_color !== null)\n    return \"rgb(\" + entity.attributes.rgb_color[0] + \",\" +\n    entity.attributes.rgb_color[1] + \",\" +\n    entity.attributes.rgb_color[2] + \")\"\n  else\n    return 'var(--state-binary_sensor-active-color)'\n]]]\n"
                    }
                  ]
                }
              }
            }
          },
          "styles": {
            "grid": [
              {
                "position": "relative"
              }
            ],
            "custom_fields": {
              "indicator_manual_control": [
                {
                  "position": "absolute"
                },
                {
                  "right": "10%"
                },
                {
                  "top": "10%"
                },
                {
                  "z-index": 3
                }
              ]
            }
          }
        },
        "area_button": {
          "template": "square_cell",
          "tap_action": {
            "action": "call-service",
            "service": "script.set_recommended_scene"
          },
          "double_tap_action": {
            "action": "call-service",
            "service": "automation.trigger"
          },
          "hold_action": {
            "action": "navigate"
          }
        },
        "area_button_elenas_room": {
          "template": "area_button",
          "icon": "mdi:bed",
          "name": "A",
          "show_name": true,
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.elenas_room_motion_timeout"
            }
          },
          "tap_action": {
            "data": {
              "room": [
                "elenas_room"
              ]
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/elenas_room"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_elenas_room'].state == 'on'\n      || states['binary_sensor.ac_on_with_windows_open_at_elenas_room'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_elenas_room_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_elenas_room_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_elis_room": {
          "icon": "mdi:bed",
          "name": "E",
          "template": "area_button",
          "show_name": true,
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.elis_room_motion_timeout"
            }
          },
          "tap_action": {
            "data": {
              "room": [
                "elis_room"
              ]
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/elis_room"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_elis_room'].state == 'on'\n      || states['binary_sensor.ac_on_with_windows_open_at_elis_room'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_elis_room_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_elis_room_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_hallway": {
          "icon": "mdi:swap-horizontal-circle-outline",
          "template": "area_button",
          "tap_action": {
            "data": {
              "room": [
                "hallway"
              ]
            }
          },
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.hallway_motion_timeout"
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/hallway"
          }
        },
        "area_button_powder_room": {
          "template": "area_button",
          "icon": "mdi:toilet",
          "tap_action": {
            "data": {
              "room": [
                "powder_room"
              ]
            }
          },
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.powder_room_motion_timeout"
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/powder_room"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_powder_room'].state == 'on'\n      && states['binary_sensor.powder_room_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_junior_bathroom": {
          "template": "area_button",
          "icon": "mdi:shower-head",
          "tap_action": {
            "data": {
              "room": [
                "junior_bathroom"
              ]
            }
          },
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.junior_bathroom_motion_timeout"
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/junior_bathroom"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_junior_bathroom'].state == 'on'\n      && states['binary_sensor.junior_bathroom_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_dining_room": {
          "icon": "mdi:pasta",
          "template": "area_button",
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.dining_room_motion_timeout"
            }
          },
          "tap_action": {
            "data": {
              "room": [
                "dining_room"
              ]
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/dining_room"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_dining_room'].state == 'on'\n      || states['binary_sensor.ac_on_with_windows_open_at_dining_room'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_dining_room_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_dining_room_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_living_room": {
          "template": "area_button",
          "icon": "mdi:sofa",
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.living_room_motion_timeout"
            }
          },
          "tap_action": {
            "data": {
              "room": [
                "living_room"
              ]
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/living_room"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_windows_open_at_living_room'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_living_room_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_living_room_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_study_room": {
          "icon": "mdi:bookshelf",
          "template": "area_button",
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.study_room_motion_timeout"
            }
          },
          "tap_action": {
            "data": {
              "room": [
                "study_room"
              ]
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/study_room"
          },
          "label": "[[[ \n  if (parseInt(states['sensor.study_room_voice_assistant_timers_running'].state) > 0)\n    if (parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) > 15 * 60)\n      return '<ha-icon icon=\"mdi:timer\" style=\"width: 12px; height: 12px;\"></ha-icon>x' + states['sensor.study_room_voice_assistant_timers_running'].state;\n    else\n      if (parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) >= 60)\n        if (parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) % 60 >= 10)\n          return Math.floor(parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) / 60).toString() + ':' + (parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) % 60).toString()\n        else\n          return Math.floor(parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) / 60).toString() + ':0' + (parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) % 60).toString()\n      else if (parseInt(states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state) % 60 >= 10)\n        return '0:' + states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state\n      else\n        return '0:0' + states['sensor.study_room_voice_assistant_first_timer_seconds_left'].state\n  else\n    return ''\n]]]\n",
          "show_label": true,
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_study_room'].state == 'on' ||\n      states['binary_sensor.ac_on_with_windows_open_at_study_room'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_study_room_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_study_room_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_parents_room": {
          "icon": "mdi:bed",
          "name": "D&G",
          "show_name": true,
          "template": "area_button",
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.parents_room_motion_timeout"
            }
          },
          "tap_action": {
            "data": {
              "room": [
                "parents_room"
              ]
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/parents_room"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_doors_open_at_parents_room'].state == 'on'\n      || states['binary_sensor.ac_on_with_windows_open_at_parents_room'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_parents_room_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_parents_room_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_master_bathroom": {
          "icon": "mdi:bathtub",
          "template": "area_button",
          "tap_action": {
            "data": {
              "room": [
                "master_bathroom"
              ]
            }
          },
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.master_bathroom_motion_timeout"
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/parents_bathroom"
          },
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_door_open_at_master_bathroom'].state == 'on'\n      && states['binary_sensor.master_bathroom_door'].state == 'on')\n    return '#9e110d';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "area_button_kitchen": {
          "icon": "mdi:pot-steam",
          "template": "area_button",
          "tap_action": {
            "data": {
              "room": [
                "kitchen"
              ]
            }
          },
          "double_tap_action": {
            "service_data": {
              "entity_id": "automation.kitchen_motion_timeout"
            }
          },
          "hold_action": {
            "navigation_path": "/lovelace/kitchen"
          },
          "label": "[[[ \n  if (parseInt(states['sensor.kitchen_core_timers_running'].state) > 0)\n    if (parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) > 15 * 60)\n      return '<ha-icon icon=\"mdi:timer\" style=\"width: 12px; height: 12px;\"></ha-icon>x' + states['sensor.kitchen_core_timers_running'].state;\n    else\n      if (parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) > 60)\n        if (parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) % 60 >= 10)\n          return Math.floor(parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) / 60).toString() + ':' + (parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) % 60).toString()\n        else\n          return Math.floor(parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) / 60).toString() + ':0' + (parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) % 60).toString()\n      else if (parseInt(states['sensor.kitchen_core_first_timer_seconds_left'].state) % 60 >= 10)\n        return '0:' + states['sensor.kitchen_core_first_timer_seconds_left'].state\n      else\n        return '0:0' + states['sensor.kitchen_core_first_timer_seconds_left'].state\n  else\n    return ''\n]]]\n",
          "show_label": true,
          "styles": {
            "card": [
              {
                "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_kitchen'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_kitchen_window_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_kitchen_window_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
              }
            ]
          }
        },
        "device_slider": {
          "template": [
            "turn_on"
          ],
          "show_state": false,
          "tap_action": {
            "action": "toggle"
          },
          "custom_fields": {
            "slider": {
              "card": {
                "type": "custom:slider-button-card",
                "entity": "[[[ return entity.entity_id ]]]",
                "slider": {
                  "direction": "bottom-top",
                  "background": "solid",
                  "use_state_color": false,
                  "use_percentage_bg_opacity": false,
                  "show_track": false,
                  "toggle_on_click": false,
                  "invert": false
                },
                "show_name": false,
                "show_state": false,
                "compact": true,
                "icon": {
                  "show": false,
                  "use_state_color": true,
                  "tap_action": {
                    "action": "more-info"
                  },
                  "icon": ""
                },
                "action_button": {
                  "mode": "toggle",
                  "icon": "mdi:power",
                  "show": false,
                  "show_spinner": true,
                  "tap_action": {
                    "action": null
                  }
                }
              }
            }
          },
          "styles": {
            "grid": [
              {
                "position": "relative"
              }
            ],
            "custom_fields": {
              "slider": [
                {
                  "position": "absolute"
                },
                {
                  "left": "0%"
                },
                {
                  "top": "0%"
                },
                {
                  "height": "100%"
                },
                {
                  "width": "100%"
                },
                {
                  "z-index": 1
                },
                {
                  "margin": 0
                }
              ]
            },
            "icon": [
              {
                "position": "absolute"
              },
              {
                "left": "29%"
              },
              {
                "top": "30%"
              },
              {
                "height": "40%"
              },
              {
                "width": "40%"
              },
              {
                "z-index": 2
              },
              {
                "--ha-icon-display": "inline"
              },
              {
                "color": "[[[ if (['unavailable','unknown'].includes(entity.state))\n      return 'var(--disabled-color)';\n    else if (['off','closed'].includes(entity.state))\n      return 'var(--state-icon-color)';\n    else if (typeof entity.attributes.rgb_color !== 'undefined' && entity.attributes.rgb_color !== null)\n      return \"rgb(\" + entity.attributes.rgb_color[0] + \",\" +\n      entity.attributes.rgb_color[1] + \",\" +\n      entity.attributes.rgb_color[2] + \")\"\n    else\n      return 'var(--state-binary_sensor-active-color)'\n]]]"
              }
            ],
            "card": [
              {
                "padding": 0
              }
            ]
          }
        },
        "auto_control_slider": {
          "template": [
            "device_slider",
            "manual_control_indicator"
          ],
          "triggers_update": [
            "[[[ return variables.auto_control_automation ]]]"
          ]
        },
        "light_slider": {
          "template": "auto_control_slider",
          "tap_action": {
            "action": "call-service",
            "service": "script.recommended_light_level",
            "data": {
              "light": "[[[ return entity.entity_id ]]]",
              "turn_on": "[[[ return entity.state == \"off\" ]]]"
            }
          }
        },
        "fan_slider": {
          "template": "auto_control_slider",
          "double_tap_action": {
            "action": "call-service",
            "service": "fan.set_direction",
            "data": {
              "entity_id": "[[[ return entity.entity_id ]]]",
              "direction": "[[[\n  if (entity.attributes.direction == 'reverse') {\n    return 'forward'\n  } else {\n    return 'reverse'\n  }\n]]]\n"
            }
          },
          "icon": "[[[ \n  if (entity.attributes.direction == 'forward') \n    return 'mdi:fan-chevron-down'; \n  else \n    return 'mdi:fan-chevron-up';\n]]]",
          "styles": {
            "icon": [
              {
                "animation": "[[[ \n  if (entity.state == 'on') {\n    return 'rotating ' + 1 / (entity.attributes.percentage / 100) + 's linear infinite'\n  } else {\n    return ''\n  }\n]]]"
              }
            ]
          }
        },
        "media_player_slider": {
          "template": "device_slider",
          "entity_picture": "[[[ return entity.attributes.entity_picture ]]]",
          "show_entity_picture": true,
          "tap_action": {
            "action": "call-service",
            "service": "[[[\n  if (['playing', 'paused'].includes(entity.state)) {\n    return 'media_player.media_play_pause'\n  } else {\n    return 'media_player.toggle'\n  }\n]]]\n",
            "service_data": {
              "entity_id": "entity"
            }
          },
          "double_tap_action": {
            "action": "assist",
            "start_listening": true
          }
        },
        "dishwasher_more_info": {
          "template": "square_cell",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/dishwasher"
          }
        },
        "rice_cooker_more_info": {
          "template": "square_cell",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/rice_cooker"
          },
          "double_tap_action": {
            "action": "toggle"
          }
        },
        "stove_more_info": {
          "template": "square_cell",
          "hold_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/stove"
          }
        },
        "vacuum_more_info": {
          "template": "square_cell",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/vacuum"
          },
          "hold_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/vacuum"
          }
        },
        "washer_more_info": {
          "template": "square_cell",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/washer"
          },
          "show_label": true,
          "label": "[[[ \n  var parse_time = {hours: Math.floor(parseFloat(states['sensor.washer_countdown'].state)),\n                    minutes: Math.round((parseFloat(states['sensor.washer_countdown'].state) % 1) * 60, 0)};\n  if (parse_time.minutes >= 10) {\n    return parse_time.hours.toString() + ':' + parse_time.minutes.toString();\n  } else {\n    return parse_time.hours.toString() + ':0' + parse_time.minutes.toString();\n  }\n]]]\n",
          "styles": {
            "label": [
              {
                "color": "var(--state-binary-sensor-color)"
              }
            ],
            "card": [
              {
                "background": "[[[ \n  if (['Delay Set','Washing','Rinsing','Spinning'].includes(states['sensor.washer_status'].state) &&\n      states['sensor.washer_wash_progress'].state != '100') {\n    return \"linear-gradient(0deg, #41a7f2 0%, #41a7f2 \" +\n    states['sensor.washer_wash_progress'].state + \"%, #1c1c1c \" +\n    states['sensor.washer_wash_progress'].state + \"%, #1c1c1c 100%)\"\n  } else {\n    return 'var(--card-background-color)'\n  }\n]]] \n"
              }
            ]
          }
        },
        "zigbee_endpoint": {
          "aspect_ratio": "1.5/1",
          "show_name": false,
          "state": [
            {
              "operator": "<=",
              "value": 50,
              "color": "#9e110d"
            },
            {
              "operator": "<=",
              "value": 100,
              "color": "#f2900f"
            },
            {
              "operator": "<=",
              "value": 255,
              "color": "#b4fab4"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "zigbee_router": {
          "template": "zigbee_endpoint",
          "styles": {
            "card": [
              {
                "border-color": "grey"
              },
              {
                "border-width": "0.5px"
              }
            ]
          }
        },
        "sensor_view": {
          "aspect_ratio": "1.1/1",
          "show_name": false
        },
        "sensor_diag": {
          "template": "sensor_view",
          "show_icon": false,
          "color_type": "card",
          "tap_action": {
            "action": "more-info"
          }
        },
        "sensor_binary": {
          "template": "sensor_diag",
          "state": [
            {
              "value": "on",
              "color": "#b4fab4"
            },
            {
              "value": "off",
              "color": "#9e110d"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "sensor_motion": {
          "template": "sensor_binary",
          "label": "[[[ return parseInt((Date.now() - Date.parse(entity.last_changed)) / 60000) ]]]",
          "show_label": true
        },
        "sensor_temperature": {
          "template": "sensor_diag",
          "label": "[[[ return Math.round(entity.state, 0) ]]]",
          "show_label": true,
          "state": [
            {
              "operator": "<=",
              "value": 28,
              "color": "#b4fab4"
            },
            {
              "operator": "<=",
              "value": 30,
              "color": "#f2900f"
            },
            {
              "operator": ">",
              "value": 30,
              "color": "#9e110d"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "sensor_humidity": {
          "template": "sensor_diag",
          "label": "[[[ return Math.round(entity.state, 0) ]]]",
          "show_label": true,
          "state": [
            {
              "operator": "<=",
              "value": 70,
              "color": "#b4fab4"
            },
            {
              "operator": "<=",
              "value": 90,
              "color": "#f2900f"
            },
            {
              "operator": ">",
              "value": 90,
              "color": "#9e110d"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "sensor_lux": {
          "template": "sensor_diag",
          "label": "[[[ return parseInt(entity.state) ]]]",
          "show_label": true,
          "state": [
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.minimum_lux'].state) ]]]",
              "color": "#9e110d"
            },
            {
              "operator": "<=",
              "value": "[[[ return parseInt(states['input_number.comfortable_lux'].state) ]]]",
              "color": "#f2900f"
            },
            {
              "operator": ">",
              "value": "[[[ return parseInt(states['input_number.comfortable_lux'].state) ]]]",
              "color": "#b4fab4"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ]
        },
        "button_card_tile": {
          "show_state": true,
          "custom_fields": {
            "indicator": ""
          },
          "styles": {
            "grid": [
              {
                "grid-template-areas": "\"i n indicator\" \"i s indicator\""
              },
              {
                "grid-template-rows": "min-content min-content"
              },
              {
                "grid-template-columns": "56px auto 56px"
              },
              {
                "align-content": "center"
              }
            ],
            "icon": [
              {
                "height": "24px"
              }
            ],
            "name": [
              {
                "justify-self": "start"
              },
              {
                "margin-top": 0
              },
              {
                "margin-bottom": 0
              },
              {
                "font-size": "14px"
              },
              {
                "font-weight": 500
              },
              {
                "align-self": "end"
              }
            ],
            "state": [
              {
                "justify-self": "start"
              },
              {
                "margin-top": "3%"
              },
              {
                "margin-bottom": 0
              },
              {
                "font-size": "12px"
              },
              {
                "align-self": "start"
              }
            ],
            "custom_fields": {
              "indicator": [
                {
                  "height": "24px"
                },
                {
                  "width": "24px"
                },
                {
                  "justify-self": "right"
                },
                {
                  "margin-right": "25%"
                }
              ]
            },
            "card": [
              {
                "height": "56px"
              },
              {
                "padding": "0px"
              }
            ]
          }
        },
        "tile_progress_bar": {
          "template": "button_card_tile",
          "custom_fields": {
            "indicator": "<ha-icon icon='mdi:loading'></ha-icon>"
          },
          "styles": {
            "icon": [
              {
                "color": "var(--state-binary-sensor-color)"
              }
            ],
            "name": [
              {
                "color": "var(--state-binary-sensor-color)"
              }
            ],
            "state": [
              {
                "color": "var(--state-binary-sensor-color)"
              }
            ],
            "custom_fields": {
              "indicator": [
                {
                  "color": "var(--state-binary-sensor-color)"
                },
                {
                  "animation": "rotating 3s linear infinite"
                }
              ]
            },
            "card": [
              {
                "background": "[[[ return \"linear-gradient(90deg, #41a7f2 0%, #41a7f2 \" + entity.state + \"%, #1c1c1c \" + entity.state + \"%, #1c1c1c 100%)\"]]] \n"
              }
            ]
          }
        },
        "tile_status_bar": {
          "template": "button_card_tile",
          "variables": {
            "status_color": "[[[\n  if (parseInt(entity.state) > 25)\n    return '#b4fab4'\n  else if (parseInt(entity.state) > 5)\n    return '#f2900f'\n  else\n    return '#eb4034'\n]]]\n",
            "status_color_background": "[[[\n  if (parseInt(entity.state) > 25)\n    return '#5a7d5a'\n  else if (parseInt(entity.state) > 5)\n    return '#794807'\n  else\n    return '#9e110d'\n]]]\n"
          },
          "custom_fields": {
            "indicator": "[[[\n  if (parseInt(entity.state) > 25) \n    return \"<ha-icon icon='mdi:check-circle-outline'></ha-icon>\"\n  else \n    return \"<ha-icon icon='mdi:alert-circle-outline'></ha-icon>\"\n]]]\n"
          },
          "styles": {
            "icon": [
              {
                "color": "[[[ return variables.status_color ]]]"
              }
            ],
            "name": [
              {
                "color": "[[[ return variables.status_color ]]]"
              }
            ],
            "state": [
              {
                "color": "[[[ return variables.status_color ]]]"
              }
            ],
            "custom_fields": {
              "indicator": [
                {
                  "color": "[[[ return variables.status_color ]]]"
                },
                {
                  "animation": "[[[\n  if (parseInt(entity.state) <= 5) \n    return 'blink 3s ease infinite'\n]]]\n"
                }
              ]
            },
            "card": [
              {
                "background": "[[[ return \"linear-gradient(90deg, \" + variables.status_color_background + \" 0%, \" + variables.status_color_background + \" \" + entity.state + \"%, #1c1c1c \" + entity.state + \"%, #1c1c1c 100%)\"]]] \n"
              }
            ]
          }
        },
        "tile_nav_button": {
          "template": "button_card_tile",
          "custom_fields": {
            "indicator": "<ha-icon icon='mdi:chevron-right'></ha-icon>"
          },
          "tap_action": {
            "action": "navigate"
          }
        },
        "floorplan_square_cell": {
          "template": "square_cell",
          "styles": {
            "icon": [
              {
                "height": "80%"
              },
              {
                "width": "80%"
              }
            ]
          }
        },
        "floorplan_sensor_diag": {
          "template": "floorplan_square_cell",
          "color_type": "card",
          "tap_action": {
            "action": "more-info"
          }
        },
        "floorplan_sensor_cpu": {
          "template": "floorplan_sensor_diag",
          "state": [
            {
              "operator": "<=",
              "value": 5,
              "color": "#1c1c1c"
            },
            {
              "operator": "<=",
              "value": 10,
              "color": "var(--state-binary-sensor-color)"
            },
            {
              "operator": ">",
              "value": 10,
              "color": "#f2900f"
            },
            {
              "operator": "default",
              "color": "grey"
            }
          ],
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/network"
          }
        },
        "nextbus": {
          "show_icon": false,
          "show_name": false,
          "tap_action": {
            "action": "none"
          },
          "variables": {
            "busno": 64,
            "busstops": {
              "sensor.bus_stop_sims_drive_market": {
                "walk_comfortable": 5,
                "walk_min": 3
              },
              "sensor.bus_stop_opposite_aljunied_station": {
                "walk_comfortable": 10,
                "walk_min": 5
              },
              "sensor.bus_stop_aljunied_station": {
                "walk_comfortable": 12,
                "walk_min": 7
              },
              "sensor.bus_stop_before_lorong_23_geylang": {
                "walk_comfortable": 10,
                "walk_min": 5
              }
            },
            "comfortable_walk_time": "[[[ return parseInt(variables.busstops[entity.entity_id].walk_comfortable) ]]]",
            "min_walk_time": "[[[ return parseInt(variables.busstops[entity.entity_id].walk_min) ]]]",
            "bus_symbols": {
              "SD": "<ha-icon icon=\"mdi:bus-side\" style=\"width: 40px; height: 40px\"></ha-icon>",
              "DD": "<ha-icon icon=\"mdi:bus-double-decker\" style=\"width: 40px; height: 40px\"></ha-icon>"
            },
            "crowd_symbols": {
              "SEA": "<ha-icon icon=\"mdi:account\" style=\"width: 15px; height: 15px\"></ha-icon>",
              "SDA": "<font color = \"orange\"><ha-icon icon=\"mdi:account-supervisor\" style=\"width: 15px; height: 15px\"/></font>",
              "LSD": "<font color = \"red\"><ha-icon icon=\"mdi:account-group\" style=\"width: 15px; height: 15px\"/></font>"
            },
            "timings": "[[[\n  const timings = []\n  for (const bus of entity.state.split(',')) {\n    if (bus.split('/')[0] == variables.busno) {\n      timings.push(bus.split('/')[1])\n    }\n  }\n  return timings\n]]]\n",
            "statuses": "[[[\n  let statuses = []\n  for (const bus of entity.state.split(',')) {\n    if (bus.split('/')[0] == variables.busno) {\n      statuses.push(variables.crowd_symbols[bus.split('/')[2]] + variables.bus_symbols[bus.split('/')[3]])\n    }\n  }\n  return statuses\n]]]\n"
          },
          "custom_fields": {
            "busno": "[[[ return variables.busno ]]]",
            "bus1_min": "[[[ \n  if (isNaN(variables.timings[0])) {\n    return ''\n  } else if (variables.timings[0] < 2) {\n    return 'Arriving'\n  } else {\n    return variables.timings[0] + 'min' }\n]]]\n",
            "bus2_min": "[[[ \n  if (isNaN(variables.timings[1])) {\n    return ''\n  } else if (variables.timings[1] < 2) {\n    return 'Arriving'\n  } else {\n    return variables.timings[1] + 'min' }\n]]]\n",
            "bus3_min": "[[[ \n  if (isNaN(variables.timings[2])) {\n    return ''\n  } else if (variables.timings[2] < 2) {\n    return 'Arriving'\n  } else {\n    return variables.timings[2] + 'min' }\n]]]\n",
            "bus1_status": "[[[ return variables.statuses[0] ]]]",
            "bus2_status": "[[[ return variables.statuses[1] ]]]",
            "bus3_status": "[[[ return variables.statuses[2] ]]]"
          },
          "styles": {
            "card": [
              {
                "background-color": "rgba(0,0,0,0.0)"
              },
              {
                "padding": "5px"
              }
            ],
            "grid": [
              {
                "grid-template-areas": "'busno bus1_status bus2_status bus3_status' 'busno bus1_min bus2_min bus3_min'"
              },
              {
                "grid-template-columns": "1fr 1fr 1fr 1fr"
              },
              {
                "grid-template-rows": "min-content min-content"
              }
            ],
            "custom_fields": {
              "busno": [
                {
                  "font-weight": "bold"
                },
                {
                  "font-size": "32px"
                }
              ],
              "bus1_min": [
                {
                  "color": "[[[\n  if (isNaN(variables.timings[0])) {\n    return 'white'\n  } else if (variables.timings[0] <= variables.min_walk_time) {\n    return 'red'\n  } else if (variables.timings[0] <= variables.comfortable_walk_time) {\n    return 'orange'\n  } else {\n    return 'white'\n  }\n]]]\n"
                }
              ],
              "bus2_min": [
                {
                  "color": "[[[\n  if (isNaN(variables.timings[1])) {\n    return 'white'\n  } else if (variables.timings[1] <= variables.min_walk_time) {\n    return 'red'\n  } else if (variables.timings[1] <= variables.comfortable_walk_time) {\n    return 'orange'\n  } else {\n    return 'white'\n  }\n]]]\n"
                }
              ],
              "bus3_min": [
                {
                  "color": "[[[\n  if (isNaN(variables.timings[2])) {\n    return 'white'\n  } else if (variables.timings[2] <= variables.min_walk_time) {\n    return 'red'\n  } else if (variables.timings[2] <= variables.comfortable_walk_time) {\n    return 'orange'\n  } else {\n    return 'white'\n  }\n]]]\n"
                }
              ]
            }
          }
        },
        "homebound_bus": {
          "show_name": false,
          "show_icon": false,
          "show_state": false,
          "tap_action": {
            "action": "none"
          },
          "variables": {
            "crowd_symbols": {
              "SEA": "<ha-icon icon=\"mdi:account\" style=\"width: 15px; height: 15px\"></ha-icon>",
              "SDA": "<font color = \"orange\"><ha-icon icon=\"mdi:account-supervisor\" style=\"width: 15px; height: 15px\"/></font>",
              "LSD": "<font color = \"red\"><ha-icon icon=\"mdi:account-group\" style=\"width: 15px; height: 15px\"/></font>"
            }
          },
          "custom_fields": {
            "bus1_no": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length > 0) {\n    return entity.state.split(\",\")[0].split(\"/\")[0]\n  } else {\n    return ''\n  }\n]]]\n",
            "bus1_status": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length <= 0) {\n    return ''\n  }\n  \n  let status = ''\n  let min = parseInt(entity.state.split(',')[0].split('/')[1])\n  if (min < 2) {\n    status = status + `<font color = 'red'>Arriving</font>`\n  } else if (isNaN(min)) {\n    status = status + ''\n  } else {\n    if (min <= 5) {\n      status = status + `<font color = 'orange'>` + min + `min</font>`\n    } else {\n      status = status + min + 'min'\n    }\n  }\n  return status + '  ' + variables.crowd_symbols[entity.state.split(',')[0].split('/')[2]]\n]]]\n",
            "bus2_no": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length > 1) {\n    return entity.state.split(\",\")[1].split(\"/\")[0]\n  } else {\n    return ''\n  }\n]]]\n",
            "bus2_status": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length <= 1) {\n    return ''\n  }\n  \n  let status = ''\n  let min = parseInt(entity.state.split(',')[1].split('/')[1])\n  if (min < 2) {\n    status = status + `<font color = 'red'>Arriving</font>`\n  } else if (isNaN(min)) {\n    status = status + ''\n  } else {\n    if (min <= 5) {\n      status = status + `<font color = 'orange'>` + min + `min</font>`\n    } else {\n      status = status + min + 'min'\n    }\n  }\n  if (typeof entity.state.split(',')[1].split('/')[2] != 'undefined') {\n    status = status + '  ' + variables.crowd_symbols[entity.state.split(',')[1].split('/')[2]]\n  }\n  return status\n]]]\n",
            "bus3_no": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length > 2) {\n    return entity.state.split(\",\")[2].split(\"/\")[0]\n  } else {\n    return ''\n  }\n]]]\n",
            "bus3_status": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length <= 2) {\n    return ''\n  }\n  \n  let status = ''\n  let min = parseInt(entity.state.split(',')[2].split('/')[1])\n  if (min < 2) {\n    status = status + `<font color = 'red'>Arriving</font>`\n  } else if (isNaN(min)) {\n    status = status + ''\n  } else {\n    if (min <= 5) {\n      status = status + `<font color = 'orange'>` + min + `min</font>`\n    } else {\n      status = status + min + 'min'\n    }\n  }\n  if (typeof entity.state.split(',')[2].split('/')[2] != 'undefined') {\n    status = status + '  ' + variables.crowd_symbols[entity.state.split(',')[2].split('/')[2]]\n  }\n  return status\n]]]\n",
            "bus4_no": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length > 3) {\n    return entity.state.split(\",\")[3].split(\"/\")[0]\n  } else {\n    return ''\n  }\n]]]\n",
            "bus4_status": "[[[ \n  if (entity.state != 'unavailable' && (entity.state.split(\",\")).length <= 3) {\n    return ''\n  }\n  \n  let status = ''\n  let min = parseInt(entity.state.split(',')[3].split('/')[1])\n  if (min < 2) {\n    status = status + `<font color = 'red'>Arriving</font>`\n  } else if (isNaN(min)) {\n    status = status + ''\n  } else {\n    if (min <= 5) {\n      status = status + `<font color = 'orange'>` + min + `min</font>`\n    } else {\n      status = status + min + 'min'\n    }\n  }\n  if (typeof entity.state.split(',')[3].split('/')[2] != 'undefined') {\n    status = status + '  ' + variables.crowd_symbols[entity.state.split(',')[3].split('/')[2]]\n  }\n  return status\n]]]\n"
          },
          "styles": {
            "card": [
              {
                "background-color": "rgba(0,0,0,0.0)"
              },
              {
                "padding": "5px"
              }
            ],
            "grid": [
              {
                "grid-template-areas": "'bus1_no bus2_no bus3_no bus4_no' 'bus1_status bus2_status bus3_status bus4_status'\n"
              },
              {
                "grid-template-columns": "1fr 1fr 1fr 1fr"
              },
              {
                "grid-template-rows": "min-content min-content"
              }
            ],
            "custom_fields": {
              "bus1_no": [
                {
                  "font-weight": "bold"
                },
                {
                  "font-size": "32px"
                }
              ],
              "bus2_no": [
                {
                  "font-weight": "bold"
                },
                {
                  "font-size": "32px"
                }
              ],
              "bus3_no": [
                {
                  "font-weight": "bold"
                },
                {
                  "font-size": "32px"
                }
              ],
              "bus4_no": [
                {
                  "font-weight": "bold"
                },
                {
                  "font-size": "32px"
                }
              ]
            }
          }
        },
        "floorplan_nextbus": {
          "variables": {
            "busstops": {
              "sensor.bus_stop_sims_drive_market": {
                "walk_comfortable": 5,
                "walk_min": 2
              },
              "sensor.bus_stop_opposite_aljunied_station": {
                "walk_comfortable": 10,
                "walk_min": 5
              },
              "sensor.bus_stop_aljunied_station": {
                "walk_comfortable": 12,
                "walk_min": 7
              },
              "sensor.bus_stop_before_lorong_23_geylang": {
                "walk_comfortable": 10,
                "walk_min": 5
              }
            },
            "stop_no": 1,
            "comfortable_walk_time": "[[[ return variables.busstops[entity.entity_id].walk_comfortable ]]]",
            "min_walk_time": "[[[ return variables.busstops[entity.entity_id].walk_min ]]]",
            "timings": "[[[\n  const timings = []\n  for (const bus of entity.state.split(',')) {\n    timings.push(bus.split('/')[0] + '/' + bus.split('/')[1])\n  }\n  return timings\n]]]\n"
          },
          "icon": "[[[ return 'mdi:numeric-' + variables.stop_no.toString() + '-circle' ]]]",
          "label": "[[[ return ' 🚶︎ ' + variables.comfortable_walk_time.toString() + 'min' ]]]",
          "show_label": true,
          "show_name": false,
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/transit"
          },
          "custom_fields": {
            "nextbus1": "[[[\n  if (entity.state == 'unavailable') {\n    return `No service`\n  } else {\n    let bus = `<b>` + variables.timings[0].split('/')[0] + `</b>: `\n    let min = variables.timings[0].split('/')[1]\n    if (isNaN(min)) {\n      bus = bus + 'No Service' \n    } else if (min < 2) {\n      bus = bus + `<font color = 'red'>Arr</font>`\n    } else {\n      if (min <= variables.min_walk_time) {\n        bus = bus + `<font color = 'red'>` + min + `min</font>`\n      } else if (min <= variables.comfortable_walk_time) {\n        bus = bus + `<font color = 'orange'>` + min + `min</font>`\n      } else {\n        bus = bus + min + `min`\n      }\n    }\n    return bus\n  }\n]]]\n",
            "nextbus2": "[[[\n  if (entity.state == 'unavailable') {\n    return ``\n  } else if (variables.timings.length < 2) {\n    return ``\n  } else {\n    let bus = `<b>` + variables.timings[1].split('/')[0] + `</b>: `\n    let min = variables.timings[1].split('/')[1]\n    if (isNaN(min)) {\n      bus = bus + 'No Service' \n    } else if (min < 2) {\n      bus = bus + `<font color = 'red'>Arr</font>`\n    } else {\n      if (min <= variables.min_walk_time) {\n        bus = bus + `<font color = 'red'>` + min + `min</font>`\n      } else if (min <= variables.comfortable_walk_time) {\n        bus = bus + `<font color = 'orange'>` + min + `min</font>`\n      } else {\n        bus = bus + min + `min`\n      }\n    }\n    return bus\n  }\n]]]\n",
            "nextbus3": "[[[\n  if (entity.state == 'unavailable') {\n    return ``\n  } else if (variables.timings.length < 3) {\n    return ``\n  } else {\n    let bus = `<b>` + variables.timings[2].split('/')[0] + `</b>: `\n    let min = variables.timings[2].split('/')[1]\n    if (isNaN(min)) {\n      bus = bus + 'No Service' \n    } else if (min < 2) {\n      bus = bus + `<font color = 'red'>Arr</font>`\n    } else {\n      if (min <= variables.min_walk_time) {\n        bus = bus + `<font color = 'red'>` + min + `min</font>`\n      } else if (min <= variables.comfortable_walk_time) {\n        bus = bus + `<font color = 'orange'>` + min + `min</font>`\n      } else {\n        bus = bus + min + `min`\n      }\n    }\n    return bus\n  }\n]]]\n"
          },
          "styles": {
            "grid": [
              {
                "grid-template-areas": "\"i l\" \"nextbus1 nextbus1\" \"nextbus2 nextbus2\" \"nextbus3 nextbus3\""
              },
              {
                "grid-template-rows": "1fr min-content min-content min-content"
              },
              {
                "grid-template-columns": "min-content 1fr"
              }
            ],
            "icon": [
              {
                "color": "rgb(181,230,29)"
              },
              {
                "height": "20px"
              },
              {
                "width": "20px"
              }
            ],
            "card": [
              {
                "border-radius": "0px"
              },
              {
                "border-color": "rgb(181,230,29)"
              },
              {
                "border-width": "2px"
              },
              {
                "padding": "0px"
              }
            ]
          }
        },
        "alarms_imminent": {
          "template": "square_cell",
          "entity": "binary_sensor.next_alarm_imminent",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace/settings-sleep"
          },
          "custom_fields": {
            "daniel": "D",
            "grace": "G",
            "eli": "E",
            "elena": "A"
          },
          "styles": {
            "grid": [
              {
                "position": "relative"
              }
            ],
            "custom_fields": {
              "daniel": [
                {
                  "font-weight": "bold"
                },
                {
                  "position": "absolute"
                },
                {
                  "left": "5%"
                },
                {
                  "top": "0%"
                },
                {
                  "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(0) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'E')\n    return '#484848';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                }
              ],
              "grace": [
                {
                  "font-weight": "bold"
                },
                {
                  "position": "absolute"
                },
                {
                  "right": "5%"
                },
                {
                  "top": "0%"
                },
                {
                  "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(1) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'E')\n    return '#484848';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                }
              ],
              "eli": [
                {
                  "font-weight": "bold"
                },
                {
                  "position": "absolute"
                },
                {
                  "left": "5%"
                },
                {
                  "bottom": "0%"
                },
                {
                  "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(2) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'E')\n    return '#484848';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                }
              ],
              "elena": [
                {
                  "font-weight": "bold"
                },
                {
                  "position": "absolute"
                },
                {
                  "right": "5%"
                },
                {
                  "bottom": "0%"
                },
                {
                  "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(3) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'E')\n    return '#484848';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                }
              ]
            }
          }
        },
        "bar_chart": {
          "styles": {
            "card": [
              {
                "padding": "0px"
              }
            ]
          }
        },
        "bar_chart_segment": {
          "variables": {
            "percent": "[[[ return Math.round(parseInt(entity.state) / variables.chart_total * 100) ]]]"
          },
          "name": "[[[ \n  if (variables.percent > 5) {\n    return variables.percent.toString() + '%'\n  } else {\n    return ''\n  }\n]]]\n",
          "show_icon": false,
          "styles": {
            "card": [
              {
                "height": "56px"
              },
              {
                "border-radius": "0px"
              }
            ],
            "name": [
              {
                "font-size": "14px"
              },
              {
                "font-weight": 500
              }
            ]
          }
        }
      },
      "decluttering_templates": {
        "main_door": {
          "card": {
            "type": "custom:state-switch",
            "entity": "input_boolean.away_mode",
            "default": "off",
            "states": {
              "on": {
                "type": "custom:button-card",
                "entity": "input_boolean.away_mode",
                "template": "top_row",
                "double_tap_action": {
                  "action": "toggle"
                },
                "tap_action": {
                  "action": "navigate",
                  "navigation_path": "/lovelace/main-door"
                }
              },
              "off": {
                "type": "custom:button-card",
                "entity": "binary_sensor.main_door",
                "template": "top_row",
                "tap_action": {
                  "action": "navigate",
                  "navigation_path": "/lovelace/main-door"
                },
                "double_tap_action": {
                  "action": "call-service",
                  "service": "input_boolean.turn_on",
                  "service_data": {
                    "entity_id": "input_boolean.away_mode"
                  }
                }
              }
            }
          }
        },
        "vacuum": {
          "card": {
            "type": "custom:state-switch",
            "entity": "vacuum.hestia",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "error",
                "icon": "mdi:robot-vacuum",
                "tap_action": {
                  "action": "navigate",
                  "navigation_path": "/lovelace/vacuum"
                }
              },
              "error": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "vacuum_more_info",
                "icon": "mdi:robot-vacuum-alert",
                "styles": {
                  "card": [
                    {
                      "background-color": "#9e110d"
                    }
                  ],
                  "icon": [
                    {
                      "animation": "blink 2s ease infinite"
                    },
                    {
                      "color": "#FFFFFF"
                    }
                  ]
                }
              },
              "docked": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "vacuum_more_info",
                "icon": "[[[\n  if (states['sensor.hestia_status'].state == 'charging') {\n    return 'mdi:lightning-bolt-circle'\n  } else {\n    return 'mdi:robot-vacuum'\n  }\n]]]\n",
                "double_tap_action": {
                  "action": "call-service",
                  "service": "vacuum.start",
                  "service_data": {
                    "entity_id": "vacuum.hestia"
                  }
                },
                "styles": {
                  "icon": [
                    {
                      "color": "[[[\n  if (['100', 'unavailable'].includes(states['sensor.hestia_drying_progress'].state)) {\n    return 'var(--state-inactive-color)'\n  } else {\n    return 'var(--state-binary-sensor-color)'\n  }\n]]]\n"
                    }
                  ],
                  "card": [
                    {
                      "background": "[[[ \n  if (['100', 'unavailable'].includes(states['sensor.hestia_drying_progress'].state)) {\n    return '#1c1c1c'\n  } else {\n    return \"linear-gradient(0deg, #41a7f2 0%, #41a7f2 \" +\n    states['sensor.hestia_drying_progress'].state + \"%, #1c1c1c \" + \n    states['sensor.hestia_drying_progress'].state + \"%, #1c1c1c 100%)\"\n  }\n]]]\n"
                    }
                  ]
                }
              },
              "cleaning": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "vacuum_more_info",
                "color": "rgb(253,216,53)",
                "double_tap_action": {
                  "action": "call-service",
                  "service": "vacuum.pause",
                  "service_data": {
                    "entity_id": "vacuum.hestia"
                  }
                },
                "styles": {
                  "card": [
                    {
                      "background": "[[[ return \"linear-gradient(0deg, #41a7f2 0%, #41a7f2 \" + states['sensor.hestia_cleaning_progress'].state + \"%, #1c1c1c \" + states['sensor.hestia_cleaning_progress'].state + \"%, #1c1c1c 100%)\"]]] \n"
                    }
                  ]
                }
              },
              "returning": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "vacuum_more_info",
                "color": "rgb(253,216,53)",
                "double_tap_action": {
                  "action": "call-service",
                  "service": "vacuum.pause",
                  "service_data": {
                    "entity_id": "vacuum.hestia"
                  }
                },
                "styles": {
                  "card": [
                    {
                      "background": "[[[ return \"linear-gradient(0deg, #41a7f2 0%, #41a7f2 \" + states['sensor.hestia_cleaning_progress'].state + \"%, #1c1c1c \" + states['sensor.hestia_cleaning_progress'].state + \"%, #1c1c1c 100%)\"]]] \n"
                    }
                  ]
                }
              },
              "paused": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "vacuum_more_info",
                "double_tap_action": {
                  "action": "call-service",
                  "service": "vacuum.start",
                  "service_data": {
                    "entity_id": "vacuum.hestia"
                  }
                },
                "styles": {
                  "card": [
                    {
                      "background": "[[[ return \"linear-gradient(0deg, #41a7f2 0%, #41a7f2 \" + states['sensor.hestia_battery_level'].state + \"%, #1c1c1c \" + states['sensor.hestia_battery_level'].state + \"%, #1c1c1c 100%)\"]]] \n"
                    }
                  ],
                  "icon": [
                    {
                      "color": "[[[ return 'var(--state-binary-sensor-color)' ]]]"
                    },
                    {
                      "animation": "blink 2s ease infinite"
                    }
                  ]
                }
              },
              "idle": {
                "type": "custom:button-card",
                "entity": "vacuum.hestia",
                "template": "vacuum_more_info",
                "color": "#9e110d",
                "styles": {
                  "card": [
                    {
                      "background": "[[[ return \"linear-gradient(0deg, #41a7f2 0%, #41a7f2 \" + states['sensor.hestia_battery_level'].state + \"%, #1c1c1c \" + states['sensor.hestia_battery_level'].state + \"%, #1c1c1c 100%)\"]]] \n"
                    }
                  ],
                  "icon": [
                    {
                      "animation": "blink 2s ease infinite"
                    }
                  ]
                }
              }
            }
          }
        },
        "washer": {
          "card": {
            "type": "custom:state-switch",
            "entity": "sensor.washer_status",
            "default": "Washing",
            "states": {
              "unavailable": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "error"
              },
              "Off": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "color": "rgb(68,115,158)",
                "template": "washer_more_info",
                "label": "",
                "styles": {
                  "card": [
                    {
                      "background-color": "[[[\n  if (states['input_boolean.washer_load_clean'].state == 'on')\n    return '#b4fab4';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                    }
                  ]
                }
              },
              "Standby": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info",
                "label": "..."
              },
              "Detecting": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info",
                "label": "..."
              },
              "Delay Set": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info"
              },
              "Washing": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info"
              },
              "Finished": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info",
                "label": "Done!"
              },
              "Paused": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info",
                "color": "var(--state-binary-sensor-color)",
                "label": "Paused",
                "styles": {
                  "label": [
                    {
                      "color": "var(--state-binary-sensor-color)"
                    },
                    {
                      "animation": "blink 2s ease infinite"
                    }
                  ]
                }
              },
              "Error": {
                "type": "custom:button-card",
                "entity": "switch.washer_power",
                "template": "washer_more_info",
                "label": "Error",
                "styles": {
                  "card": [
                    {
                      "background-color": "#9e110d"
                    }
                  ],
                  "label": [
                    {
                      "animation": "blink 2s ease infinite"
                    }
                  ]
                }
              }
            }
          }
        },
        "rice_cooker": {
          "card": {
            "type": "custom:state-switch",
            "entity": "input_select.rice_cooker_status",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:button-card",
                "entity": "binary_sensor.rice_cooker",
                "template": "error"
              },
              "Off": {
                "type": "custom:button-card",
                "entity": "switch.rice_cooker",
                "template": "rice_cooker_more_info"
              },
              "Cooking": {
                "type": "custom:button-card",
                "entity": "binary_sensor.rice_cooker",
                "template": "rice_cooker_more_info",
                "label": "Cook",
                "show_label": true,
                "styles": {
                  "label": [
                    {
                      "color": "[[[\n  if (states['binary_sensor.rice_cooker'].state == 'on') {\n    return 'var(--state-binary-sensor-color)'\n  } else {\n    return 'var(--state-inactive-color)'\n  }\n]]]\n"
                    }
                  ]
                }
              },
              "Warming": {
                "type": "custom:button-card",
                "entity": "binary_sensor.rice_cooker",
                "template": "rice_cooker_more_info",
                "label": "Warm",
                "show_label": true,
                "styles": {
                  "label": [
                    {
                      "color": "[[[\n  if (states['binary_sensor.rice_cooker'].state == 'on') {\n    return 'var(--state-binary-sensor-color)'\n  } else {\n    return 'var(--state-inactive-color)'\n  }\n]]]\n"
                    }
                  ]
                }
              },
              "Standby": {
                "type": "custom:button-card",
                "entity": "switch.rice_cooker",
                "template": "rice_cooker_more_info",
                "label": "...",
                "show_label": true,
                "styles": {
                  "label": [
                    {
                      "color": "var(--state-binary-sensor-color)"
                    }
                  ]
                }
              }
            }
          }
        },
        "stove": {
          "card": {
            "type": "custom:state-switch",
            "entity": "switch.stove_main_power",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:button-card",
                "entity": "switch.stove_main_power",
                "template": "error"
              },
              "on": {
                "type": "custom:button-card",
                "template": [
                  "device_slider",
                  "stove_more_info"
                ],
                "entity": "input_number.stove_current_burner_power_slider",
                "icon": "[[[\n  if (states['switch.stove_pause'].state == 'on') {\n    return 'mdi:pause-circle-outline'\n  } else {\n    return 'mdi:chevron-' + states['select.stove_current_burner'].state + '-circle-outline' \n  }\n]]]\n",
                "label": "[[[\n  if (parseInt(states['number.stove_current_burner_timer'].state) >= 70)\n    return '1:' + (parseInt(states['number.stove_current_burner_timer'].state) - 60).toString()\n  else if (parseInt(states['number.stove_current_burner_timer'].state) >= 60)\n    return '1:0' + (parseInt(states['number.stove_current_burner_timer'].state) - 60).toString()\n  else if (parseInt(states['number.stove_current_burner_timer'].state) >= 10)\n    return '0:' + states['number.stove_current_burner_timer'].state\n  else if (parseInt(states['number.stove_current_burner_timer'].state) > 0)\n    return '0:0' + states['number.stove_current_burner_timer'].state\n  else\n    return ''\n]]]\n",
                "show_label": true,
                "tap_action": {
                  "action": "call-service",
                  "service": "select.select_next",
                  "service_data": {
                    "entity_id": "select.stove_current_burner"
                  }
                },
                "styles": {
                  "label": [
                    {
                      "z-index": 3
                    },
                    {
                      "color": "var(--state-binary-sensor-color)"
                    }
                  ]
                }
              },
              "off": {
                "type": "custom:button-card",
                "entity": "switch.stove_main_power",
                "template": "stove_more_info"
              }
            }
          }
        },
        "dishwasher": {
          "card": {
            "type": "custom:state-switch",
            "entity": "switch.dishwasher",
            "default": "disabled",
            "states": {
              "disabled": {
                "type": "custom:button-card",
                "entity": "switch.dishwasher",
                "template": "error"
              },
              "off": {
                "type": "custom:button-card",
                "entity": "switch.dishwasher",
                "template": "dishwasher_more_info",
                "styles": {
                  "card": [
                    {
                      "background-color": "[[[\n  if (states['input_boolean.dishwasher_load_clean'].state == 'on')\n    return '#b4fab4';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                    }
                  ],
                  "label": [
                    {
                      "color": "[[[ return 'var(--state-inactive-color)' ]]]"
                    }
                  ]
                }
              },
              "on": {
                "type": "custom:button-card",
                "entity": "switch.dishwasher",
                "template": "dishwasher_more_info",
                "label": "[[[\n  if (states['input_select.dishwasher_status'].state == 'Washing')\n    return 'Wash'\n  else if (states['input_select.dishwasher_status'].state == 'Cooling')\n    return 'Cool'\n  else if (states['input_select.dishwasher_status'].state == 'Standby')\n    return '...'\n  else\n    return ''\n]]]\n",
                "show_label": true,
                "styles": {
                  "label": [
                    {
                      "color": "[[[ return 'var(--state-binary-sensor-color)' ]]]"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "apexcharts_card_templates": {
        "standard": {
          "header": {
            "show": true,
            "show_states": true,
            "colorize_states": true
          },
          "graph_span": "4h",
          "apex_config": {
            "grid": {
              "show": false
            },
            "chart": {
              "stackOnlyBar": false
            }
          },
          "all_series_config": {
            "curve": "stepline",
            "stroke_width": 2,
            "show": {
              "legend_value": false
            }
          }
        },
        "header_only": {
          "header": {
            "show": true,
            "show_states": true,
            "colorize_states": true
          },
          "apex_config": {
            "chart": {
              "height": 0
            },
            "tooltip": {
              "enabled": false
            }
          },
          "graph_span": "1min"
        }
      },
      "views": [
        {
          "title": "Home",
          "icon": "mdi:home-assistant",
          "theme": "no_border",
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            },
            {
              "user": "2651cb9042dd41acb0b54327457a9a14"
            },
            {
              "user": "991e26502d6844dea64362276571d6c1"
            },
            {
              "user": "361884c4dcb94d5f9d7e583d64844264"
            }
          ],
          "type": "panel",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "view_layout": {
                    "position": "main"
                  },
                  "conditions": [
                    {
                      "condition": "or",
                      "conditions": [
                        {
                          "condition": "screen",
                          "media_query": "(min-width: 1024px) and (max-width: 1279px)"
                        },
                        {
                          "condition": "screen",
                          "media_query": "(min-width: 1280px)"
                        },
                        {
                          "condition": "screen",
                          "media_query": "(min-width: 768px) and (max-width: 1023px)"
                        }
                      ]
                    }
                  ],
                  "card": {
                    "type": "picture-elements",
                    "elements": [
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "weather"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "entity": "image.rain_radar_animation",
                            "style": {
                              "top": "50%",
                              "left": "85%",
                              "height": "59%",
                              "width": "29.5%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "transit"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "image": "/local/floorplan/transit_basemap_numbered.png",
                            "style": {
                              "top": "50%",
                              "left": "85%",
                              "height": "59%",
                              "width": "29.5%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "main-door"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "camera_image": "camera.recent_main_door_snapshot_1",
                            "style": {
                              "top": "27.5%",
                              "left": "75%",
                              "height": "14.5%",
                              "width": "9.5%"
                            }
                          },
                          {
                            "type": "image",
                            "camera_image": "camera.recent_main_door_snapshot_2",
                            "style": {
                              "top": "27.5%",
                              "left": "85%",
                              "height": "14.5%",
                              "width": "9.5%"
                            }
                          },
                          {
                            "type": "image",
                            "camera_image": "camera.recent_main_door_snapshot_3",
                            "style": {
                              "top": "27.5%",
                              "left": "95%",
                              "height": "14.5%",
                              "width": "9.5%"
                            }
                          },
                          {
                            "type": "image",
                            "camera_image": "camera.main_door_camera",
                            "camera_view": "live",
                            "style": {
                              "top": "57.5%",
                              "left": "85%",
                              "height": "43.25%",
                              "width": "29.5%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "image",
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        },
                        "image": "/local/floorplan/floorplan_transparent_background.png",
                        "tap_action": {
                          "action": "none"
                        },
                        "hold_action": {
                          "action": "none"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_kitchen.png",
                        "entity": "sensor.floorplan_kitchen_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_master_bathroom.png",
                        "entity": "sensor.floorplan_master_bathroom_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_parents_room.png",
                        "entity": "sensor.floorplan_parents_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_study_room.png",
                        "entity": "sensor.floorplan_study_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_living_room.png",
                        "entity": "sensor.floorplan_living_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_dining_room.png",
                        "entity": "sensor.floorplan_dining_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_hallway.png",
                        "entity": "sensor.floorplan_hallway_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_elis_room.png",
                        "entity": "sensor.floorplan_elis_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_elenas_room.png",
                        "entity": "sensor.floorplan_elenas_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_powder_room.png",
                        "entity": "sensor.floorplan_powder_room_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_junior_bathroom.png",
                        "entity": "sensor.floorplan_junior_bathroom_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_playroom.png",
                        "entity": "sensor.floorplan_playroom_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "image",
                        "image": "/local/floorplan/floorplan_rooms/floorplan_yard.png",
                        "entity": "sensor.floorplan_yard_status",
                        "state_filter": {
                          "A": "opacity(50%)",
                          "C": "hue-rotate(210deg) brightness(150%)",
                          "D": "opacity(0%)"
                        },
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.floorplan_openings_view",
                            "state": "on"
                          }
                        ],
                        "elements": [
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_yard_window_1.png",
                            "entity": "binary_sensor.yard_window_1",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_yard_window_2.png",
                            "entity": "binary_sensor.yard_window_2",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_powder_room_door.png",
                            "entity": "binary_sensor.powder_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_junior_bathroom_door.png",
                            "entity": "binary_sensor.junior_bathroom_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_elenas_room_door.png",
                            "entity": "binary_sensor.elenas_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_elenas_room_left_window.png",
                            "entity": "binary_sensor.elenas_room_left_window",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_elis_room_door.png",
                            "entity": "binary_sensor.elis_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_elis_room_right_window.png",
                            "entity": "binary_sensor.elis_room_right_window",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_main_door.png",
                            "entity": "binary_sensor.main_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_study_room_left_window.png",
                            "entity": "binary_sensor.study_room_left_window",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_parents_room_door.png",
                            "entity": "binary_sensor.parents_room_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_parents_room_left_window.png",
                            "entity": "binary_sensor.parents_room_left_window",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_master_bathroom_door.png",
                            "entity": "binary_sensor.master_bathroom_door",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          },
                          {
                            "type": "image",
                            "image": "/local/floorplan/floorplan_openings/floorplan_kitchen_window.png",
                            "entity": "binary_sensor.kitchen_window",
                            "state_filter": {
                              "off": "hue-rotate(245deg) saturate(2000%) brightness(90%)",
                              "unavailable": "grayscale(100%)"
                            },
                            "style": {
                              "top": "50%",
                              "left": "50%",
                              "height": "100%",
                              "width": "100%"
                            }
                          }
                        ]
                      },
                      {
                        "type": "image",
                        "style": {
                          "top": "50%",
                          "left": "50%",
                          "height": "100%",
                          "width": "100%"
                        },
                        "image": "/local/floorplan/pointers_transparent_background_20250117.png",
                        "tap_action": {
                          "action": "none"
                        },
                        "hold_action": {
                          "action": "none"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "aspect_ratio": 1,
                        "style": {
                          "top": "50%",
                          "left": "85%",
                          "height": "59%",
                          "width": "29.5%"
                        },
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "[[[ return '/lovelace/' + states['input_select.floorplan_panel_view'].state ]]]"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "rgba(0,0,0,0.0)"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "main_door"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "5%",
                          "left": "10%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:tshirt-crew",
                        "template": "area_button",
                        "tap_action": {
                          "data": {
                            "room": [
                              "yard"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "service_data": {
                            "entity_id": "automation.yard_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "navigation_path": "/lovelace/playroom"
                        },
                        "styles": {
                          "card": [
                            {
                              "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_yard'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.yard_light_entity",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.yard_motion_light"
                        },
                        "style": {
                          "top": "5%",
                          "left": "15%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "20%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "washer"
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "25%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "vacuum"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "5%",
                          "left": "32.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_kitchen"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.kitchen_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.kitchen_motion_lights"
                        },
                        "style": {
                          "top": "5%",
                          "left": "37.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "template": "rice_cooker",
                        "style": {
                          "top": "5%",
                          "left": "42.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "47.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "stove"
                      },
                      {
                        "type": "custom:decluttering-card",
                        "style": {
                          "top": "5%",
                          "left": "52.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "dishwasher"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.kitchen_blind",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.kitchen_blind_auto_control"
                        },
                        "style": {
                          "top": "5%",
                          "left": "57.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "5%",
                          "left": "62.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "media_player_slider",
                        "entity": "media_player.kitchen_speaker"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "weather"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "10%",
                              "left": "85%",
                              "height": "19%",
                              "width": "29.5%"
                            },
                            "entity": "weather.local_weather",
                            "show_name": false,
                            "show_state": true,
                            "custom_fields": {
                              "temp": "[[[ return states[\"sensor.local_outdoor_temperature\"].state + states[\"sensor.local_outdoor_temperature\"].attributes.unit_of_measurement]]]",
                              "otherdata": "[[[ return `<ha-icon icon=\"mdi:weather-rainy\" style=\"width: 12px; height: 12px;\"></ha-icon> ` + parseFloat(states[\"sensor.local_rainfall\"].state).toFixed(0).toString() + states[\"sensor.local_rainfall\"].attributes.unit_of_measurement + ` <ha-icon icon=\"mdi:water-percent\" style=\"width: 12px; height: 12px;\"></ha-icon>` + parseFloat(states[\"sensor.local_outdoor_humidity\"].state).toFixed(0).toString() + \"%\" + ` <ha-icon icon=\"mdi:weather-windy\" style=\"width: 12px; height: 12px;\"></ha-icon>` + parseFloat(states[\"sensor.local_wind_speed\"].state).toFixed(0).toString() + states[\"sensor.local_wind_speed\"].attributes.unit_of_measurement +  ` <ha-icon icon=\"mdi:navigation-variant\" style=\"width: 12px; height: 12px;\"></ha-icon>` + parseFloat(states[\"sensor.local_wind_bearing\"].state).toFixed(0).toString() + '°' ]]]"
                            },
                            "styles": {
                              "grid": [
                                {
                                  "grid-template-areas": "\"i s\" \"i temp\" \"i otherdata\""
                                },
                                {
                                  "grid-template-rows": "min-content min-content min-content"
                                },
                                {
                                  "grid-template-columns": "0.7fr min-content"
                                }
                              ],
                              "icon": [
                                {
                                  "height": "50px"
                                },
                                {
                                  "width": "50px"
                                }
                              ],
                              "state": [
                                {
                                  "justify-self": "start"
                                }
                              ],
                              "custom_fields": {
                                "temp": [
                                  {
                                    "font-size": "36px"
                                  },
                                  {
                                    "text-align": "left"
                                  }
                                ],
                                "otherdata": [
                                  {
                                    "font-size": "12px"
                                  },
                                  {
                                    "color": "#777777"
                                  },
                                  {
                                    "align-self": "middle"
                                  },
                                  {
                                    "text-align": "right"
                                  }
                                ]
                              }
                            },
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/weather"
                            }
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state": "transit"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "30%",
                              "left": "75%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "sensor.bus_stop_sims_drive_market"
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "30%",
                              "left": "85%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "sensor.bus_stop_opposite_aljunied_station",
                            "variables": {
                              "stop_no": 2
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "30%",
                              "left": "95%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "sensor.bus_stop_aljunied_station",
                            "variables": {
                              "stop_no": 3
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "70%",
                              "left": "95%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "template": "floorplan_nextbus",
                            "entity": "sensor.bus_stop_before_lorong_23_geylang",
                            "variables": {
                              "stop_no": 4
                            }
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_select.floorplan_panel_view",
                            "state_not": "weather"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "10%",
                              "left": "91.5%",
                              "height": "19%",
                              "width": "16.5%"
                            },
                            "aspect_ratio": "33/19",
                            "entity": "sensor.date",
                            "label": "[[[ \n  return (helpers.formatDateWeekdayShort(entity.state) + ' ' + \n          helpers.formatDateShort(entity.state).split(' ')[1] + ' ' + \n          helpers.formatDateShort(entity.state).split(' ')[0] + ' ' + \n          helpers.formatDateYear(entity.state))\n]]]\n",
                            "show_name": false,
                            "show_icon": false,
                            "show_state": true,
                            "show_label": true,
                            "state_display": "[[[ \n  if (states['calendar.public_holidays'].state == 'on') {\n    return '🎉 Happy ' + states['calendar.public_holidays'].attributes.message + '!'\n  } else {\n    return ' '\n  } \n]]]\n",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            },
                            "custom_fields": {
                              "greeting": "[[[\n  if (parseInt(states['sensor.time'].state.split(':')[0]) < 12) {\n    return 'Good morning 🌅'\n  } else if (parseInt(states['sensor.time'].state.split(':')[0]) < 18) {\n    return 'Good afternoon 🌇'\n  } else {\n    return 'Good evening 🌃'\n  }\n]]]\n"
                            },
                            "styles": {
                              "state": [
                                {
                                  "white-space": "initial"
                                },
                                {
                                  "text-overflow": "initial"
                                },
                                {
                                  "overflow": "initial"
                                }
                              ],
                              "grid": [
                                {
                                  "grid-template-areas": "\"greeting\" \"l\" \"s\""
                                },
                                {
                                  "grid-template-rows": "1fr 1fr min-content"
                                },
                                {
                                  "grid_template-columns": "1fr"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "10%",
                              "left": "77%",
                              "height": "19%",
                              "width": "12%"
                            },
                            "template": "alarms_imminent",
                            "aspect_ratio": "24/19",
                            "show_icon": false,
                            "show_name": false,
                            "show_state": false
                          },
                          {
                            "type": "image",
                            "style": {
                              "top": "10%",
                              "left": "77%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "entity": "binary_sensor.next_alarm_imminent",
                            "image": "/local/clock_faces/blank_clock_face.png",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            },
                            "state_filter": {
                              "on": "grayscale(100%) contrast(0%) opacity(50%) drop-shadow(0 0 0 yellow) hue-rotate(330deg) saturate(400%) brightness(130%)",
                              "off": "grayscale(100%) contrast(0%) opacity(50%) drop-shadow(0 0 0 blue) hue-rotate(330deg) brightness(150%) saturate(60%)"
                            }
                          },
                          {
                            "type": "image",
                            "style": {
                              "top": "10%",
                              "left": "77%",
                              "height": "19%",
                              "width": "9.5%"
                            },
                            "entity": "image.clock_face",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/settings-sleep"
                            }
                          }
                        ]
                      },
                      {
                        "type": "custom:button-card",
                        "template": "area_button_powder_room",
                        "style": {
                          "top": "15%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.powder_room_pendant_light_entity",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.powder_room_motion_pendant_light"
                        },
                        "style": {
                          "top": "15%",
                          "left": "12.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "switch.water_heater",
                        "template": "device_slider",
                        "variables": {
                          "auto_control_automation": "automation.water_heater_motion"
                        },
                        "style": {
                          "top": "15%",
                          "left": "17.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "15%",
                          "left": "50%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "icon": "mdi:teddy-bear",
                        "template": "area_button",
                        "tap_action": {
                          "data": {
                            "room": [
                              "playroom"
                            ]
                          }
                        },
                        "double_tap_action": {
                          "service_data": {
                            "entity_id": "automation.playroom_motion_timeout"
                          }
                        },
                        "hold_action": {
                          "navigation_path": "/lovelace/playroom"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.playroom_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.playroom_motion_lights"
                        },
                        "style": {
                          "top": "15%",
                          "left": "55%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "25%",
                          "left": "5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_junior_bathroom"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.junior_bathroom_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.junior_bathroom_motion_lights"
                        },
                        "style": {
                          "top": "25%",
                          "left": "10%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "35%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_hallway"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.hallway_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.hallway_motion_lights"
                        },
                        "style": {
                          "top": "35%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "22.5%",
                          "left": "51.25%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.node_proxmox_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "27.5%",
                          "left": "51.25%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.qemu_pfsense_100_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "22.5%",
                          "left": "53.875%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.qemu_an_eloquent_home_101_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "27.5%",
                          "left": "53.875%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "entity": "sensor.qemu_docker_102_cpu_used",
                        "template": "floorplan_sensor_cpu"
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "45%",
                          "left": "5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_elenas_room"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.elenas_room_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.elenas_room_motion_lights"
                        },
                        "style": {
                          "top": "45%",
                          "left": "10%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.elenas_room_bedside_lamp",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.elenas_room_motion_bedside_lamp"
                        },
                        "style": {
                          "top": "45%",
                          "left": "15%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "fan.elenas_room_fan",
                        "template": "fan_slider",
                        "variables": {
                          "auto_control_automation": "automation.elenas_room_fan_auto_control"
                        },
                        "style": {
                          "top": "55%",
                          "left": "12.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "climate.elenas_room_ac",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.elenas_room_motion_ac"
                        },
                        "style": {
                          "top": "55%",
                          "left": "17.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.elenas_room_curtains",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.elenas_room_curtains_auto_control"
                        },
                        "style": {
                          "top": "55%",
                          "left": "22.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "65%",
                          "left": "5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_elis_room"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.elis_room_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.elis_room_motion_lights"
                        },
                        "style": {
                          "top": "65%",
                          "left": "10%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.elis_room_floor_lamp",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.elis_room_motion_floor_lamp"
                        },
                        "style": {
                          "top": "65%",
                          "left": "15%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "fan.elis_room_fan",
                        "template": "fan_slider",
                        "variables": {
                          "auto_control_automation": "automation.elis_room_fan_auto_control"
                        },
                        "style": {
                          "top": "65%",
                          "left": "20%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "climate.elis_room_ac",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.elis_room_motion_ac"
                        },
                        "style": {
                          "top": "65%",
                          "left": "25%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.elis_room_curtains",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.elis_room_curtains_auto_control"
                        },
                        "style": {
                          "top": "65%",
                          "left": "30%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "75%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_dining_room"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.dining_room_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.dining_room_motion_lights"
                        },
                        "style": {
                          "top": "75%",
                          "left": "12.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.dining_room_pendant_light_entity",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.dining_room_motion_pendant_light"
                        },
                        "style": {
                          "top": "75%",
                          "left": "17.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "fan.dining_room_fan",
                        "template": "fan_slider",
                        "variables": {
                          "auto_control_automation": "automation.dining_room_fan_auto_control"
                        },
                        "style": {
                          "top": "75%",
                          "left": "22.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "climate.dining_room_ac",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.dining_room_motion_ac"
                        },
                        "style": {
                          "top": "75%",
                          "left": "27.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.dining_room_blinds",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.south_facing_blinds_auto_control"
                        },
                        "style": {
                          "top": "75%",
                          "left": "32.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "2.5%",
                          "left": "68.75%",
                          "height": "4%",
                          "width": "2%"
                        },
                        "icon": "[[[\n  if (states['input_select.floorplan_panel_view'].state == 'weather') {\n    return 'mdi:bus'\n  } else if (states['input_select.floorplan_panel_view'].state == 'transit') {\n    return 'mdi:cctv'\n  } else {\n    return 'mdi:weather-cloudy'\n  }\n]]]\n",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_select.select_next",
                          "service_data": {
                            "entity_id": "input_select.floorplan_panel_view"
                          }
                        },
                        "styles": {
                          "icon": [
                            {
                              "height": "100%"
                            },
                            {
                              "width": "100%"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "85%",
                          "left": "20%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_living_room"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.living_room_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.living_room_motion_lights"
                        },
                        "style": {
                          "top": "85%",
                          "left": "25%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.living_room_pendant_light_entity",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.living_room_motion_pendant_light"
                        },
                        "style": {
                          "top": "85%",
                          "left": "30%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "fan.living_room_fan",
                        "template": "fan_slider",
                        "variables": {
                          "auto_control_automation": "automation.living_room_fan_auto_control"
                        },
                        "style": {
                          "top": "85%",
                          "left": "35%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "climate.living_room_ac",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.living_room_motion_ac"
                        },
                        "style": {
                          "top": "85%",
                          "left": "40%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.living_room_blinds",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.south_facing_blinds_auto_control"
                        },
                        "style": {
                          "top": "85%",
                          "left": "45%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "85%",
                          "left": "80%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_master_bathroom"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.master_bathroom_light_entity",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.master_bathroom_motion_light"
                        },
                        "style": {
                          "top": "85%",
                          "left": "85%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.master_bathroom_pendant_light_entity",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.master_bathroom_motion_pendant_light"
                        },
                        "style": {
                          "top": "85%",
                          "left": "90%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.master_bathroom_blind",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.master_bathroom_blind_auto_control"
                        },
                        "style": {
                          "top": "85%",
                          "left": "95%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.floorplan_openings_view",
                            "state": "on"
                          }
                        ],
                        "elements": [
                          {
                            "type": "custom:button-card",
                            "style": {
                              "top": "85%",
                              "left": "6.25%",
                              "height": "10%",
                              "width": "12.4%"
                            },
                            "aspect_ratio": 2.5,
                            "custom_fields": {
                              "bracket": "",
                              "legend_open": {
                                "card": {
                                  "type": "custom:button-card",
                                  "icon": "mdi:circle-outline",
                                  "color": "#B4FAB4",
                                  "color_type": "card",
                                  "template": "floorplan_square_cell",
                                  "tap_action": {
                                    "action": "navigate",
                                    "navigation_path": "/lovelace/sensors"
                                  }
                                }
                              },
                              "legend_closed": {
                                "card": {
                                  "type": "custom:button-card",
                                  "icon": "mdi:circle",
                                  "color": "#FF0000",
                                  "color_type": "card",
                                  "template": "floorplan_square_cell",
                                  "tap_action": {
                                    "action": "navigate",
                                    "navigation_path": "/lovelace/sensors"
                                  }
                                }
                              },
                              "legend_null": {
                                "card": {
                                  "type": "custom:button-card",
                                  "icon": "mdi:circle-off-outline",
                                  "color": "#AAAAAA",
                                  "color_type": "card",
                                  "template": "floorplan_square_cell",
                                  "tap_action": {
                                    "action": "navigate",
                                    "navigation_path": "/lovelace/sensors"
                                  }
                                }
                              }
                            },
                            "styles": {
                              "card": [
                                {
                                  "position": "relative"
                                },
                                {
                                  "background-color": "rgba(0,0,0,0)"
                                },
                                {
                                  "border-radius": "0px"
                                }
                              ],
                              "custom_fields": {
                                "bracket": [
                                  {
                                    "background-color": "#292929"
                                  },
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "0%"
                                  },
                                  {
                                    "top": "25%"
                                  },
                                  {
                                    "width": "100%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ],
                                "legend_open": [
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "42%"
                                  },
                                  {
                                    "top": "30%"
                                  },
                                  {
                                    "width": "16%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ],
                                "legend_closed": [
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "62%"
                                  },
                                  {
                                    "top": "30%"
                                  },
                                  {
                                    "width": "16%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ],
                                "legend_null": [
                                  {
                                    "position": "absolute"
                                  },
                                  {
                                    "left": "82%"
                                  },
                                  {
                                    "top": "30%"
                                  },
                                  {
                                    "width": "16%"
                                  },
                                  {
                                    "height": "50%"
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "85%",
                          "left": "2.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "entity": "input_boolean.floorplan_openings_view",
                        "template": "square_cell",
                        "color_type": "card",
                        "icon": "mdi:window-open-variant",
                        "state": [
                          {
                            "value": "on",
                            "color": "#292929"
                          },
                          {
                            "value": "off",
                            "color": "#111111"
                          }
                        ],
                        "styles": {
                          "card": [
                            {
                              "border-color": "#292929"
                            },
                            {
                              "border-width": "2px"
                            }
                          ]
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "7.5%",
                          "height": "9%",
                          "width": "14.9%"
                        },
                        "aspect_ratio": 3,
                        "custom_fields": {
                          "bracket": "",
                          "toggle_overlay": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "color": "#292929",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:target-account"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:brightness-5"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-percent"
                                }
                              ],
                              "template": "square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "call-service",
                                "service": "input_select.select_next",
                                "service_data": {
                                  "entity_id": "input_select.floorplan_data_overlay"
                                }
                              }
                            }
                          },
                          "legend_high": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:target-account"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-on"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer-high"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-plus"
                                }
                              ],
                              "color": "#FFC107",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          },
                          "legend_mid": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:crosshairs-question"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-on-50"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water"
                                }
                              ],
                              "color": "#3DA0E6",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          },
                          "legend_low": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:crosshairs"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-on-10"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer-low"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-minus"
                                }
                              ],
                              "color": "#1e5073",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          },
                          "legend_null": {
                            "card": {
                              "type": "custom:button-card",
                              "entity": "input_select.floorplan_data_overlay",
                              "state": [
                                {
                                  "value": "Presence",
                                  "icon": "mdi:crosshairs-off"
                                },
                                {
                                  "value": "Lux",
                                  "icon": "mdi:lightbulb-off-outline"
                                },
                                {
                                  "value": "Temperature",
                                  "icon": "mdi:thermometer-off"
                                },
                                {
                                  "value": "Humidity",
                                  "icon": "mdi:water-off"
                                }
                              ],
                              "color": "#000000",
                              "template": "floorplan_square_cell",
                              "color_type": "card",
                              "tap_action": {
                                "action": "navigate",
                                "navigation_path": "/lovelace/sensors"
                              }
                            }
                          }
                        },
                        "styles": {
                          "card": [
                            {
                              "position": "relative"
                            },
                            {
                              "background-color": "rgba(0,0,0,0)"
                            },
                            {
                              "border-radius": "0px"
                            }
                          ],
                          "custom_fields": {
                            "bracket": [
                              {
                                "background-color": "#292929"
                              },
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "0%"
                              },
                              {
                                "top": "25%"
                              },
                              {
                                "width": "100%"
                              },
                              {
                                "height": "50%"
                              }
                            ],
                            "toggle_overlay": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "1.666%"
                              },
                              {
                                "top": "5%"
                              },
                              {
                                "width": "30%"
                              },
                              {
                                "height": "90%"
                              }
                            ],
                            "legend_high": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "35%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ],
                            "legend_mid": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "51.666%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ],
                            "legend_low": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "68.334%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ],
                            "legend_null": [
                              {
                                "position": "absolute"
                              },
                              {
                                "left": "85%"
                              },
                              {
                                "top": "30%"
                              },
                              {
                                "width": "13.333%"
                              },
                              {
                                "height": "40%"
                              }
                            ]
                          }
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "22.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_study_room"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.study_room_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.study_room_motion_lights"
                        },
                        "style": {
                          "top": "95%",
                          "left": "27.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.study_room_floor_lamp",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.study_room_motion_floor_lamp"
                        },
                        "style": {
                          "top": "95%",
                          "left": "32.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "fan.study_room_fan",
                        "template": "fan_slider",
                        "variables": {
                          "auto_control_automation": "automation.study_room_fan_auto_control"
                        },
                        "style": {
                          "top": "95%",
                          "left": "37.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "climate.study_room_ac",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.study_room_motion_ac"
                        },
                        "style": {
                          "top": "95%",
                          "left": "42.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "47.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "media_player_slider",
                        "entity": "media_player.study_room_speaker"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "cover.study_room_blinds",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.south_facing_blinds_auto_control"
                        },
                        "style": {
                          "top": "95%",
                          "left": "52.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "style": {
                          "top": "95%",
                          "left": "72.5%",
                          "height": "9%",
                          "width": "4.5%"
                        },
                        "template": "area_button_parents_room"
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.parents_room_lights",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.parents_room_motion_lights"
                        },
                        "style": {
                          "top": "95%",
                          "left": "77.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "light.parents_room_bedside_lamp",
                        "template": "light_slider",
                        "variables": {
                          "auto_control_automation": "automation.parents_room_motion_bedside_lamp"
                        },
                        "style": {
                          "top": "95%",
                          "left": "82.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "fan.parents_room_fan",
                        "template": "fan_slider",
                        "variables": {
                          "auto_control_automation": "automation.parents_room_fan_auto_control"
                        },
                        "style": {
                          "top": "95%",
                          "left": "87.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      },
                      {
                        "type": "custom:button-card",
                        "entity": "climate.parents_room_ac",
                        "template": "auto_control_slider",
                        "variables": {
                          "auto_control_automation": "automation.parents_room_motion_ac"
                        },
                        "style": {
                          "top": "95%",
                          "left": "92.5%",
                          "height": "9%",
                          "width": "4.5%"
                        }
                      }
                    ],
                    "image": "/local/floorplan/floorplan_pointers_boxes_20250728.png"
                  }
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "view_layout": {
                        "position": "main"
                      },
                      "conditions": [
                        {
                          "condition": "screen",
                          "media_query": "(min-width: 0px) and (max-width: 767px)"
                        }
                      ],
                      "card": {
                        "square": false,
                        "type": "grid",
                        "columns": 6,
                        "cards": [
                          {
                            "type": "custom:button-card",
                            "entity": "sensor.local_two_hour_forecast",
                            "template": "top_row",
                            "icon": "[[[\n  if (entity.state.includes('Fair'))\n    if (states['sun.sun'].state == 'above_horizon')\n      return \"mdi:weather-sunny\";\n    else\n      return \"mdi:weather-night\";\n  else if (entity.state == 'Partly Cloudy')\n    if (states['sun.sun'].state == 'above_horizon')\n      return \"mdi:weather-partly-cloudy\";\n    else\n      return \"mdi:weather-night-partly-cloudy\";\n  else if (entity.state == 'Cloudy')\n    return \"mdi:weather-cloudy\";\n  else if (entity.state.includes('Thunder'))\n    return \"mdi:weather-lightning-rainy\";\n  else if (entity.state.includes('Shower'))\n    return \"mdi:weather-pouring\";\n  else if (entity.state.includes('Rain'))\n    return \"mdi:weather-rainy\";\n  else if (entity.state.includes('Wind'))\n    return \"mdi:weather-windy\";\n  else\n    return \"mdi:weather-cloudy-alert\"\n]]]\n",
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['sensor.raining_with_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            },
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/weather"
                            },
                            "hold_action": {
                              "action": "more-info"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": [
                              "top_row",
                              "alarms_imminent"
                            ]
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:state-switch",
                            "entity": "media_player.all_speakers",
                            "default": "in_use",
                            "states": {
                              "unavailable": {
                                "type": "custom:button-card",
                                "entity": "media_player.all_speakers",
                                "template": "error"
                              },
                              "unknown": {
                                "type": "custom:button-card",
                                "entity": "media_player.all_speakers",
                                "template": "error"
                              },
                              "off": {
                                "type": "custom:button-card",
                                "entity": "media_player.all_speakers",
                                "template": "top_row",
                                "double_tap_action": {
                                  "action": "assist",
                                  "start_listening": true
                                }
                              },
                              "in_use": {
                                "type": "custom:state-switch",
                                "entity": "{% if states('media_player.study_room_speaker') in ['playing','buffering','idle','paused'] and states('media_player.kitchen_speaker') not in ['playing','buffering','idle','paused'] %} study_room_speaker {% elif states('media_player.kitchen_speaker') in ['playing','buffering','idle','paused'] and states('media_player.study_room_speaker') not in ['playing','buffering','idle','paused'] %} kitchen_speaker {% else %} both {% endif %}",
                                "default": "both",
                                "states": {
                                  "study_room_speaker": {
                                    "type": "custom:button-card",
                                    "template": [
                                      "media_player_slider",
                                      "top_row"
                                    ],
                                    "entity": "media_player.study_room_speaker"
                                  },
                                  "kitchen_speaker": {
                                    "type": "custom:button-card",
                                    "template": [
                                      "media_player_slider",
                                      "top_row"
                                    ],
                                    "entity": "media_player.kitchen_speaker"
                                  },
                                  "both": {
                                    "type": "custom:button-card",
                                    "template": [
                                      "media_player_slider",
                                      "top_row"
                                    ],
                                    "entity": "media_player.all_speakers"
                                  }
                                }
                              }
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "sensor.bus_stop_sims_drive_market",
                            "template": "top_row",
                            "label": "[[[ if (entity.state != 'unavailable') { return entity.state.split(',')[0].split('/')[0] } else { return '' } ]]]",
                            "show_label": true,
                            "styles": {
                              "icon": [
                                {
                                  "color": "[[[\n  if (entity.state == 'unavailable') {\n    return 'var(--disabled-color)'\n  } else if (entity.state.split(',')[0].split('/')[1] <= 5) {\n    return 'var(--state-binary-sensor-color)'\n  } else {\n     return 'var(--state-inactive-color)'\n  }\n]]]\n"
                                }
                              ],
                              "label": [
                                {
                                  "color": "[[[\n  if (entity.state != 'unavailable') {\n    if (entity.state.split(',')[0].split('/')[1] <= 5) {\n      return 'var(--state-binary-sensor-color)'\n    } else {\n      return 'var(--state-inactive-color)'\n    }\n  }\n]]]\n"
                                },
                                {
                                  "animation": "[[[\n  if (entity.state != 'unavailable') {\n    if (entity.state.split(',')[0].split('/')[1] <= 3)  {\n      return 'blink 2s ease infinite'\n    }\n  }\n]]]\n"
                                }
                              ]
                            },
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace/transit"
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "main_door"
                          },
                          {
                            "type": "custom:button-card",
                            "icon": "mdi:teddy-bear",
                            "template": "area_button",
                            "tap_action": {
                              "data": {
                                "room": [
                                  "playroom",
                                  "yard"
                                ]
                              }
                            },
                            "double_tap_action": {
                              "service_data": {
                                "entity_id": [
                                  "automation.yard_motion_timeout",
                                  "automation.playroom_motion_timeout"
                                ]
                              }
                            },
                            "hold_action": {
                              "navigation_path": "/lovelace/playroom"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background-color": "[[[\n  if (states['binary_sensor.ac_on_with_window_open_at_yard'].state == 'on')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'alert')\n    return '#9e110d';\n  else if (states['sensor.raining_with_yard_windows_open'].state == 'warning')\n    return '#f2900f';\n  else\n    return 'var(--card-background-color)';\n]]]\n"
                                }
                              ]
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.playroom_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.playroom_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.yard_light_entity",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.yard_motion_light"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "washer"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "vacuum"
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_elenas_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.elenas_room_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.elenas_room_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.elenas_room_bedside_lamp",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.elenas_room_motion_bedside_lamp"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "fan.elenas_room_fan",
                            "template": "fan_slider",
                            "variables": {
                              "auto_control_automation": "automation.elenas_room_fan_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "climate.elenas_room_ac",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.elenas_room_motion_ac"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.elenas_room_curtains",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.elenas_room_curtains_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_elis_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.elis_room_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.elis_room_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.elis_room_floor_lamp",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.elis_room_motion_floor_lamp"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "fan.elis_room_fan",
                            "template": "fan_slider",
                            "variables": {
                              "auto_control_automation": "automation.elis_room_fan_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "climate.elis_room_ac",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.elis_room_motion_ac"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.elis_room_curtains",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.elis_room_curtains_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_hallway"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.hallway_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.hallway_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_powder_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.powder_room_pendant_light_entity",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.powder_room_motion_pendant_light"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_junior_bathroom"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.junior_bathroom_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.junior_bathroom_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_dining_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.dining_room_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.dining_room_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.dining_room_pendant_light_entity",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.dining_room_motion_pendant_light"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "fan.dining_room_fan",
                            "template": "fan_slider",
                            "variables": {
                              "auto_control_automation": "automation.dining_room_fan_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "climate.dining_room_ac",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.dining_room_motion_ac"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.dining_room_blinds",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.south_facing_blinds_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_living_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.living_room_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.living_room_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.living_room_pendant_light_entity",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.living_room_motion_pendant_light"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "fan.living_room_fan",
                            "template": "fan_slider",
                            "variables": {
                              "auto_control_automation": "automation.living_room_fan_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "climate.living_room_ac",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.living_room_motion_ac"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.living_room_blinds",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.south_facing_blinds_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_study_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.study_room_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.study_room_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.study_room_floor_lamp",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.study_room_motion_floor_lamp"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "fan.study_room_fan",
                            "template": "fan_slider",
                            "variables": {
                              "auto_control_automation": "automation.study_room_fan_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "climate.study_room_ac",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.study_room_motion_ac"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.study_room_blinds",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.south_facing_blinds_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_parents_room"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.parents_room_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.parents_room_motion_lights"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.parents_room_bedside_lamp",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.parents_room_motion_bedside_lamp"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "fan.parents_room_fan",
                            "template": "fan_slider",
                            "variables": {
                              "auto_control_automation": "automation.parents_room_fan_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "climate.parents_room_ac",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.parents_room_motion_ac"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_master_bathroom"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.master_bathroom_light_entity",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.master_bathroom_motion_light"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.master_bathroom_pendant_light_entity",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.master_bathroom_motion_pendant_light"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "color_type": "blank-card"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.master_bathroom_blind",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.master_bathroom_blind_auto_control"
                            }
                          },
                          {
                            "type": "custom:button-card",
                            "template": "area_button_kitchen"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "light.kitchen_lights",
                            "template": "light_slider",
                            "variables": {
                              "auto_control_automation": "automation.kitchen_motion_lights"
                            }
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "rice_cooker"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "stove"
                          },
                          {
                            "type": "custom:decluttering-card",
                            "template": "dishwasher"
                          },
                          {
                            "type": "custom:button-card",
                            "entity": "cover.kitchen_blind",
                            "template": "auto_control_slider",
                            "variables": {
                              "auto_control_automation": "automation.kitchen_blind_auto_control"
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "theme": "no_border",
          "title": "Sensors",
          "path": "sensors",
          "icon": "mdi:home-search",
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            },
            {
              "user": "2651cb9042dd41acb0b54327457a9a14"
            },
            {
              "user": "991e26502d6844dea64362276571d6c1"
            },
            {
              "user": "361884c4dcb94d5f9d7e583d64844264"
            }
          ],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "top_row",
                          "icon": "mdi:information-outline",
                          "styles": {
                            "card": [
                              {
                                "border-radius": "50%"
                              }
                            ]
                          },
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/lovelace/sensors-legend"
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:motion-sensor",
                          "label": "min",
                          "show_label": true,
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:door-open",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:window-open",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:thermometer",
                          "label": "°C",
                          "show_label": true,
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:water-percent",
                          "label": "%",
                          "show_label": true,
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:brightness-5",
                          "label": "lux",
                          "show_label": true,
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:teddy-bear",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.playroom_motion_sensors",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.yard_window",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_radar_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:shower-head",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "input_boolean.junior_bathroom_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.junior_bathroom_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_shower_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:toilet",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "input_boolean.powder_room_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.powder_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "label": "A",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elenas_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elenas_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elenas_room_left_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_core_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_core_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "label": "E",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elis_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elis_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elis_room_right_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_core_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_core_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:swap-horizontal-circle-outline",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.hallway_motion",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.hallway_doors",
                          "label": "[[[ \n  if (entity.attributes.total_doors_open == \"0/4\")\n    return ''\n  else\n    return entity.attributes.total_doors_open\n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pasta",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.dining_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.main_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.dining_room_windows",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_radar_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:sofa",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.living_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.living_room_windows",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_radar_lux_calibrated",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bookshelf",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.study_room_motion",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.study_room_windows",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_walkway_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "label": "D&G",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_doors",
                          "label": "[[[ \n  if (entity.attributes.total_doors_open == '0/2')\n    return ''\n  else\n    return entity.attributes.total_doors_open\n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_left_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_core_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_core_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bathtub",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "input_boolean.master_bathroom_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.master_bathroom_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pot-steam",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.kitchen_radar_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.kitchen_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_radar_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "screen",
                      "media_query": "(min-width: 0px) and (max-width: 800px)"
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "template": "top_row",
                          "icon": "mdi:information-outline",
                          "styles": {
                            "card": [
                              {
                                "border-radius": "50%"
                              }
                            ]
                          },
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/lovelace/sensors-legend"
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:teddy-bear",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:shower-head",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:toilet",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "label": "A",
                          "show_label": true,
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "label": "E",
                          "show_label": true,
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:swap-horizontal-circle-outline",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pasta",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:sofa",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bookshelf",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "label": "D&G",
                          "show_label": true,
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bathtub",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pot-steam",
                          "template": "square_cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:motion-sensor",
                          "label": "min",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.playroom_motion_sensors",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "input_boolean.junior_bathroom_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "input_boolean.powder_room_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elenas_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elis_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.hallway_motion",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.dining_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.living_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.study_room_motion",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_presence",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "input_boolean.master_bathroom_occupancy",
                          "template": "sensor_motion"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.kitchen_radar_occupancy",
                          "template": "sensor_motion"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:door-open",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.junior_bathroom_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.powder_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elenas_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elis_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.hallway_doors",
                          "label": "[[[ \n  if (entity.attributes.total_doors_open == \"0/4\")\n    return ''\n  else\n    return entity.attributes.total_doors_open\n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.main_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_doors",
                          "label": "[[[ \n  if (entity.attributes.total_doors_open == '0/2')\n    return ''\n  else\n    return entity.attributes.total_doors_open\n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.master_bathroom_door",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:window-open",
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.yard_window",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elenas_room_left_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.elis_room_right_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.dining_room_windows",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.living_room_windows",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.study_room_windows",
                          "label": "[[[\n  if (entity.attributes.total_panes_open == \"0/2\")\n    return ''\n  else\n    return entity.attributes.total_panes_open \n]]]\n",
                          "show_label": true,
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.parents_room_left_window",
                          "template": "sensor_binary"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "binary_sensor.kitchen_window",
                          "template": "sensor_binary"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:thermometer",
                          "label": "°C",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_core_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_core_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_core_temperature",
                          "template": "sensor_temperature"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_temperature",
                          "template": "sensor_temperature"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:water-percent",
                          "label": "%",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_core_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_core_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_core_humidity",
                          "template": "sensor_humidity"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_humidity",
                          "template": "sensor_humidity"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:brightness-5",
                          "label": "lux",
                          "show_label": true,
                          "template": "sensor_view"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_radar_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_shower_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_radar_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_radar_lux_calibrated",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_walkway_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_lux",
                          "template": "sensor_lux"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_radar_lux",
                          "template": "sensor_lux"
                        }
                      ]
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "screen",
                      "media_query": "(min-width: 801px)"
                    }
                  ]
                }
              ]
            }
          ],
          "type": "panel"
        },
        {
          "theme": "no_border",
          "title": "Zigbee Diagnostics",
          "path": "zigbee-diagnostics",
          "icon": "mdi:zigbee",
          "visible": [
            {
              "user": "ad2bcce775894550affb6dfef93a2a36"
            }
          ],
          "type": "panel",
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_left_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_floor_lamp_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_floor_lamp_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_right_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:shower-head",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_pendant_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_ceiling_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_lights_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_shower_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:toilet",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_pendant_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_lights_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:swap-horizontal-circle-outline",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_router_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:teddy-bear",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_lights_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_window_1_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_window_2_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_temperature_humidity_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.washer_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pasta",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_4_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_pendant_light_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.doorbell_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_left_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_middle_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_right_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_left_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_right_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_temperature_humidity_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:sofa",
                          "template": "square_cell",
                          "styles": {
                            "card": [
                              {
                                "border-color": "#b4fab4"
                              },
                              {
                                "border-width": "2px"
                              }
                            ]
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_4_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_5_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_6_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_7_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_pendant_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_left_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_middle_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_right_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_left_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_right_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_temperature_humidity_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pot-steam",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_ceiling_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dishwasher_switch_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_lights_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_temperature_humidity_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_opened_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_closed_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.rice_cooker_lid_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dishwasher_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bookshelf",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_4_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_floor_lamp_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_left_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_right_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_temperature_humidity_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_left_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_right_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_walkway_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_repeater_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_1_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_2_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_3_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_4_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bedside_lamp_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_left_window_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "vertical-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bathtub",
                          "template": "square_cell"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_pendant_light_entity_lqi",
                          "template": [
                            "zigbee_router",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_blind_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_lights_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_blind_controller_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_door_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_shower_motion_lqi",
                          "template": [
                            "zigbee_endpoint",
                            "square_cell"
                          ]
                        }
                      ]
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "screen",
                      "media_query": "(min-width: 0px) and (max-width: 800px)"
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_left_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elenas_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_floor_lamp_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_floor_lamp_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_right_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.elis_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:shower-head",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_ceiling_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_bathroom_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.junior_shower_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:toilet",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.powder_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:swap-horizontal-circle-outline",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_router_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.hallway_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:teddy-bear",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_window_1_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_window_2_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.playroom_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.yard_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.washer_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pasta",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_pendant_light_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.doorbell_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_left_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_middle_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_right_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_left_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_right_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dining_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.main_door_motion_lqi",
                          "template": "zigbee_endpoint"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:sofa",
                          "template": "zigbee_endpoint",
                          "styles": {
                            "card": [
                              {
                                "border-color": "#b4fab4"
                              },
                              {
                                "border-width": "2px"
                              }
                            ]
                          }
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_5_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_6_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_bulb_7_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_left_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_middle_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_right_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_left_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_right_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.living_room_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:pot-steam",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_ceiling_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dishwasher_switch_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_opened_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.kitchen_blind_closed_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.rice_cooker_lid_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.dishwasher_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bookshelf",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_floor_lamp_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_left_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_right_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_temperature_humidity_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_left_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_room_right_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.study_walkway_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bed",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_repeater_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_1_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_2_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_3_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bulb_4_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_bedside_lamp_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_left_window_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.parents_room_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    },
                    {
                      "type": "horizontal-stack",
                      "cards": [
                        {
                          "type": "custom:button-card",
                          "icon": "mdi:bathtub",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_pendant_light_entity_lqi",
                          "template": "zigbee_router"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_blind_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_lights_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_blind_controller_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_door_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_bathroom_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "entity": "sensor.master_shower_motion_lqi",
                          "template": "zigbee_endpoint"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-card"
                        },
                        {
                          "type": "custom:button-card",
                          "color_type": "blank-cell"
                        }
                      ]
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "screen",
                      "media_query": "(min-width: 801px)"
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "sensor.zha_device_issues",
                      "above": 0
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "{% if state_attr('sensor.zha_device_issues','disconnected') | length > 0 %}\n    {% set message = namespace(text = \"\") %} {% if\n    state_attr('sensor.zha_device_issues','disconnected') | length > 0 %}\n      {% set message.text = message.text + 'Disconnected: ' %}\n      {% for battery in state_attr('sensor.zha_device_issues','disconnected') %}\n        {% set message.text = message.text + device_attr(device_id(battery),'name_by_user') + ', ' %}\n      {% endfor %}\n      {% set message.text = message.text[:-2] %}\n    {% endif %}\n  <ha-alert alert-type=\"error\">{{ message.text }}</ha-alert>\n{% endif %}\n{% if state_attr('sensor.zha_device_issues','batteries_low') | length > 0 %}\n    {% set message = namespace(text = \"\") %} {% if\n    state_attr('sensor.zha_device_issues','batteries_low') | length > 0 %}\n      {% set message.text = message.text + 'Batteries low: ' %}\n      {% for battery in state_attr('sensor.zha_device_issues','batteries_low') %}\n        {% set message.text = message.text + device_attr(device_id(battery),'name_by_user') + ', ' %}\n      {% endfor %}\n      {% set message.text = message.text[:-2] %}\n    {% endif %}  \n  <ha-alert alert-type=\"warning\">{{ message.text }}</ha-alert>\n{% endif %}"
                  }
                }
              ]
            }
          ],
          "subview": true
        },
        {
          "theme": "no_border",
          "title": "Settings",
          "path": "settings",
          "icon": "mdi:cogs",
          "badges": [],
          "cards": [
            {
              "square": false,
              "type": "grid",
              "cards": [
                {
                  "type": "tile",
                  "entity": "input_boolean.away_mode",
                  "features_position": "bottom",
                  "vertical": false,
                  "hide_state": true,
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "double_tap_action": {
                    "action": "toggle"
                  }
                },
                {
                  "type": "tile",
                  "entity": "input_boolean.party_mode",
                  "features_position": "bottom",
                  "vertical": false,
                  "hide_state": true,
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "double_tap_action": {
                    "action": "toggle"
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "tile_nav_button",
                  "name": "Sleep",
                  "state_display": " ",
                  "icon": "mdi:bed-clock",
                  "tap_action": {
                    "navigation_path": "/lovelace/settings-sleep"
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "tile_nav_button",
                  "name": "Lighting",
                  "state_display": " ",
                  "icon": "mdi:home-lightbulb-outline",
                  "tap_action": {
                    "navigation_path": "/lovelace/settings-lighting"
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "tile_nav_button",
                  "name": "Cooling",
                  "state_display": " ",
                  "icon": "mdi:home-thermometer-outline",
                  "tap_action": {
                    "navigation_path": "/lovelace/settings-cooling"
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "tile_nav_button",
                  "name": "Motion",
                  "state_display": " ",
                  "icon": "mdi:motion-sensor",
                  "tap_action": {
                    "navigation_path": "/lovelace/motion"
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "tile_nav_button",
                  "name": "Network",
                  "state_display": " ",
                  "icon": "mdi:server-security",
                  "tap_action": {
                    "navigation_path": "/lovelace/network"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "template": "tile_nav_button",
                    "name": "Zigbee",
                    "state_display": " ",
                    "icon": "mdi:zigbee",
                    "tap_action": {
                      "navigation_path": "/lovelace/zigbee-diagnostics"
                    }
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "tile",
                        "entity": "script.git_push",
                        "hide_state": true,
                        "features_position": "bottom",
                        "vertical": false
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "tile",
                        "entity": "script.botc_day_night_toggle",
                        "hide_state": true,
                        "features_position": "bottom",
                        "vertical": false,
                        "name": "BotC Day/Night"
                      }
                    ]
                  }
                }
              ],
              "columns": 2
            }
          ]
        },
        {
          "title": "Settings - Sleep",
          "path": "settings-sleep",
          "icon": "mdi:sleep",
          "theme": "no_border",
          "type": "sections",
          "subview": true,
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:alarm",
                  "heading": "Next Alarms",
                  "heading_style": "title"
                },
                {
                  "square": false,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "input_datetime.daniels_next_alarm",
                      "template": "button_card_tile",
                      "name": "Daniel",
                      "state_display": "[[[ return helpers.formatShortDateTime(entity.state) ]]]",
                      "styles": {
                        "icon": [
                          {
                            "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(0) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(0) == 'E')\n    return '#484848';\n  else\n    return 'var(--grey-color)';\n]]]\n"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_datetime.graces_next_alarm",
                      "template": "button_card_tile",
                      "name": "Grace",
                      "state_display": "[[[ return helpers.formatShortDateTime(entity.state) ]]]",
                      "styles": {
                        "icon": [
                          {
                            "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(1) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(1) == 'E')\n    return '#484848';\n  else\n    return 'var(--grey-color)';\n]]]\n"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_datetime.elis_next_alarm",
                      "template": "button_card_tile",
                      "name": "Eli",
                      "state_display": "[[[ return helpers.formatShortDateTime(entity.state) ]]]",
                      "styles": {
                        "icon": [
                          {
                            "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(2) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(2) == 'E')\n    return '#484848';\n  else\n    return 'var(--grey-color)';\n]]]\n"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_datetime.elenas_next_alarm",
                      "template": "button_card_tile",
                      "name": "Annika",
                      "state_display": "[[[ return helpers.formatShortDateTime(entity.state) ]]]",
                      "styles": {
                        "icon": [
                          {
                            "color": "[[[\n  if (states['sensor.next_alarm_timings'].state.charAt(3) == 'B')\n    return '#b4fab4';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'C')\n    return '#41a7f2';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'D')\n    return '#f2900f';\n  else if (states['sensor.next_alarm_timings'].state.charAt(3) == 'E')\n    return '#484848';\n  else\n    return 'var(--grey-color)';\n]]]\n"
                          }
                        ]
                      }
                    }
                  ],
                  "columns": 2
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:alarm",
                  "heading": "Alarms Armed",
                  "heading_style": "title"
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "tile",
                      "entity": "input_boolean.parents_room_next_alarm_armed",
                      "features_position": "bottom",
                      "vertical": false,
                      "name": "Parents",
                      "hide_state": true,
                      "tap_action": {
                        "action": "toggle"
                      },
                      "icon_tap_action": {
                        "action": "more-info"
                      }
                    },
                    {
                      "type": "tile",
                      "entity": "input_boolean.elis_room_next_alarm_armed",
                      "features_position": "bottom",
                      "vertical": false,
                      "name": "Eli",
                      "hide_state": true,
                      "tap_action": {
                        "action": "toggle"
                      },
                      "icon_tap_action": {
                        "action": "more-info"
                      }
                    },
                    {
                      "type": "tile",
                      "entity": "input_boolean.elenas_room_next_alarm_armed",
                      "features_position": "bottom",
                      "vertical": false,
                      "name": "Annika",
                      "hide_state": true,
                      "tap_action": {
                        "action": "toggle"
                      },
                      "icon_tap_action": {
                        "action": "more-info"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:clock-time-eight-outline",
                  "heading": "Alarm Timings",
                  "heading_style": "title"
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_datetime.daniels_work_day_alarm",
                      "name": "Daniel's Work Day"
                    },
                    {
                      "entity": "input_datetime.graces_work_day_alarm",
                      "name": "Grace's Work Day"
                    },
                    {
                      "entity": "input_datetime.elis_school_day_alarm",
                      "name": "Eli's School Day"
                    },
                    {
                      "entity": "input_datetime.elenas_school_day_alarm",
                      "name": "Annika's School Day"
                    },
                    {
                      "entity": "input_datetime.eca_day_alarm",
                      "name": "ECA Day"
                    }
                  ]
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:sleep",
                  "heading": "Sleep Timings",
                  "heading_style": "title"
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_datetime.wind_down"
                    },
                    {
                      "entity": "input_datetime.sleep_hours_start"
                    },
                    {
                      "entity": "input_datetime.sleep_hours_end"
                    },
                    {
                      "entity": "input_number.minimum_sleep_hours",
                      "name": "Minimum Sleep"
                    }
                  ]
                }
              ]
            }
          ],
          "cards": []
        },
        {
          "icon": "mdi:home-lightbulb-outline",
          "path": "settings-lighting",
          "title": "Settings - Lighting",
          "theme": "no_border",
          "subview": true,
          "type": "sections",
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.blinds_command_deconflict",
                      "name": "Blinds Deconflict"
                    },
                    {
                      "entity": "input_number.blinds_auto_control_debounce",
                      "name": "Blinds Debounce"
                    }
                  ]
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.minimum_lux"
                    },
                    {
                      "entity": "input_number.comfortable_lux"
                    },
                    {
                      "entity": "input_number.maximum_lux"
                    }
                  ]
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.morning_light_brightness",
                      "name": "Morning Brightness"
                    },
                    {
                      "entity": "input_number.night_light_brightness",
                      "name": "Night Brightness"
                    },
                    {
                      "entity": "input_number.light_brightness_change_step",
                      "name": "Brightness Change"
                    }
                  ]
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_datetime.dim_hours_start"
                    },
                    {
                      "entity": "input_datetime.dim_hours_end"
                    }
                  ]
                }
              ],
              "column_span": 1
            }
          ],
          "max_columns": 4,
          "dense_section_placement": false,
          "cards": []
        },
        {
          "title": "Settings - Cooling",
          "path": "settings-cooling",
          "icon": "mdi:home-thermometer-outline",
          "theme": "no_border",
          "subview": true,
          "type": "sections",
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading_style": "title",
                  "heading": "Sitting Room Fans",
                  "icon": "mdi:sofa"
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.sitting_rooms_fan_speed_when_cool",
                      "name": "Cool Speed"
                    },
                    {
                      "entity": "input_number.sitting_rooms_fan_speed_when_warm",
                      "name": "Warm Speed"
                    }
                  ]
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading_style": "title",
                  "heading": "Bedroom Fans",
                  "icon": "mdi:bed"
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.bedrooms_fan_speed_when_cool",
                      "name": "Cool Speed"
                    },
                    {
                      "entity": "input_number.bedrooms_fan_speed_when_warm",
                      "name": "Warm Speed"
                    }
                  ]
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "Fan Direction Helpers",
                  "heading_style": "title",
                  "icon": "mdi:rotate-3d-variant"
                },
                {
                  "type": "grid",
                  "columns": 2,
                  "square": false,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "input_select.elis_room_fan_direction",
                      "name": "Eli's Room",
                      "show_state": false,
                      "icon": "[[[\n  if (entity.state == 'reverse') {\n    return 'mdi:arrow-up'\n  } else {\n    return 'mdi:arrow-down'\n  }\n]]]\n",
                      "tap_action": {
                        "action": "more-info"
                      },
                      "double_tap_action": {
                        "action": "call-service",
                        "service": "input_select.select_next",
                        "service_data": {
                          "entity_id": "[[[ return entity.entity_id ]]]"
                        }
                      },
                      "styles": {
                        "card": [
                          {
                            "height": "56px"
                          }
                        ],
                        "name": [
                          {
                            "font-size": "10pt"
                          },
                          {
                            "justify-self": "start"
                          }
                        ],
                        "grid": [
                          {
                            "grid-template-areas": "'i n'"
                          },
                          {
                            "grid-template-columns": "1fr 2fr"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_select.elenas_room_fan_direction",
                      "name": "Annika's Room",
                      "show_state": false,
                      "icon": "[[[\n  if (entity.state == 'reverse') {\n    return 'mdi:arrow-up'\n  } else {\n    return 'mdi:arrow-down'\n  }\n]]]\n",
                      "tap_action": {
                        "action": "more-info"
                      },
                      "double_tap_action": {
                        "action": "call-service",
                        "service": "input_select.select_next",
                        "service_data": {
                          "entity_id": "[[[ return entity.entity_id ]]]"
                        }
                      },
                      "styles": {
                        "card": [
                          {
                            "height": "56px"
                          }
                        ],
                        "name": [
                          {
                            "font-size": "10pt"
                          },
                          {
                            "justify-self": "start"
                          }
                        ],
                        "grid": [
                          {
                            "grid-template-areas": "'i n'"
                          },
                          {
                            "grid-template-columns": "1fr 2fr"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_select.study_room_fan_direction",
                      "name": "Study Room",
                      "show_state": false,
                      "icon": "[[[\n  if (entity.state == 'reverse') {\n    return 'mdi:arrow-up'\n  } else {\n    return 'mdi:arrow-down'\n  }\n]]]\n",
                      "tap_action": {
                        "action": "more-info"
                      },
                      "double_tap_action": {
                        "action": "call-service",
                        "service": "input_select.select_next",
                        "service_data": {
                          "entity_id": "[[[ return entity.entity_id ]]]"
                        }
                      },
                      "styles": {
                        "card": [
                          {
                            "height": "56px"
                          }
                        ],
                        "name": [
                          {
                            "font-size": "10pt"
                          },
                          {
                            "justify-self": "start"
                          }
                        ],
                        "grid": [
                          {
                            "grid-template-areas": "'i n'"
                          },
                          {
                            "grid-template-columns": "1fr 2fr"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "input_select.parents_room_fan_direction",
                      "name": "Parents' Room",
                      "show_state": false,
                      "icon": "[[[\n  if (entity.state == 'reverse') {\n    return 'mdi:arrow-up'\n  } else {\n    return 'mdi:arrow-down'\n  }\n]]]\n",
                      "tap_action": {
                        "action": "more-info"
                      },
                      "double_tap_action": {
                        "action": "call-service",
                        "service": "input_select.select_next",
                        "service_data": {
                          "entity_id": "[[[ return entity.entity_id ]]]"
                        }
                      },
                      "styles": {
                        "card": [
                          {
                            "height": "56px"
                          }
                        ],
                        "name": [
                          {
                            "font-size": "10pt"
                          },
                          {
                            "justify-self": "start"
                          }
                        ],
                        "grid": [
                          {
                            "grid-template-areas": "'i n'"
                          },
                          {
                            "grid-template-columns": "1fr 2fr"
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "visibility": [
                {
                  "condition": "user",
                  "users": [
                    "ad2bcce775894550affb6dfef93a2a36"
                  ]
                }
              ]
            }
          ],
          "max_columns": 4,
          "cards": []
        },
        {
          "theme": "no_border",
          "title": "Motion",
          "path": "motion",
          "icon": "mdi:motion-sensor",
          "subview": true,
          "badges": [],
          "cards": [],
          "type": "sections",
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:motion-sensor-off",
                  "heading_style": "title",
                  "heading": "Area Timeout Automations"
                },
                {
                  "square": true,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "automation.yard_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.playroom_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.elenas_room_motion_timeout",
                      "template": "square_cell",
                      "label": "A",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.elis_room_motion_timeout",
                      "template": "square_cell",
                      "label": "E",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.junior_bathroom_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.powder_room_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.hallway_motion_timeout",
                      "template": "square_cell",
                      "label": "Hall",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.dining_room_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.dining_and_living_room_ac_motion_timeout",
                      "template": "square_cell",
                      "label": "ACs",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.living_room_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.study_room_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.study_walkway_motion_timeout",
                      "template": "square_cell",
                      "label": "Walk",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.parents_room_motion_timeout",
                      "template": "square_cell",
                      "label": "D&G",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.master_bathroom_motion_timeout",
                      "template": "square_cell"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "automation.kitchen_motion_timeout",
                      "template": "square_cell"
                    }
                  ],
                  "columns": 6
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:motion-sensor-off",
                  "heading_style": "title",
                  "heading": "Timeouts"
                },
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.motion_timeout_bedrooms",
                      "name": "Bedrooms"
                    },
                    {
                      "entity": "input_number.motion_timeout_walking_areas",
                      "name": "Walking Areas"
                    },
                    {
                      "entity": "input_number.motion_timeout_presence",
                      "name": "Presence"
                    }
                  ],
                  "show_header_toggle": false
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "entity": "input_number.radar_occupancy_on_delay",
                      "name": "Radar Delay"
                    }
                  ]
                }
              ]
            }
          ],
          "max_columns": 4
        },
        {
          "title": "Network",
          "path": "network",
          "icon": "mdi:server-security",
          "theme": "no_border",
          "type": "sections",
          "subview": true,
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading_style": "title",
                  "icon": "mdi:server",
                  "badges": [
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.node_proxmox_last_boot",
                      "icon": ""
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.node_proxmox_cpu_used",
                      "tap_action": {
                        "action": "more-info"
                      },
                      "icon": "mdi:cpu-64-bit"
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.node_proxmox_memory_used_percentage",
                      "tap_action": {
                        "action": "more-info"
                      }
                    }
                  ],
                  "heading": "Proxmox"
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "CPU Used"
                  },
                  "series": [
                    {
                      "entity": "sensor.node_proxmox_cpu_used",
                      "name": "Proxmox"
                    },
                    {
                      "entity": "sensor.qemu_pfsense_100_cpu_used",
                      "name": "pfSense"
                    },
                    {
                      "entity": "sensor.qemu_an_eloquent_home_101_cpu_used",
                      "name": "Home Assistant"
                    },
                    {
                      "entity": "sensor.qemu_docker_102_cpu_used",
                      "name": "Docker"
                    },
                    {
                      "entity": "sensor.lxc_samba_103_cpu_used",
                      "name": "Samba"
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "custom:apexcharts-card",
                      "config_templates": "header_only",
                      "header": {
                        "title": "RAM GB Used"
                      },
                      "all_series_config": {
                        "unit": " "
                      },
                      "series": [
                        {
                          "entity": "sensor.node_proxmox_memory_used",
                          "name": "Proxmox",
                          "transform": "return x - hass.states['sensor.qemu_pfsense_100_memory_used'].state - hass.states['sensor.qemu_an_eloquent_home_101_memory_used'].state - hass.states['sensor.qemu_docker_102_memory_used'].state - hass.states['sensor.lxc_samba_103_memory_used'].state\n"
                        },
                        {
                          "entity": "sensor.qemu_pfsense_100_memory_used",
                          "name": "pfSense"
                        },
                        {
                          "entity": "sensor.qemu_an_eloquent_home_101_memory_used",
                          "name": "Home Assistant"
                        },
                        {
                          "entity": "sensor.qemu_docker_102_memory_used",
                          "name": "Docker"
                        },
                        {
                          "entity": "sensor.lxc_samba_103_memory_used",
                          "name": "Samba"
                        },
                        {
                          "entity": "sensor.node_proxmox_memory_used",
                          "name": "Available",
                          "transform": "return 15.5 - x",
                          "color": "grey"
                        }
                      ]
                    },
                    {
                      "type": "custom:button-card",
                      "template": "bar_chart",
                      "show_icon": false,
                      "variables": {
                        "all_total": 15.5,
                        "bar_segment_proxmox_percent": "[[[ return (parseFloat(states['sensor.node_proxmox_memory_used'].state) - parseFloat(states['sensor.qemu_pfsense_100_memory_used'].state) - parseFloat(states['sensor.qemu_an_eloquent_home_101_memory_used'].state) - parseFloat(states['sensor.qemu_docker_102_memory_used'].state) - parseFloat(states['sensor.lxc_samba_103_memory_used'].state)) / variables.all_total * 100 ]]]",
                        "bar_segment_pfsense_percent": "[[[ return parseFloat(states['sensor.qemu_pfsense_100_memory_used'].state) / variables.all_total * 100 ]]]",
                        "bar_segment_homeassistant_percent": "[[[ return parseFloat(states['sensor.qemu_an_eloquent_home_101_memory_used'].state) / variables.all_total * 100 ]]]",
                        "bar_segment_docker_percent": "[[[ return parseFloat(states['sensor.qemu_docker_102_memory_used'].state) / variables.all_total * 100 ]]]",
                        "bar_segment_samba_percent": "[[[ return parseFloat(states['sensor.lxc_samba_103_memory_used'].state) / variables.all_total * 100 ]]]",
                        "bar_segment_zz_available_percent": "[[[ return 100 - variables.bar_segment_proxmox_percent - variables.bar_segment_homeassistant_percent - variables.bar_segment_docker_percent - variables.bar_segment_samba_percent - variables.bar_segment_pfsense_percent ]]]"
                      },
                      "custom_fields": {
                        "bar_segment_proxmox": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_proxmox_percent) ]]]"
                            },
                            "entity": "sensor.node_proxmox_memory_used",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#FF9800"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_pfsense": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_pfsense_percent) ]]]"
                            },
                            "entity": "sensor.qemu_pfsense_100_memory_used",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#3498DB"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_homeassistant": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_homeassistant_percent) ]]]"
                            },
                            "entity": "sensor.qemu_an_eloquent_home_101_memory_used",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#E74C3C"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_docker": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_docker_percent) ]]]"
                            },
                            "entity": "sensor.qemu_docker_102_memory_used",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#9B59B6"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_samba": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_samba_percent) ]]]"
                            },
                            "entity": "sensor.lxc_samba_103_memory_used",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#F1C40F"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_available": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_zz_available_percent) ]]]"
                            },
                            "entity": "sensor.node_proxmox_memory_used",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#808080"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "styles": {
                        "grid": [
                          {
                            "grid-template-areas": "\"chart_header chart_header chart_header chart_header chart_header chart_header\" \"bar_segment_proxmox bar_segment_pfsense bar_segment_homeassistant bar_segment_docker bar_segment_samba bar_segment_available\""
                          },
                          {
                            "grid-template-columns": "[[[ return Math.round(variables.bar_segment_proxmox_percent).toString() + '% ' + variables.bar_segment_pfsense_percent.toString() + '%' + variables.bar_segment_homeassistant_percent.toString() + '%' + variables.bar_segment_docker_percent.toString() + '%' + variables.bar_segment_samba_percent.toString() + '%' + variables.bar_segment_zz_available_percent.toString() + '%' ]]]"
                          },
                          {
                            "grid-template-rows": "min-content min-content"
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "Home Assistant",
                  "heading_style": "title",
                  "icon": "mdi:home-assistant",
                  "badges": [
                    {
                      "type": "entity",
                      "entity": "sensor.last_boot"
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.qemu_an_eloquent_home_101_cpu_used",
                      "tap_action": {
                        "action": "more-info"
                      },
                      "icon": "mdi:cpu-64-bit"
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.qemu_an_eloquent_home_101_memory_used_percentage",
                      "tap_action": {
                        "action": "more-info"
                      }
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "stacked": true,
                  "all_series_config": {
                    "type": "column",
                    "unit": " ",
                    "group_by": {
                      "func": "last",
                      "duration": "5min"
                    }
                  },
                  "header": {
                    "title": "Automations Triggered Within"
                  },
                  "series": [
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_5min",
                      "name": "5min",
                      "color": "skyblue"
                    },
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_30min",
                      "name": "30min",
                      "color": "steelblue"
                    },
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_1h",
                      "name": "1h",
                      "color": "green"
                    },
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_12h",
                      "name": "12h",
                      "color": "lightgreen"
                    },
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_1d",
                      "name": "1 day",
                      "color": "gold"
                    },
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_1wk",
                      "name": "1 week",
                      "color": "brown"
                    },
                    {
                      "entity": "sensor.home_assistant_automations_trigger_time_distribution",
                      "attribute": "triggered_1wk_up",
                      "name": "Longer",
                      "color": "maroon"
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "stacked": true,
                  "all_series_config": {
                    "type": "column",
                    "unit": " ",
                    "group_by": {
                      "func": "last",
                      "duration": "5min"
                    }
                  },
                  "header": {
                    "title": "Scripts Triggered Within"
                  },
                  "series": [
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_5min",
                      "name": "5min",
                      "color": "skyblue"
                    },
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_30min",
                      "name": "30min",
                      "color": "steelblue"
                    },
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_1h",
                      "name": "1h",
                      "color": "green"
                    },
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_12h",
                      "name": "12h",
                      "color": "lightgreen"
                    },
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_1d",
                      "name": "1 day",
                      "color": "gold"
                    },
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_1wk",
                      "name": "1 week",
                      "color": "brown"
                    },
                    {
                      "entity": "sensor.home_assistant_scripts_trigger_time_distribution",
                      "attribute": "triggered_1wk_up",
                      "name": "Longer",
                      "color": "maroon"
                    }
                  ]
                },
                {
                  "type": "custom:button-card",
                  "entity": "image.network_visualisation",
                  "show_entity_picture": true,
                  "name": "System Relational Topology",
                  "label": "<font color='grey'>Entity</font> <font color='lightgreen'>Device</font> <font color='green'>Area</font> <font color='#2266FF'>Blueprint</font> <font color='red'>Automation</font> <font color='orange'>Script</font>",
                  "show_label": true,
                  "tap_action": {
                    "action": "none"
                  },
                  "styles": {
                    "card": [
                      {
                        "height": "420px"
                      },
                      {
                        "padding-top": "8px"
                      }
                    ],
                    "name": [
                      {
                        "font-weight": 500
                      },
                      {
                        "font-size": "12pt"
                      },
                      {
                        "font-family": "Roboto"
                      },
                      {
                        "color": "#999999"
                      },
                      {
                        "justify-self": "start"
                      },
                      {
                        "padding-left": "18px"
                      }
                    ],
                    "icon": [
                      {
                        "height": "500px"
                      },
                      {
                        "width": "500px"
                      }
                    ],
                    "label": [
                      {
                        "font-size": "10pt"
                      },
                      {
                        "justify-self": "start"
                      },
                      {
                        "padding-left": "18px"
                      }
                    ],
                    "grid": [
                      {
                        "grid-template-areas": "\"n\" \"l\" \"i\""
                      },
                      {
                        "grid-template-rows": "min-content min-content 1fr"
                      }
                    ]
                  }
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "custom:apexcharts-card",
                      "config_templates": "header_only",
                      "header": {
                        "title": "Devices by Integration"
                      },
                      "all_series_config": {
                        "unit": " "
                      },
                      "series": [
                        {
                          "entity": "sensor.home_assistant_devices_by_integration",
                          "attribute": "zha",
                          "name": "Zigbee"
                        },
                        {
                          "entity": "sensor.home_assistant_devices_by_integration",
                          "attribute": "esphome",
                          "name": "ESPHome"
                        },
                        {
                          "entity": "sensor.home_assistant_devices_by_integration",
                          "attribute": "localtuya",
                          "name": "LocalTuya"
                        },
                        {
                          "entity": "sensor.home_assistant_devices_by_integration",
                          "attribute": "broadlink",
                          "name": "Broadlink"
                        },
                        {
                          "entity": "sensor.home_assistant_devices_by_integration",
                          "attribute": "switchbot",
                          "name": "SwitchBot"
                        },
                        {
                          "entity": "sensor.home_assistant_devices_by_integration",
                          "name": "Others",
                          "transform": "return entity.state - entity.attributes.zha - entity.attributes.esphome - entity.attributes.localtuya - entity.attributes.broadlink - entity.attributes.switchbot",
                          "color": "grey"
                        }
                      ]
                    },
                    {
                      "type": "custom:button-card",
                      "template": "bar_chart",
                      "entity": "sensor.home_assistant_devices_by_integration",
                      "show_name": false,
                      "show_icon": false,
                      "variables": {
                        "all_total": "[[[ return parseInt(entity.state) ]]]",
                        "bar_segment_zigbee_percent": "[[[ return parseInt(entity.attributes.zha) / variables.all_total * 100 ]]]",
                        "bar_segment_esphome_percent": "[[[ return parseInt(entity.attributes.esphome) / variables.all_total * 100 ]]]",
                        "bar_segment_localtuya_percent": "[[[ return parseInt(entity.attributes.localtuya) / variables.all_total * 100 ]]]",
                        "bar_segment_broadlink_percent": "[[[ return parseInt(entity.attributes.broadlink) / variables.all_total * 100 ]]]",
                        "bar_segment_switchbot_percent": "[[[ return parseInt(entity.attributes.switchbot) / variables.all_total * 100 ]]]",
                        "bar_segment_zz_others_percent": "[[[ return 100 - variables.bar_segment_zigbee_percent - variables.bar_segment_esphome_percent - variables.bar_segment_localtuya_percent - variables.bar_segment_broadlink_percent - variables.bar_segment_switchbot_percent ]]]"
                      },
                      "custom_fields": {
                        "bar_segment_zigbee": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_zigbee_percent) ]]]"
                            },
                            "entity": "sensor.home_assistant_devices_by_integration",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#FF9800"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_esphome": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_esphome_percent) ]]]"
                            },
                            "entity": "sensor.home_assistant_devices_by_integration",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#3498DB"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_localtuya": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_localtuya_percent) ]]]"
                            },
                            "entity": "sensor.home_assistant_devices_by_integration",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#E74C3C"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_broadlink": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_broadlink_percent) ]]]"
                            },
                            "entity": "sensor.home_assistant_devices_by_integration",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#9B59B6"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_switchbot": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_switchbot_percent) ]]]"
                            },
                            "entity": "sensor.home_assistant_devices_by_integration",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#F1C40F"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_others": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_zz_others_percent) ]]]"
                            },
                            "entity": "sensor.home_assistant_devices_by_integration",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#808080"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "styles": {
                        "grid": [
                          {
                            "grid-template-areas": "\"bar_segment_zigbee bar_segment_esphome bar_segment_localtuya bar_segment_broadlink bar_segment_switchbot bar_segment_others\""
                          },
                          {
                            "grid-template-columns": "[[[ return variables.bar_segment_zigbee_percent.toString() + '% ' + variables.bar_segment_esphome_percent.toString() + '%' + variables.bar_segment_localtuya_percent.toString() + '%' + variables.bar_segment_broadlink_percent.toString() + '%' + variables.bar_segment_switchbot_percent.toString() + '%' + variables.bar_segment_zz_others_percent.toString() + '%' ]]]"
                          },
                          {
                            "grid-template-rows": "min-content"
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "pfSense",
                  "heading_style": "title",
                  "icon": "mdi:router-wireless",
                  "badges": [
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.pfsense_system_boottime",
                      "icon": "mdi:power"
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.qemu_pfsense_100_cpu_used",
                      "icon": "mdi:cpu-64-bit",
                      "tap_action": {
                        "action": "more-info"
                      }
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.pfsense_memory_used_percentage",
                      "tap_action": {
                        "action": "more-info"
                      }
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "Connections"
                  },
                  "series": [
                    {
                      "entity": "sensor.pfsense_pf_state_table_used",
                      "unit": "states",
                      "name": "states",
                      "yaxis_id": "states",
                      "show": {
                        "name_in_header": false
                      }
                    },
                    {
                      "entity": "sensor.pfsense_dhcp_leases_online",
                      "name": "DHCP",
                      "yaxis_id": "dhcp",
                      "show": {
                        "name_in_header": false
                      }
                    }
                  ],
                  "yaxis": [
                    {
                      "id": "states",
                      "align_to": 10,
                      "apex_config": {
                        "tickAmount": 5
                      }
                    },
                    {
                      "id": "dhcp",
                      "opposite": true,
                      "align_to": 10,
                      "apex_config": {
                        "tickAmount": 5
                      }
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "Gateway Traffic"
                  },
                  "stacked": true,
                  "all_series_config": {
                    "type": "column",
                    "show": {
                      "in_header": "raw"
                    },
                    "group_by": {
                      "func": "sum",
                      "duration": "5min"
                    }
                  },
                  "series": [
                    {
                      "entity": "sensor.pfsense_mb_out_within_1min",
                      "name": "Outbound"
                    },
                    {
                      "entity": "sensor.pfsense_mb_in_within_1min",
                      "name": "Inbound",
                      "transform": "return -entity.state"
                    }
                  ],
                  "apex_config": {
                    "yaxis": {
                      "show": false
                    }
                  }
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "Inbound Traffic to Apps"
                  },
                  "stacked": true,
                  "all_series_config": {
                    "type": "column",
                    "group_by": {
                      "func": "sum",
                      "duration": "5min"
                    }
                  },
                  "series": [
                    {
                      "entity": "sensor.home_assistant_mb_in_within_1min",
                      "name": "Home Assistant"
                    },
                    {
                      "entity": "sensor.docker_mb_in_within_1min",
                      "name": "Docker"
                    },
                    {
                      "entity": "sensor.samba_mb_in_within_1min",
                      "name": "Samba"
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "Outbound Traffic from Apps"
                  },
                  "stacked": true,
                  "all_series_config": {
                    "type": "column",
                    "group_by": {
                      "func": "sum",
                      "duration": "5min"
                    }
                  },
                  "series": [
                    {
                      "entity": "sensor.home_assistant_mb_out_within_1min",
                      "name": "Home Assistant"
                    },
                    {
                      "entity": "sensor.docker_mb_out_within_1min",
                      "name": "Docker"
                    },
                    {
                      "entity": "sensor.samba_mb_out_within_1min",
                      "name": "Samba"
                    }
                  ]
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "Adguard",
                  "heading_style": "subtitle",
                  "icon": "mdi:shield-check"
                },
                {
                  "type": "tile",
                  "tap_action": {
                    "action": "toggle"
                  },
                  "entity": "switch.adguard_home_filtering",
                  "name": "DNS Filtering",
                  "hide_state": true,
                  "icon_tap_action": {
                    "action": "more-info"
                  }
                },
                {
                  "type": "tile",
                  "tap_action": {
                    "action": "toggle"
                  },
                  "entity": "switch.adguard_home_safe_browsing",
                  "name": "Safe Browsing",
                  "hide_state": true,
                  "icon_tap_action": {
                    "action": "more-info"
                  }
                },
                {
                  "type": "tile",
                  "tap_action": {
                    "action": "toggle"
                  },
                  "entity": "switch.adguard_home_safe_search",
                  "name": "Safe Search",
                  "hide_state": true,
                  "icon_tap_action": {
                    "action": "more-info"
                  }
                },
                {
                  "type": "tile",
                  "tap_action": {
                    "action": "toggle"
                  },
                  "entity": "switch.adguard_home_parental_control",
                  "hide_state": true,
                  "name": "Child-Safe",
                  "icon_tap_action": {
                    "action": "more-info"
                  }
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "DNS Queries within 5min"
                  },
                  "series": [
                    {
                      "entity": "sensor.dns_queries_within_5min",
                      "type": "area",
                      "name": "processed",
                      "yaxis_id": "count",
                      "color": "teal"
                    },
                    {
                      "entity": "sensor.dns_queries_blocked_by_filters_within_5min",
                      "name": "blocked",
                      "type": "area",
                      "yaxis_id": "count",
                      "color": "red"
                    },
                    {
                      "entity": "sensor.dns_query_filter_block_rate_within_5min",
                      "name": "blocked",
                      "yaxis_id": "percent",
                      "color": "orange"
                    }
                  ],
                  "yaxis": [
                    {
                      "id": "count",
                      "align_to": 10,
                      "decimals": 0,
                      "apex_config": {
                        "tickAmount": 5
                      }
                    },
                    {
                      "id": "percent",
                      "opposite": true
                    }
                  ]
                },
                {
                  "type": "custom:apexcharts-card",
                  "config_templates": "standard",
                  "header": {
                    "title": "DNS Processing Speed"
                  },
                  "series": [
                    {
                      "entity": "sensor.adguard_home_average_processing_speed",
                      "name": " ",
                      "stroke_width": 2,
                      "curve": "smooth"
                    }
                  ]
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "Docker",
                  "heading_style": "title",
                  "icon": "mdi:docker",
                  "badges": [
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.qemu_docker_102_last_boot",
                      "icon": "mdi:power"
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.qemu_docker_102_cpu_used",
                      "icon": "mdi:cpu-64-bit",
                      "tap_action": {
                        "action": "more-info"
                      }
                    },
                    {
                      "type": "entity",
                      "show_state": true,
                      "show_icon": true,
                      "entity": "sensor.qemu_docker_102_memory_used_percentage",
                      "tap_action": {
                        "action": "more-info"
                      }
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "switch.duckdns",
                  "hide_state": false,
                  "state_content": "last_changed",
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "switch.jupyterlab",
                  "state_content": "last_changed",
                  "tap_action": {
                    "action": "toggle"
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "binary_sensor.dockermon",
                  "hide_state": false,
                  "state_content": "last_changed",
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                },
                {
                  "type": "heading",
                  "icon": "mdi:camera-iris",
                  "heading": "Immich",
                  "heading_style": "subtitle"
                },
                {
                  "type": "tile",
                  "entity": "switch.immich_server",
                  "state_content": "last_changed",
                  "name": "Server",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "script.docker_mode",
                    "target": {}
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "switch.immich_postgres",
                  "state_content": "last_changed",
                  "name": "Postgres",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "script.docker_mode",
                    "target": {},
                    "data": {}
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "switch.immich_redis",
                  "state_content": "last_changed",
                  "name": "Redis",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "script.docker_mode",
                    "target": {},
                    "data": {}
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "switch.immich_machine_learning",
                  "state_content": "last_changed",
                  "name": "Machine Learning",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "script.docker_mode",
                    "target": {},
                    "data": {}
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "features_position": "bottom",
                  "vertical": false,
                  "visibility": [
                    {
                      "condition": "user",
                      "users": [
                        "ad2bcce775894550affb6dfef93a2a36"
                      ]
                    }
                  ]
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "custom:apexcharts-card",
                      "config_templates": "header_only",
                      "header": {
                        "title": "Assets"
                      },
                      "all_series_config": {
                        "unit": " "
                      },
                      "series": [
                        {
                          "entity": "sensor.immich_photos",
                          "name": "Photos"
                        },
                        {
                          "entity": "sensor.immich_videos",
                          "name": "Videos"
                        }
                      ]
                    },
                    {
                      "type": "custom:button-card",
                      "template": "bar_chart",
                      "variables": {
                        "all_total": "[[[ return parseInt(states['sensor.immich_photos'].state) + parseInt(states['sensor.immich_videos'].state) ]]]",
                        "bar_segment_photos_percent": "[[[ return parseInt(states['sensor.immich_photos'].state)/variables.all_total * 100 ]]]",
                        "bar_segment_videos_percent": "[[[ return parseInt(states['sensor.immich_videos'].state)/variables.all_total * 100 ]]]"
                      },
                      "custom_fields": {
                        "bar_segment_photos": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_photos_percent) ]]]"
                            },
                            "entity": "sensor.immich_photos",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#FF9800"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_videos": {
                          "card": {
                            "type": "custom:button-card",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_videos_percent) ]]]"
                            },
                            "entity": "sensor.immich_videos",
                            "template": "bar_chart_segment",
                            "styles": {
                              "card": [
                                {
                                  "background": "#3498DB"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "styles": {
                        "grid": [
                          {
                            "grid-template-areas": "\"bar_segment_photos bar_segment_videos\""
                          },
                          {
                            "grid-template-columns": "[[[ return variables.bar_segment_photos_percent.toString() + '% ' + variables.bar_segment_videos_percent.toString() + '%' ]]]"
                          },
                          {
                            "grid-template-rows": "min-content"
                          }
                        ]
                      }
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "and",
                      "conditions": [
                        {
                          "condition": "state",
                          "entity": "switch.immich_machine_learning",
                          "state": "on"
                        },
                        {
                          "condition": "state",
                          "entity": "switch.immich_postgres",
                          "state": "on"
                        },
                        {
                          "condition": "state",
                          "entity": "switch.immich_redis",
                          "state": "on"
                        },
                        {
                          "condition": "state",
                          "entity": "switch.immich_server",
                          "state": "on"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "custom:apexcharts-card",
                      "config_templates": "header_only",
                      "header": {
                        "title": "Storage Used"
                      },
                      "series": [
                        {
                          "entity": "sensor.immich_usage_photos",
                          "name": "Photos"
                        },
                        {
                          "entity": "sensor.immich_usage_videos",
                          "name": "Videos"
                        }
                      ]
                    },
                    {
                      "type": "custom:button-card",
                      "template": "bar_chart",
                      "variables": {
                        "all_total": "[[[ return parseInt(states['sensor.immich_usage_photos'].state) + parseInt(states['sensor.immich_usage_videos'].state) ]]]",
                        "bar_segment_photos_percent": "[[[ return parseInt(states['sensor.immich_usage_photos'].state)/variables.all_total * 100 ]]]",
                        "bar_segment_videos_percent": "[[[ return parseInt(states['sensor.immich_usage_videos'].state)/variables.all_total * 100 ]]]"
                      },
                      "custom_fields": {
                        "bar_segment_photos": {
                          "card": {
                            "type": "custom:button-card",
                            "entity": "sensor.immich_usage_photos",
                            "template": "bar_chart_segment",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_photos_percent) ]]]"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background": "#FF9800"
                                }
                              ]
                            }
                          }
                        },
                        "bar_segment_videos": {
                          "card": {
                            "type": "custom:button-card",
                            "entity": "sensor.immich_usage_videos",
                            "template": "bar_chart_segment",
                            "variables": {
                              "percent": "[[[ return Math.round(variables.bar_segment_videos_percent) ]]]"
                            },
                            "styles": {
                              "card": [
                                {
                                  "background": "#3498DB"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "styles": {
                        "grid": [
                          {
                            "grid-template-areas": "\"bar_segment_photos bar_segment_videos\""
                          },
                          {
                            "grid-template-columns": "[[[ return variables.bar_segment_photos_percent.toString() + '% ' + variables.bar_segment_videos_percent.toString() + '%' ]]]"
                          },
                          {
                            "grid-template-rows": "min-content"
                          }
                        ]
                      }
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "and",
                      "conditions": [
                        {
                          "condition": "state",
                          "entity": "switch.immich_machine_learning",
                          "state": "on"
                        },
                        {
                          "condition": "state",
                          "entity": "switch.immich_postgres",
                          "state": "on"
                        },
                        {
                          "condition": "state",
                          "entity": "switch.immich_redis",
                          "state": "on"
                        },
                        {
                          "condition": "state",
                          "entity": "switch.immich_server",
                          "state": "on"
                        }
                      ]
                    }
                  ]
                }
              ],
              "column_span": 2
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "<ha-alert alert-type={{\"info\" if state_attr('sensor.immich_job_face_detection', 'failed') == 0 else \"error\"}}>Face detection in progress. \nRunning: {{ state_attr('sensor.immich_job_face_detection', 'active') }}\nWaiting: {{ state_attr('sensor.immich_job_face_detection', 'waiting') }}\n{{ \"Error: \" if state_attr('sensor.immich_job_face_detection', 'failed') > 0 }}{{ state_attr('sensor.immich_job_face_detection', 'failed') if state_attr('sensor.immich_job_face_detection', 'failed') > 0 }}</ha-alert>",
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "sensor.immich_job_face_detection",
                      "state": "Active"
                    }
                  ]
                },
                {
                  "type": "markdown",
                  "content": "<ha-alert alert-type={{\"info\" if state_attr('sensor.immich_job_facial_recognition', 'failed') == 0 else \"error\"}}>Facial recognition in progress. \nRunning: {{ state_attr('sensor.immich_job_facial_recognition', 'active') }}\nWaiting: {{ state_attr('sensor.immich_job_facial_recognition', 'waiting') }}\n{{ \"Error: \" if state_attr('sensor.immich_job_facial_recognition', 'failed') > 0 }}{{ state_attr('sensor.immich_job_facial_recognition', 'failed') if state_attr('sensor.immich_job_facial_recognition', 'failed') > 0 }}</ha-alert>",
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "sensor.immich_job_facial_recognition",
                      "state": "Active"
                    }
                  ]
                }
              ],
              "column_span": 2,
              "visibility": [
                {
                  "condition": "state",
                  "entity": "sensor.immich_photos",
                  "state_not": "unavailable"
                }
              ]
            }
          ],
          "cards": [],
          "max_columns": 2
        },
        {
          "title": "Vacuum",
          "path": "vacuum",
          "icon": "mdi:robot-vacuum",
          "theme": "no_border",
          "type": "sections",
          "max_columns": 2,
          "subview": true,
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "features": [
                    {
                      "type": "vacuum-commands",
                      "commands": [
                        "start_pause",
                        "stop",
                        "locate"
                      ]
                    }
                  ],
                  "type": "tile",
                  "entity": "vacuum.hestia",
                  "show_entity_picture": false,
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "state_content": "state",
                  "features_position": "inline",
                  "vertical": false
                },
                {
                  "show_state": false,
                  "show_name": false,
                  "camera_view": "auto",
                  "type": "picture-entity",
                  "entity": "vacuum.hestia",
                  "camera_image": "camera.hestia_map",
                  "tap_action": {
                    "action": "more-info",
                    "entity": "script.vacuum_selected_rooms"
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "camera.hestia_map",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "camera.hestia_map",
                      "state_not": "unknown"
                    }
                  ]
                },
                {
                  "type": "heading",
                  "icon": "mdi:vacuum",
                  "heading": "Cleaning Statistics",
                  "heading_style": "title",
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unknown"
                    }
                  ]
                },
                {
                  "square": false,
                  "type": "grid",
                  "columns": 2,
                  "cards": [
                    {
                      "name": " ",
                      "type": "tile",
                      "entity": "sensor.hestia_battery_level",
                      "features_position": "bottom",
                      "vertical": false,
                      "visibility": [
                        {
                          "condition": "numeric_state",
                          "entity": "sensor.hestia_battery_level",
                          "above": 99.5
                        }
                      ]
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "condition": "numeric_state",
                          "entity": "sensor.hestia_battery_level",
                          "below": 99.5
                        }
                      ],
                      "card": {
                        "type": "custom:button-card",
                        "template": "tile_progress_bar",
                        "entity": "sensor.hestia_battery_level",
                        "name": " "
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "condition": "state",
                          "entity": "sensor.hestia_cleaning_progress",
                          "state_not": "unavailable"
                        }
                      ],
                      "card": {
                        "type": "custom:button-card",
                        "template": "tile_progress_bar",
                        "entity": "sensor.hestia_cleaning_progress",
                        "name": " "
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "condition": "numeric_state",
                          "entity": "sensor.hestia_drying_progress",
                          "below": 99.5
                        }
                      ],
                      "card": {
                        "type": "custom:button-card",
                        "template": "tile_progress_bar",
                        "entity": "sensor.hestia_drying_progress",
                        "name": " "
                      }
                    },
                    {
                      "name": " ",
                      "type": "tile",
                      "entity": "sensor.hestia_cleaning_history",
                      "features_position": "bottom",
                      "vertical": false,
                      "visibility": [
                        {
                          "condition": "state",
                          "entity": "vacuum.hestia",
                          "state": "docked"
                        }
                      ]
                    },
                    {
                      "name": " ",
                      "type": "tile",
                      "entity": "sensor.hestia_cleaning_time",
                      "features_position": "bottom",
                      "vertical": false,
                      "visibility": [
                        {
                          "condition": "state",
                          "entity": "vacuum.hestia",
                          "state_not": "unavailable"
                        }
                      ]
                    },
                    {
                      "name": " ",
                      "type": "tile",
                      "entity": "sensor.hestia_cleaned_area",
                      "features_position": "bottom",
                      "vertical": false,
                      "visibility": [
                        {
                          "condition": "state",
                          "entity": "vacuum.hestia",
                          "state_not": "unavailable"
                        }
                      ]
                    }
                  ],
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unknown"
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "condition": "state",
                          "entity": "vacuum.hestia",
                          "state": "idle"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "content": "<ha-alert alert-type=\"error\">Vacuum not docked properly</ha-alert>"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "condition": "state",
                          "entity": "sensor.hestia_error",
                          "state_not": "no_error"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "content": "<ha-alert alert-type=\"error\">{{ states('sensor.hestia_error').capitalize().replace('_', ' ') + '.' }}</ha-alert>"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:cog",
                  "heading": "Configuration",
                  "heading_style": "title",
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unknown"
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_cleangenius",
                  "features_position": "bottom",
                  "vertical": false,
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_cleangenius"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "name": "CleanGenius",
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "unknown"
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_cleangenius_mode",
                  "features_position": "bottom",
                  "vertical": false,
                  "name": "Mode",
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_cleangenius_mode"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "off"
                    },
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "unavailable"
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_suction_level",
                  "features_position": "bottom",
                  "vertical": false,
                  "name": "Suction Level",
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_suction_level"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "select.hestia_suction_level",
                      "state_not": "unavailable"
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_washing_mode",
                  "features_position": "bottom",
                  "vertical": false,
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_washing_mode"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "name": "Mop Washing"
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_water_temperature",
                  "features_position": "bottom",
                  "vertical": false,
                  "name": "Water Temperature",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_water_temperature"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  }
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_cleaning_mode",
                  "features_position": "bottom",
                  "vertical": false,
                  "name": "Cleaning Mode",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_cleaning_mode"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleaning_mode",
                      "state_not": "unavailable"
                    }
                  ]
                },
                {
                  "type": "tile",
                  "entity": "select.hestia_cleaning_route",
                  "features_position": "bottom",
                  "vertical": false,
                  "name": "Cleaning Route",
                  "tap_action": {
                    "action": "perform-action",
                    "perform_action": "select.select_next",
                    "target": {
                      "entity_id": "select.hestia_cleaning_route"
                    },
                    "data": {
                      "cycle": true
                    }
                  },
                  "icon_tap_action": {
                    "action": "more-info"
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleaning_route",
                      "state_not": "unavailable"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "show_name": false,
                      "show_icon": true,
                      "type": "button",
                      "entity": "switch.hestia_hot_washing",
                      "show_state": false,
                      "icon_height": "30px"
                    },
                    {
                      "show_name": false,
                      "show_icon": true,
                      "type": "button",
                      "entity": "switch.hestia_max_suction_power",
                      "show_state": false,
                      "icon_height": "30px"
                    },
                    {
                      "show_name": false,
                      "show_icon": true,
                      "type": "button",
                      "entity": "switch.hestia_carpet_boost",
                      "show_state": false,
                      "icon_height": "30px"
                    },
                    {
                      "show_name": false,
                      "show_icon": true,
                      "type": "button",
                      "entity": "switch.hestia_intensive_carpet_cleaning",
                      "show_state": false,
                      "icon_height": "30px"
                    },
                    {
                      "show_name": false,
                      "show_icon": true,
                      "type": "button",
                      "entity": "switch.hestia_large_particles_boost",
                      "show_state": false,
                      "icon_height": "30px"
                    },
                    {
                      "show_name": false,
                      "show_icon": true,
                      "type": "button",
                      "entity": "switch.hestia_gap_cleaning_extension",
                      "show_state": false,
                      "icon_height": "30px"
                    }
                  ],
                  "grid_options": {
                    "columns": "full",
                    "rows": "auto"
                  },
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unknown"
                    },
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "routine_cleaning"
                    },
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "deep_cleaning"
                    },
                    {
                      "condition": "state",
                      "entity": "select.hestia_cleangenius",
                      "state_not": "unavailable"
                    }
                  ]
                },
                {
                  "type": "heading",
                  "icon": "mdi:robot-vacuum",
                  "heading": "Vacuum Components",
                  "heading_style": "title",
                  "visibility": [
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unavailable"
                    },
                    {
                      "condition": "state",
                      "entity": "vacuum.hestia",
                      "state_not": "unknown"
                    }
                  ]
                },
                {
                  "square": false,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "template": "tile_status_bar",
                      "entity": "sensor.hestia_main_brush_left",
                      "name": "Main Brush",
                      "tap_action": {
                        "action": "more-info",
                        "entity": "sensor.hestia_main_brush_time_left"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "template": "tile_status_bar",
                      "entity": "sensor.hestia_side_brush_left",
                      "name": "Side Brush",
                      "tap_action": {
                        "action": "more-info",
                        "entity": "sensor.hestia_side_brush_time_left"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "template": "tile_status_bar",
                      "entity": "sensor.hestia_filter_left",
                      "name": "Filter",
                      "tap_action": {
                        "action": "more-info",
                        "entity": "sensor.hestia_filter_time_left"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "template": "tile_status_bar",
                      "entity": "sensor.hestia_sensor_dirty_left",
                      "name": "Sensors",
                      "tap_action": {
                        "action": "more-info",
                        "entity": "sensor.hestia_sensor_dirty_time_left"
                      }
                    }
                  ],
                  "columns": 2
                }
              ],
              "column_span": 1,
              "visibility": [
                {
                  "condition": "state",
                  "entity": "vacuum.hestia",
                  "state_not": "unavailable"
                }
              ]
            }
          ],
          "cards": []
        },
        {
          "title": "Washer",
          "path": "washer",
          "icon": "mdi:washing-machine",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.washer_status",
                      "state_not": "Off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "condition": "or",
                                "conditions": [
                                  {
                                    "condition": "state",
                                    "entity": "sensor.washer_status",
                                    "state": "Washing"
                                  },
                                  {
                                    "condition": "state",
                                    "entity": "sensor.washer_status",
                                    "state": "Rinsing"
                                  },
                                  {
                                    "condition": "state",
                                    "entity": "sensor.washer_status",
                                    "state": "Spinning"
                                  },
                                  {
                                    "condition": "state",
                                    "entity": "sensor.washer_status",
                                    "state": "Delay Set"
                                  }
                                ]
                              }
                            ],
                            "card": {
                              "type": "custom:button-card",
                              "entity": "sensor.washer_wash_progress",
                              "template": "tile_progress_bar",
                              "name": " ",
                              "variables": {
                                "progress_icon": "mdi:washing-machine"
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "condition": "state",
                                "entity": "sensor.washer_status",
                                "state_not": "Washing"
                              },
                              {
                                "condition": "state",
                                "entity": "sensor.washer_status",
                                "state_not": "Rinsing"
                              },
                              {
                                "condition": "state",
                                "entity": "sensor.washer_status",
                                "state_not": "Spinning"
                              },
                              {
                                "condition": "state",
                                "entity": "sensor.washer_status",
                                "state_not": "Delay Set"
                              }
                            ],
                            "card": {
                              "type": "tile",
                              "features_position": "bottom",
                              "vertical": false,
                              "entity": "sensor.washer_last_wash_started",
                              "name": " "
                            }
                          },
                          {
                            "type": "tile",
                            "features_position": "bottom",
                            "vertical": false,
                            "entity": "sensor.washer_countdown",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "entities",
                        "entities": [
                          {
                            "entity": "sensor.washer_current_course",
                            "name": "Current Course"
                          },
                          {
                            "entity": "sensor.washer_status",
                            "name": "Current Stage"
                          },
                          {
                            "entity": "sensor.washer_water_temp",
                            "name": "Water Temperature"
                          },
                          {
                            "entity": "sensor.washer_spin_speed",
                            "name": "Spin Speed"
                          },
                          {
                            "entity": "binary_sensor.washer_door_lock",
                            "name": "Door Lock"
                          },
                          {
                            "entity": "binary_sensor.washer_child_lock",
                            "name": "Child Lock"
                          }
                        ],
                        "state_color": true
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.washer_status",
                      "state": "Off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "square": false,
                        "type": "grid",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.washer_status",
                            "name": " ",
                            "features_position": "bottom",
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "binary_sensor.washer_door",
                            "name": " ",
                            "features_position": "bottom",
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.washer_last_wash_completed",
                            "name": " ",
                            "features_position": "bottom",
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.washer_last_wash_duration",
                            "name": " "
                          }
                        ],
                        "columns": 2
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.washer_error_state",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">{{ state_attr(\"sensor.washer\", \"error_message\") }}</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.washer_load_clean",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"success\">Wash completed.  Please unload laundry.</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "sensor.washer_tub_clean_counter",
                      "above": 30
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"info\">{{ states('sensor.washer_tub_clean_counter') }} loads since last tub cleaning</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Dishwasher",
          "path": "dishwasher",
          "icon": "mdi:dishwasher",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.dishwasher",
                      "state": "off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.dishwasher_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "binary_sensor.dishwasher_door",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.dishwasher_last_run_ended",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.dishwasher_last_run_duration",
                            "name": " "
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.dishwasher",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.dishwasher_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.dishwasher_last_run_started",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "custom:apexcharts-card",
                        "config_templates": "standard",
                        "graph_span": "30min",
                        "header": {
                          "title": "Dishwasher Watts"
                        },
                        "series": [
                          {
                            "entity": "sensor.dishwasher_watts",
                            "name": " ",
                            "stroke_width": 2
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.dishwasher_load_clean",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"success\">Dishwasher cooled down.  Please open dishwasher.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Rice Cooker",
          "path": "rice_cooker",
          "icon": "mdi:rice",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.rice_cooker",
                      "state": "off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.rice_cooker_status",
                            "name": " ",
                            "tap_action": {
                              "action": "call-service",
                              "service": "switch.turn_on",
                              "service_data": {
                                "entity_id": "switch.rice_cooker"
                              }
                            },
                            "icon_tap_action": {
                              "action": "more-info"
                            },
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "binary_sensor.rice_cooker_lid",
                            "name": " ",
                            "vertical": false
                          }
                        ]
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.rice_cooker_last_run_ended",
                            "name": " ",
                            "vertical": false
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.rice_cooker_last_run_duration",
                            "name": " ",
                            "vertical": false
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.rice_cooker",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "input_select.rice_cooker_status",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.rice_cooker_last_run_started",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "custom:apexcharts-card",
                        "config_templates": "standard",
                        "graph_span": "30min",
                        "header": {
                          "title": "Rice Cooker Watts"
                        },
                        "series": [
                          {
                            "entity": "sensor.rice_cooker_watts",
                            "name": " ",
                            "stroke_width": 2
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Stove",
          "path": "stove",
          "icon": "mdi:stove",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.stove_main_power",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "square": true,
                        "type": "grid",
                        "columns": 4,
                        "cards": [
                          {
                            "show_name": false,
                            "show_icon": true,
                            "type": "button",
                            "entity": "switch.stove_main_power",
                            "icon": "mdi:power"
                          },
                          {
                            "show_name": false,
                            "show_icon": true,
                            "type": "button",
                            "entity": "input_boolean.stove_select_left_burner"
                          },
                          {
                            "type": "button",
                            "entity": "input_boolean.stove_select_right_burner",
                            "show_name": false
                          },
                          {
                            "type": "button",
                            "entity": "switch.stove_pause",
                            "show_name": false
                          }
                        ]
                      },
                      {
                        "type": "custom:slider-button-card",
                        "entity": "input_number.stove_current_burner_power_slider",
                        "slider": {
                          "direction": "left-right",
                          "background": "solid",
                          "use_state_color": false,
                          "use_percentage_bg_opacity": false,
                          "show_track": false,
                          "toggle_on_click": false,
                          "force_square": false
                        },
                        "show_name": true,
                        "show_state": true,
                        "compact": true,
                        "icon": {
                          "show": true,
                          "use_state_color": true,
                          "tap_action": {
                            "action": "more-info"
                          },
                          "icon": ""
                        },
                        "action_button": {
                          "mode": "toggle",
                          "icon": "mdi:power",
                          "show": false,
                          "show_spinner": true,
                          "tap_action": {
                            "action": "toggle"
                          }
                        },
                        "name": "Power:"
                      },
                      {
                        "type": "custom:slider-button-card",
                        "entity": "number.stove_current_burner_timer",
                        "slider": {
                          "direction": "left-right",
                          "background": "solid",
                          "use_percentage_bg_opacity": false,
                          "use_state_color": false,
                          "show_track": false,
                          "toggle_on_click": false,
                          "force_square": false
                        },
                        "show_name": true,
                        "show_state": true,
                        "compact": true,
                        "icon": {
                          "show": true,
                          "use_state_color": true,
                          "tap_action": {
                            "action": "more-info"
                          },
                          "icon": ""
                        },
                        "action_button": {
                          "mode": "toggle",
                          "icon": "mdi:power",
                          "show": false,
                          "show_spinner": true,
                          "tap_action": {
                            "action": "toggle"
                          }
                        },
                        "name": "Timer (min):"
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "show_name": true,
                            "show_icon": true,
                            "type": "custom:button-card",
                            "color": "var(--state-icon-color)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.stove_settings",
                              "target": {},
                              "data": {
                                "current_burner_power": 7,
                                "current_burner_timer": 6
                              }
                            },
                            "name": "Boil<br>Water",
                            "icon": "mdi:kettle",
                            "hold_action": {
                              "action": "none"
                            }
                          },
                          {
                            "show_name": true,
                            "show_icon": true,
                            "type": "custom:button-card",
                            "color": "var(--state-icon-color)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.stove_settings",
                              "target": {},
                              "data": {
                                "current_burner_power": 1,
                                "current_burner_timer": 16
                              }
                            },
                            "name": "Cook<br>Rice",
                            "icon": "mdi:rice",
                            "hold_action": {
                              "action": "none"
                            }
                          },
                          {
                            "show_name": true,
                            "show_icon": true,
                            "type": "custom:button-card",
                            "color": "var(--state-icon-color)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.stove_settings",
                              "target": {},
                              "data": {
                                "current_burner_power": 4,
                                "current_burner_timer": 0
                              }
                            },
                            "name": "Stir<br>Fry",
                            "icon": "mdi:silverware-fork",
                            "hold_action": {
                              "action": "none"
                            }
                          },
                          {
                            "show_name": true,
                            "show_icon": true,
                            "type": "custom:button-card",
                            "color": "var(--state-icon-color)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.stove_settings",
                              "target": {},
                              "data": {
                                "current_burner_power": 3,
                                "current_burner_timer": 16
                              }
                            },
                            "name": "Steam<br>Fish",
                            "icon": "mdi:fish",
                            "hold_action": {
                              "action": "none"
                            }
                          },
                          {
                            "show_name": true,
                            "show_icon": true,
                            "type": "custom:button-card",
                            "color": "var(--state-icon-color)",
                            "tap_action": {
                              "action": "call-service",
                              "service": "script.stove_settings",
                              "target": {},
                              "data": {
                                "current_burner_power": 1,
                                "current_burner_timer": 60
                              }
                            },
                            "name": "<br>Simmer",
                            "icon": "mdi:pot-steam",
                            "hold_action": {
                              "action": "none"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "switch.stove_main_power",
                      "state": "off"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "switch.stove_main_power",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.stove_last_use",
                            "name": " "
                          }
                        ]
                      },
                      {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "tile",
                            "entity": "sensor.stove_total_time_used",
                            "name": " "
                          },
                          {
                            "type": "tile",
                            "entity": "sensor.stove_total_power_consumed",
                            "name": " "
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "select.stove_error_code",
                      "state_not": "None"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">{{ states(\"select.stove_error_code\") }}</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Playroom",
          "path": "playroom",
          "icon": "mdi:teddy-bear",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "square": true,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.playroom_presence",
                      "template": "square_cell_background",
                      "label": "Playroom",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_motion",
                      "template": "square_cell_background",
                      "label": "Yard",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_window_1",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.yard_window_2",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.playroom_radar_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ],
                  "columns": 4
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_window_open_at_yard",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_yard_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_yard_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Elena's Room",
          "path": "elenas_room",
          "icon": "mdi:bed",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "square": true,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_left_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_core_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_core_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elenas_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ],
                  "columns": 4
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_elenas_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "binary_sensor.ac_on_with_windows_open_at_elenas_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_elenas_room_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_elenas_room_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with window open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Eli's Room",
          "path": "elis_room",
          "icon": "mdi:bed",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "square": true,
                  "type": "grid",
                  "columns": 4,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_right_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_core_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_core_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.elis_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_elis_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "binary_sensor.ac_on_with_windows_open_at_elis_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_elis_room_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_elis_room_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with window open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Hallway",
          "path": "hallway",
          "icon": "mdi:swap-horizontal-circle-outline",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elenas_room_door",
                      "template": "square_cell_background",
                      "label": "Elena",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.elis_room_door",
                      "template": "square_cell_background",
                      "label": "Eli",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_door",
                      "template": "square_cell_background",
                      "label": "Jr Bath",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_door",
                      "template": "square_cell_background",
                      "label": "Powder",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.hallway_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.hallway_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Powder Room",
          "path": "powder_room",
          "icon": "mdi:toilet",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_motion",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.powder_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.powder_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "switch.water_heater",
                      "template": "turn_on"
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_powder_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Junior Bathroom",
          "path": "junior_bathroom",
          "icon": "mdi:shower-head",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_motion",
                      "template": "square_cell_background",
                      "label": "Entry",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_shower_motion",
                      "template": "square_cell_background",
                      "label": "Shower",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.junior_bathroom_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.junior_shower_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_junior_bathroom",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Dining Room",
          "path": "dining_room",
          "icon": "mdi:pasta",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "square": true,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.dining_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.main_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.dining_room_left_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.dining_room_right_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.dining_room_radar_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "device_tracker.elis_watch",
                      "template": "square_cell_background"
                    }
                  ],
                  "columns": 4
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_dining_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "sensor.raining_with_dining_room_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "sensor.raining_with_dining_room_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "heading",
                  "icon": "mdi:cellphone",
                  "heading_style": "title",
                  "heading": "Main Door Display"
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "template": "button_card_tile",
                      "entity": "switch.main_door_display_screen",
                      "name": "Screen",
                      "state_display": "[[[ \n  const view = String(states['sensor.main_door_display_current_page'].state.split('/').slice(-1))\n  if (view == '0') {\n    return 'Home'\n  } else {\n    return (view.charAt(0).toUpperCase() + view.slice(1)).replace('-',' ').replace('_',' ')\n  }\n]]]",
                      "double_tap_action": {
                        "action": "call-service",
                        "service": "button.press",
                        "data": {
                          "entity_id": "button.main_door_display_load_start_url"
                        }
                      },
                      "hold_action": {
                        "action": "more-info"
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "template": "tile_status_bar",
                      "entity": "sensor.main_door_display_battery",
                      "name": "Battery",
                      "state_display": "[[[ \n  if (states['switch.main_door_display_charger'].state == 'on') {\n    return entity.state + '% | Charging'\n  } else {\n    return entity.state + '% | Depleting'\n  }\n]]]\n",
                      "tap_action": {
                        "action": "call-service",
                        "service": "switch.toggle",
                        "service_data": {
                          "entity_id": "switch.main_door_display_charger"
                        }
                      },
                      "double_tap_action": {
                        "action": "more-info",
                        "entity": "switch.main_door_display_charger"
                      },
                      "hold_action": {
                        "action": "more-info"
                      }
                    }
                  ]
                }
              ],
              "visibility": [
                {
                  "condition": "user",
                  "users": [
                    "ad2bcce775894550affb6dfef93a2a36"
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Living Room",
          "path": "living_room",
          "icon": "mdi:sofa",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.living_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.living_room_left_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.living_room_right_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.living_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.living_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.living_room_radar_lux_calibrated",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "sensor.raining_with_living_room_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "sensor.raining_with_study_room_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Study Room",
          "path": "study_room",
          "icon": "mdi:bookshelf",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_walkway_motion",
                      "template": "square_cell_background",
                      "label": "Walkway",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_radar_occupancy",
                      "template": "square_cell_background",
                      "label": "Desk",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_ethernet_connection",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_left_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.study_room_right_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_room_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_room_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.study_walkway_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_study_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "binary_sensor.ac_on_with_windows_open_at_study_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_study_room_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_study_room_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Parents' Room",
          "path": "parents_room",
          "icon": "mdi:bed",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_presence",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_door",
                      "template": "square_cell_background",
                      "label": "Bedroom",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_door",
                      "template": "square_cell_background",
                      "label": "Bathroom",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.parents_room_left_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_core_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_core_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.parents_room_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_doors_open_at_parents_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with doors open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "binary_sensor.ac_on_with_windows_open_at_parents_room",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_parents_room_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_parents_room_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with window open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Parents' Bathroom",
          "path": "parents_bathroom",
          "icon": "mdi:bathtub",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "grid",
                  "columns": 4,
                  "square": true,
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_motion",
                      "template": "square_cell_background",
                      "label": "Entry",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_shower_motion",
                      "template": "square_cell_background",
                      "label": "Shower",
                      "show_label": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.master_bathroom_door",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.junior_shower_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_door_open_at_master_bathroom",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with door open.</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Kitchen",
          "path": "kitchen",
          "icon": "mdi:pot-steam",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "square": true,
                  "type": "grid",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.kitchen_radar_occupancy",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "binary_sensor.kitchen_window",
                      "template": "square_cell_background"
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_temperature",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_humidity",
                      "template": "square_cell_background",
                      "show_state": true
                    },
                    {
                      "type": "custom:button-card",
                      "entity": "sensor.kitchen_radar_lux",
                      "template": "square_cell_background",
                      "show_state": true
                    }
                  ],
                  "columns": 5
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.ac_on_with_window_open_at_kitchen",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">AC on with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_kitchen_window_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with window open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_kitchen_window_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with window open</ha-alert>"
                  }
                }
              ]
            }
          ]
        },
        {
          "title": "Weather",
          "path": "weather",
          "icon": "mdi:weather-cloudy",
          "cards": [],
          "subview": true,
          "type": "sections",
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "show_current": true,
                  "show_forecast": true,
                  "type": "weather-forecast",
                  "entity": "weather.local_weather",
                  "secondary_info_attribute": "humidity",
                  "name": "NEA via data.gov.sg",
                  "forecast_type": "daily"
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_windows_open",
                      "state": "alert"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"error\">Heavy rain with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.raining_with_windows_open",
                      "state": "warning"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "content": "<ha-alert alert-type=\"warning\">Raining with windows open</ha-alert>"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "state": "off",
                      "entity": "script.nea_rain_radar_animation"
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "entity": "script.nea_rain_radar_animation",
                    "name": "Map Last Updated",
                    "state_display": "[[[ \n  return helpers.formatShortDateTime(states['image.rain_radar_animation'].last_changed)\n]]]\n",
                    "show_state": true,
                    "show_icon": false,
                    "tap_action": {
                      "action": "call-service",
                      "service": "script.nea_rain_radar_animation"
                    },
                    "layout": "name_state",
                    "styles": {
                      "card": [
                        {
                          "height": "20px"
                        }
                      ]
                    }
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "script.nea_rain_radar_animation",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "name": "Updating Map...",
                    "styles": {
                      "card": [
                        {
                          "height": "20px"
                        }
                      ],
                      "name": [
                        {
                          "animation": "blink 2s ease infinite"
                        }
                      ]
                    }
                  }
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "picture",
                  "tap_action": {
                    "action": "call-service",
                    "service": "script.nea_rain_radar_animation",
                    "target": {}
                  },
                  "hold_action": {
                    "action": "none"
                  },
                  "image_entity": "image.rain_radar_animation"
                }
              ]
            }
          ],
          "max_columns": 4
        },
        {
          "title": "Transit",
          "path": "transit",
          "icon": "mdi:bus",
          "theme": "no_border",
          "type": "sections",
          "subview": true,
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "custom:button-card",
                  "entity": "person.daniel",
                  "show_name": false,
                  "show_state": true,
                  "show_icon": false,
                  "state_display": "[[[ \n  if (entity.state == 'not_home') {\n    return 'Not home'\n  } else {\n    return 'At ' + entity.state\n  }\n]]]\n",
                  "label": "[[[ return helpers.relativeTime(entity.last_changed) ]]]",
                  "show_label": true,
                  "tap_action": {
                    "action": "call-service",
                    "service": "notify.mobile_app_aurora",
                    "service_data": {
                      "message": "request_location_update"
                    }
                  },
                  "styles": {
                    "card": [
                      {
                        "padding": "5px"
                      }
                    ],
                    "state": [
                      {
                        "font-size": "16pt"
                      }
                    ],
                    "label": [
                      {
                        "color": "gray"
                      },
                      {
                        "font-size": "10pt"
                      }
                    ],
                    "grid": [
                      {
                        "grid-template-rows": "min-content min-content"
                      }
                    ]
                  }
                }
              ],
              "visibility": [
                {
                  "condition": "state",
                  "entity": "person.daniel",
                  "state_not": "home"
                },
                {
                  "condition": "user",
                  "users": [
                    "ad2bcce775894550affb6dfef93a2a36"
                  ]
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                },
                {
                  "condition": "state",
                  "entity": "person.daniel",
                  "state_not": "unavailable"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Paya Lebar Square"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_paya_lebar_square",
                  "template": "homebound_bus"
                },
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Opposite Paya Lebar Square"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_opposite_paya_lebar_square",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                },
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.paya_lebar_station_bus_stops",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.paya_lebar_outer_perimeter",
                      "above": 0
                    }
                  ]
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Our Lady Queen of Peace"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_church_of_our_lady_queen_of_peace",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                },
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.church_of_our_lady_queen_of_peace_bus_stop",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.paya_lebar_outer_perimeter",
                      "above": 0
                    }
                  ]
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Opposite Lorong 39 Geylang"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_opposite_lorong_39_geylang",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                },
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.opposite_lorong_39_geylang_bus_stop",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.paya_lebar_outer_perimeter",
                      "above": 0
                    }
                  ]
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Kallang Station"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_kallang_station",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "numeric_state",
                  "entity": "zone.kallang_station_bus_stop",
                  "above": 0
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Holy Family Church"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_holy_family_church",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.holy_family_church_bus_stop",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.marine_parade_outer_perimeter",
                      "above": 0
                    }
                  ]
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Roxy Square"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_roxy_square",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.roxy_square_bus_stop",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.marine_parade_outer_perimeter",
                      "above": 0
                    }
                  ]
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Parkway Parade"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_parkway_parade",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.parkway_parade_bus_stop",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.marine_parade_outer_perimeter",
                      "above": 0
                    }
                  ]
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon> Anglo Chinese School"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_acs",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "or",
                  "conditions": [
                    {
                      "condition": "numeric_state",
                      "entity": "zone.acs_bus_stop",
                      "above": 0
                    },
                    {
                      "condition": "numeric_state",
                      "entity": "zone.schools_outer_perimeter",
                      "above": 0
                    }
                  ]
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon> Newton Station Exit C"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_newton_station_exit_c",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "numeric_state",
                  "entity": "zone.newton_station_exit_c_bus_stop",
                  "above": 0
                },
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> Lorong G Telok Kurau"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_after_lorong_g_telok_kurau",
                  "template": "homebound_bus"
                },
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:bus-stop\"></ha-icon><ha-icon icon=\"mdi:home-import-outline\"></ha-icon> After Kampong Eunos"
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.bus_stop_after_kampong_eunos",
                  "template": "homebound_bus"
                }
              ],
              "visibility": [
                {
                  "condition": "screen",
                  "media_query": "(min-width: 0px) and (max-width: 767px)"
                },
                {
                  "condition": "numeric_state",
                  "entity": "zone.telok_kurau",
                  "above": 0
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:numeric-1-circle\"></ha-icon> Sims Drive Market"
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_sims_drive_market",
                  "variables": {
                    "busno": 64
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_sims_drive_market",
                  "variables": {
                    "busno": 134
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_sims_drive_market",
                  "variables": {
                    "busno": 137
                  }
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:numeric-2-circle\"></ha-icon> Opposite Aljunied Station"
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_opposite_aljunied_station",
                  "variables": {
                    "busno": 40
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_opposite_aljunied_station",
                  "variables": {
                    "busno": 125
                  }
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:numeric-3-circle\"></ha-icon> Aljunied Station"
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_aljunied_station",
                  "variables": {
                    "busno": 40
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_aljunied_station",
                  "variables": {
                    "busno": 80
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_aljunied_station",
                  "variables": {
                    "busno": 100
                  }
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "markdown",
                  "content": "## <ha-icon icon=\"mdi:numeric-4-circle\"></ha-icon> Before Lorong 23 Geylang"
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_before_lorong_23_geylang",
                  "variables": {
                    "busno": 2
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_before_lorong_23_geylang",
                  "variables": {
                    "busno": 13
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_before_lorong_23_geylang",
                  "variables": {
                    "busno": 26
                  }
                },
                {
                  "type": "custom:button-card",
                  "template": "nextbus",
                  "entity": "sensor.bus_stop_before_lorong_23_geylang",
                  "variables": {
                    "busno": 67
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "condition": "state",
                      "entity": "binary_sensor.bus_stop_before_lorong_23_geylang_service_853m_running",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "custom:button-card",
                    "template": "nextbus",
                    "entity": "sensor.bus_stop_before_lorong_23_geylang",
                    "variables": {
                      "busno": "853M"
                    }
                  }
                }
              ]
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "picture",
                  "image": "/local/floorplan/transit_basemap_numbered.png"
                }
              ]
            }
          ],
          "max_columns": 4,
          "dense_section_placement": true,
          "cards": []
        },
        {
          "title": "Main Door",
          "path": "main-door",
          "icon": "mdi:cctv",
          "theme": "no_border",
          "type": "sections",
          "max_columns": 2,
          "subview": true,
          "sections": [
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "Live Feed",
                  "heading_style": "title",
                  "icon": "mdi:cctv"
                },
                {
                  "type": "tile",
                  "features_position": "bottom",
                  "vertical": false,
                  "entity": "binary_sensor.main_door_motion",
                  "name": " "
                },
                {
                  "type": "tile",
                  "features_position": "bottom",
                  "vertical": false,
                  "entity": "binary_sensor.main_door",
                  "name": " "
                },
                {
                  "show_state": false,
                  "show_name": false,
                  "camera_view": "live",
                  "type": "picture-entity",
                  "camera_image": "camera.main_door_camera",
                  "entity": "camera.main_door_camera",
                  "tap_action": {
                    "action": "more-info"
                  },
                  "hold_action": {
                    "action": "none"
                  },
                  "aspect_ratio": "4:3"
                },
                {
                  "type": "custom:slider-button-card",
                  "entity": "light.main_door_camera_hex_light",
                  "slider": {
                    "direction": "left-right",
                    "background": "solid",
                    "use_state_color": true,
                    "use_percentage_bg_opacity": false,
                    "show_track": false,
                    "toggle_on_click": false,
                    "force_square": false,
                    "show_attribute": false
                  },
                  "show_name": true,
                  "show_state": true,
                  "compact": true,
                  "icon": {
                    "show": true,
                    "use_state_color": true,
                    "tap_action": {
                      "action": "more-info"
                    },
                    "icon": ""
                  },
                  "action_button": {
                    "mode": "toggle",
                    "icon": "mdi:power",
                    "show": false,
                    "show_spinner": true,
                    "tap_action": {
                      "action": "toggle"
                    }
                  },
                  "name": "Hex Light",
                  "attribute": "effect",
                  "show_attribute": true
                }
              ],
              "column_span": 1
            },
            {
              "type": "grid",
              "cards": [
                {
                  "type": "heading",
                  "heading": "Recent Snapshots",
                  "heading_style": "title",
                  "icon": "mdi:film"
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "show_state": false,
                      "show_name": false,
                      "camera_view": "auto",
                      "type": "picture-entity",
                      "entity": "camera.recent_main_door_snapshot_1",
                      "camera_image": "camera.recent_main_door_snapshot_1",
                      "aspect_ratio": "4:3"
                    },
                    {
                      "show_state": false,
                      "show_name": false,
                      "camera_view": "auto",
                      "type": "picture-entity",
                      "entity": "camera.recent_main_door_snapshot_2",
                      "camera_image": "camera.recent_main_door_snapshot_2",
                      "aspect_ratio": "4:3"
                    },
                    {
                      "show_state": false,
                      "show_name": false,
                      "camera_view": "auto",
                      "type": "picture-entity",
                      "entity": "camera.recent_main_door_snapshot_3",
                      "camera_image": "camera.recent_main_door_snapshot_3",
                      "aspect_ratio": "4:3"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "markdown",
                      "content": "<ha-icon icon='mdi:numeric-1-circle'></ha-icon> {{ state_attr('camera.recent_main_door_snapshot_1','file_path')[-10:-8] }}:{{ state_attr('camera.recent_main_door_snapshot_1','file_path')[-8:-6] }}"
                    },
                    {
                      "type": "markdown",
                      "content": "<ha-icon icon='mdi:numeric-2-circle'></ha-icon> {{ state_attr('camera.recent_main_door_snapshot_2','file_path')[-10:-8] }}:{{ state_attr('camera.recent_main_door_snapshot_2','file_path')[-8:-6] }}"
                    },
                    {
                      "type": "markdown",
                      "content": "<ha-icon icon='mdi:numeric-3-circle'></ha-icon> {{ state_attr('camera.recent_main_door_snapshot_3','file_path')[-10:-8] }}:{{ state_attr('camera.recent_main_door_snapshot_3','file_path')[-8:-6] }}"
                    }
                  ]
                }
              ]
            }
          ],
          "cards": []
        },
        {
          "title": "Legend",
          "path": "sensors-legend",
          "icon": "mdi:information-outline",
          "theme": "no_border",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:motion-sensor",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Minutes",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Present",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Clear",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:door-open",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "# Open",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Open",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Closed",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:window-open",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "# Open",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Open",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "color_type": "blank-card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Closed",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:thermometer",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "°C",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Cool",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Warm",
                      "show_label": true,
                      "color": "#f2900f",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Hot",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:water-percent",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "%",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Dry",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Humid",
                      "show_label": true,
                      "color": "#f2900f",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Muggy",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "custom:button-card",
                      "icon": "mdi:brightness-5",
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Lux",
                      "show_label": true,
                      "styles": {
                        "card": [
                          {
                            "background-color": "var(--primary-background-color)"
                          }
                        ]
                      }
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Bright",
                      "show_label": true,
                      "color": "#b4fab4",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Dim",
                      "show_label": true,
                      "color": "#f2900f",
                      "color_type": "card"
                    },
                    {
                      "type": "custom:button-card",
                      "label": "Dark",
                      "show_label": true,
                      "color": "#9e110d",
                      "color_type": "card"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
}